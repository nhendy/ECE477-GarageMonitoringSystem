ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"Ft_Esd_GpuAlloc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Ft_Esd_GpuAlloc_Reset,"ax",%progbits
  18              		.align	1
  19              		.global	Ft_Esd_GpuAlloc_Reset
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	Ft_Esd_GpuAlloc_Reset:
  26              	.LFB3:
  27              		.file 1 "FT_Esd_Framework/Ft_Esd_GpuAlloc.c"
   1:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** /*
   2:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
   3:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** Allocation mechanism for RAM_G.
   4:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
   5:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** */
   6:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
   7:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #include "Ft_Esd.h"
   8:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #include "Ft_Esd_GpuAlloc.h"
   9:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  10:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #include "FT_Platform.h"
  11:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #include "FT_Gpu.h"
  12:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  13:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #ifdef ESD_SIMULATION
  14:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** static int s_ErrorGpuAllocFailed = 0;
  15:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #endif
  16:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  17:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** void Ft_Esd_GpuAlloc_Reset(Ft_Esd_GpuAlloc *ga)
  18:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
  28              		.loc 1 18 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33 0000 80B4     		push	{r7}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 7, -4
  37 0002 85B0     		sub	sp, sp, #20
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 24
  40 0004 00AF     		add	r7, sp, #0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 2


  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
  44              	.LBB2:
  19:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #ifdef ESD_SIMULATION
  20:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	s_ErrorGpuAllocFailed = 0;
  21:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #endif
  22:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  23:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	for (int id = 0; id < MAX_NUM_ALLOCATIONS; ++id)
  45              		.loc 1 23 0
  46 0008 0023     		movs	r3, #0
  47 000a FB60     		str	r3, [r7, #12]
  48 000c 14E0     		b	.L2
  49              	.L3:
  24:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
  25:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocRefs[id].Idx = MAX_NUM_ALLOCATIONS;
  50              		.loc 1 25 0 discriminator 3
  51 000e 7B68     		ldr	r3, [r7, #4]
  52 0010 FA68     		ldr	r2, [r7, #12]
  53 0012 4021     		movs	r1, #64
  54 0014 23F82210 		strh	r1, [r3, r2, lsl #2]	@ movhi
  26:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		++ga->AllocRefs[id].Seq; // Seq is always cycled, initial value not important
  55              		.loc 1 26 0 discriminator 3
  56 0018 7A68     		ldr	r2, [r7, #4]
  57 001a FB68     		ldr	r3, [r7, #12]
  58 001c 9B00     		lsls	r3, r3, #2
  59 001e 1344     		add	r3, r3, r2
  60 0020 5B88     		ldrh	r3, [r3, #2]
  61 0022 0133     		adds	r3, r3, #1
  62 0024 99B2     		uxth	r1, r3
  63 0026 7A68     		ldr	r2, [r7, #4]
  64 0028 FB68     		ldr	r3, [r7, #12]
  65 002a 9B00     		lsls	r3, r3, #2
  66 002c 1344     		add	r3, r3, r2
  67 002e 0A46     		mov	r2, r1	@ movhi
  68 0030 5A80     		strh	r2, [r3, #2]	@ movhi
  23:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
  69              		.loc 1 23 0 discriminator 3
  70 0032 FB68     		ldr	r3, [r7, #12]
  71 0034 0133     		adds	r3, r3, #1
  72 0036 FB60     		str	r3, [r7, #12]
  73              	.L2:
  23:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
  74              		.loc 1 23 0 is_stmt 0 discriminator 1
  75 0038 FB68     		ldr	r3, [r7, #12]
  76 003a 3F2B     		cmp	r3, #63
  77 003c E7D9     		bls	.L3
  78              	.LBE2:
  79              	.LBB3:
  27:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
  28:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  29:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	for (int idx = 0; idx < MAX_NUM_ALLOCATIONS; ++idx)
  80              		.loc 1 29 0 is_stmt 1
  81 003e 0023     		movs	r3, #0
  82 0040 BB60     		str	r3, [r7, #8]
  83 0042 2FE0     		b	.L4
  84              	.L5:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 3


  30:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
  31:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocEntries[idx].Address = RAM_G_SIZE;
  85              		.loc 1 31 0 discriminator 3
  86 0044 7968     		ldr	r1, [r7, #4]
  87 0046 BA68     		ldr	r2, [r7, #8]
  88 0048 1346     		mov	r3, r2
  89 004a 5B00     		lsls	r3, r3, #1
  90 004c 1344     		add	r3, r3, r2
  91 004e 9B00     		lsls	r3, r3, #2
  92 0050 0B44     		add	r3, r3, r1
  93 0052 03F58073 		add	r3, r3, #256
  94 0056 4FF48012 		mov	r2, #1048576
  95 005a 1A60     		str	r2, [r3]
  32:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocEntries[idx].Length = 0;
  96              		.loc 1 32 0 discriminator 3
  97 005c 7968     		ldr	r1, [r7, #4]
  98 005e BA68     		ldr	r2, [r7, #8]
  99 0060 1346     		mov	r3, r2
 100 0062 5B00     		lsls	r3, r3, #1
 101 0064 1344     		add	r3, r3, r2
 102 0066 9B00     		lsls	r3, r3, #2
 103 0068 0B44     		add	r3, r3, r1
 104 006a 03F58273 		add	r3, r3, #260
 105 006e 0022     		movs	r2, #0
 106 0070 1A60     		str	r2, [r3]
  33:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocEntries[idx].Id = MAX_NUM_ALLOCATIONS;
 107              		.loc 1 33 0 discriminator 3
 108 0072 7968     		ldr	r1, [r7, #4]
 109 0074 BA68     		ldr	r2, [r7, #8]
 110 0076 1346     		mov	r3, r2
 111 0078 5B00     		lsls	r3, r3, #1
 112 007a 1344     		add	r3, r3, r2
 113 007c 9B00     		lsls	r3, r3, #2
 114 007e 0B44     		add	r3, r3, r1
 115 0080 03F58473 		add	r3, r3, #264
 116 0084 4022     		movs	r2, #64
 117 0086 1A80     		strh	r2, [r3]	@ movhi
  34:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocEntries[idx].Flags = 0;
 118              		.loc 1 34 0 discriminator 3
 119 0088 7968     		ldr	r1, [r7, #4]
 120 008a BA68     		ldr	r2, [r7, #8]
 121 008c 1346     		mov	r3, r2
 122 008e 5B00     		lsls	r3, r3, #1
 123 0090 1344     		add	r3, r3, r2
 124 0092 9B00     		lsls	r3, r3, #2
 125 0094 0B44     		add	r3, r3, r1
 126 0096 03F58573 		add	r3, r3, #266
 127 009a 0022     		movs	r2, #0
 128 009c 1A80     		strh	r2, [r3]	@ movhi
  29:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 129              		.loc 1 29 0 discriminator 3
 130 009e BB68     		ldr	r3, [r7, #8]
 131 00a0 0133     		adds	r3, r3, #1
 132 00a2 BB60     		str	r3, [r7, #8]
 133              	.L4:
  29:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 134              		.loc 1 29 0 is_stmt 0 discriminator 1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 4


 135 00a4 BB68     		ldr	r3, [r7, #8]
 136 00a6 3F2B     		cmp	r3, #63
 137 00a8 CCD9     		bls	.L5
 138              	.LBE3:
  35:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
  36:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  37:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// First allocation entry is unallocated entry of entire RAM_G_SIZE
  38:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[0].Address = 0;
 139              		.loc 1 38 0 is_stmt 1
 140 00aa 7B68     		ldr	r3, [r7, #4]
 141 00ac 0022     		movs	r2, #0
 142 00ae C3F80021 		str	r2, [r3, #256]
  39:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[0].Length = RAM_G_SIZE;
 143              		.loc 1 39 0
 144 00b2 7B68     		ldr	r3, [r7, #4]
 145 00b4 4FF48012 		mov	r2, #1048576
 146 00b8 C3F80421 		str	r2, [r3, #260]
  40:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->NbAllocEntries = 1;
 147              		.loc 1 40 0
 148 00bc 7B68     		ldr	r3, [r7, #4]
 149 00be 0122     		movs	r2, #1
 150 00c0 C3F80024 		str	r2, [r3, #1024]
  41:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 151              		.loc 1 41 0
 152 00c4 00BF     		nop
 153 00c6 1437     		adds	r7, r7, #20
 154              	.LCFI3:
 155              		.cfi_def_cfa_offset 4
 156 00c8 BD46     		mov	sp, r7
 157              	.LCFI4:
 158              		.cfi_def_cfa_register 13
 159              		@ sp needed
 160 00ca 5DF8047B 		ldr	r7, [sp], #4
 161              	.LCFI5:
 162              		.cfi_restore 7
 163              		.cfi_def_cfa_offset 0
 164 00ce 7047     		bx	lr
 165              		.cfi_endproc
 166              	.LFE3:
 168              		.section	.text.Ft_Esd_GpuAlloc_InsertFree,"ax",%progbits
 169              		.align	1
 170              		.global	Ft_Esd_GpuAlloc_InsertFree
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 174              		.fpu fpv5-sp-d16
 176              	Ft_Esd_GpuAlloc_InsertFree:
 177              	.LFB4:
  42:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  43:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** void Ft_Esd_GpuAlloc_InsertFree(Ft_Esd_GpuAlloc *ga, ft_uint32_t atidx, ft_uint32_t size)
  44:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 178              		.loc 1 44 0
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 24
 181              		@ frame_needed = 1, uses_anonymous_args = 0
 182              		@ link register save eliminated.
 183 0000 80B4     		push	{r7}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 5


 184              	.LCFI6:
 185              		.cfi_def_cfa_offset 4
 186              		.cfi_offset 7, -4
 187 0002 87B0     		sub	sp, sp, #28
 188              	.LCFI7:
 189              		.cfi_def_cfa_offset 32
 190 0004 00AF     		add	r7, sp, #0
 191              	.LCFI8:
 192              		.cfi_def_cfa_register 7
 193 0006 F860     		str	r0, [r7, #12]
 194 0008 B960     		str	r1, [r7, #8]
 195 000a 7A60     		str	r2, [r7, #4]
 196              	.LBB4:
  45:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// First move entries one step forward
  46:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	for (int idx = (ga->NbAllocEntries - 1); idx >= atidx; --idx)
 197              		.loc 1 46 0
 198 000c FB68     		ldr	r3, [r7, #12]
 199 000e D3F80034 		ldr	r3, [r3, #1024]
 200 0012 013B     		subs	r3, r3, #1
 201 0014 7B61     		str	r3, [r7, #20]
 202 0016 31E0     		b	.L7
 203              	.L9:
 204              	.LBB5:
  47:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
  48:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		int id = ga->AllocEntries[idx].Id;
 205              		.loc 1 48 0
 206 0018 F968     		ldr	r1, [r7, #12]
 207 001a 7A69     		ldr	r2, [r7, #20]
 208 001c 1346     		mov	r3, r2
 209 001e 5B00     		lsls	r3, r3, #1
 210 0020 1344     		add	r3, r3, r2
 211 0022 9B00     		lsls	r3, r3, #2
 212 0024 0B44     		add	r3, r3, r1
 213 0026 03F58473 		add	r3, r3, #264
 214 002a 1B88     		ldrh	r3, [r3]
 215 002c 3B61     		str	r3, [r7, #16]
  49:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		if (id < MAX_NUM_ALLOCATIONS)
 216              		.loc 1 49 0
 217 002e 3B69     		ldr	r3, [r7, #16]
 218 0030 3F2B     		cmp	r3, #63
 219 0032 09D8     		bhi	.L8
  50:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
  51:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			// Move reference idx one ahead
  52:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			++ga->AllocRefs[id].Idx;
 220              		.loc 1 52 0
 221 0034 FB68     		ldr	r3, [r7, #12]
 222 0036 3A69     		ldr	r2, [r7, #16]
 223 0038 33F82230 		ldrh	r3, [r3, r2, lsl #2]
 224 003c 0133     		adds	r3, r3, #1
 225 003e 99B2     		uxth	r1, r3
 226 0040 FB68     		ldr	r3, [r7, #12]
 227 0042 3A69     		ldr	r2, [r7, #16]
 228 0044 23F82210 		strh	r1, [r3, r2, lsl #2]	@ movhi
 229              	.L8:
  53:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		}
  54:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocEntries[idx + 1] = ga->AllocEntries[idx];
 230              		.loc 1 54 0 discriminator 2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 6


 231 0048 7B69     		ldr	r3, [r7, #20]
 232 004a 5A1C     		adds	r2, r3, #1
 233 004c F968     		ldr	r1, [r7, #12]
 234 004e 1346     		mov	r3, r2
 235 0050 5B00     		lsls	r3, r3, #1
 236 0052 1344     		add	r3, r3, r2
 237 0054 9B00     		lsls	r3, r3, #2
 238 0056 0B44     		add	r3, r3, r1
 239 0058 03F58070 		add	r0, r3, #256
 240 005c F968     		ldr	r1, [r7, #12]
 241 005e 7A69     		ldr	r2, [r7, #20]
 242 0060 1346     		mov	r3, r2
 243 0062 5B00     		lsls	r3, r3, #1
 244 0064 1344     		add	r3, r3, r2
 245 0066 9B00     		lsls	r3, r3, #2
 246 0068 0B44     		add	r3, r3, r1
 247 006a 03F58072 		add	r2, r3, #256
 248 006e 0346     		mov	r3, r0
 249 0070 07CA     		ldm	r2, {r0, r1, r2}
 250 0072 83E80700 		stm	r3, {r0, r1, r2}
 251              	.LBE5:
  46:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 252              		.loc 1 46 0 discriminator 2
 253 0076 7B69     		ldr	r3, [r7, #20]
 254 0078 013B     		subs	r3, r3, #1
 255 007a 7B61     		str	r3, [r7, #20]
 256              	.L7:
  46:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 257              		.loc 1 46 0 is_stmt 0 discriminator 1
 258 007c 7B69     		ldr	r3, [r7, #20]
 259 007e BA68     		ldr	r2, [r7, #8]
 260 0080 9A42     		cmp	r2, r3
 261 0082 C9D9     		bls	.L9
 262              	.LBE4:
  55:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
  56:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  57:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// Set the free space entry
  58:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[atidx].Address = ga->AllocEntries[atidx - 1].Address + ga->AllocEntries[atidx - 1
 263              		.loc 1 58 0 is_stmt 1
 264 0084 BB68     		ldr	r3, [r7, #8]
 265 0086 5A1E     		subs	r2, r3, #1
 266 0088 F968     		ldr	r1, [r7, #12]
 267 008a 1346     		mov	r3, r2
 268 008c 5B00     		lsls	r3, r3, #1
 269 008e 1344     		add	r3, r3, r2
 270 0090 9B00     		lsls	r3, r3, #2
 271 0092 0B44     		add	r3, r3, r1
 272 0094 03F58073 		add	r3, r3, #256
 273 0098 1968     		ldr	r1, [r3]
 274 009a BB68     		ldr	r3, [r7, #8]
 275 009c 5A1E     		subs	r2, r3, #1
 276 009e F868     		ldr	r0, [r7, #12]
 277 00a0 1346     		mov	r3, r2
 278 00a2 5B00     		lsls	r3, r3, #1
 279 00a4 1344     		add	r3, r3, r2
 280 00a6 9B00     		lsls	r3, r3, #2
 281 00a8 0344     		add	r3, r3, r0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 7


 282 00aa 03F58273 		add	r3, r3, #260
 283 00ae 1B68     		ldr	r3, [r3]
 284 00b0 1944     		add	r1, r1, r3
 285 00b2 F868     		ldr	r0, [r7, #12]
 286 00b4 BA68     		ldr	r2, [r7, #8]
 287 00b6 1346     		mov	r3, r2
 288 00b8 5B00     		lsls	r3, r3, #1
 289 00ba 1344     		add	r3, r3, r2
 290 00bc 9B00     		lsls	r3, r3, #2
 291 00be 0344     		add	r3, r3, r0
 292 00c0 03F58073 		add	r3, r3, #256
 293 00c4 1960     		str	r1, [r3]
  59:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[atidx].Length = size;
 294              		.loc 1 59 0
 295 00c6 F968     		ldr	r1, [r7, #12]
 296 00c8 BA68     		ldr	r2, [r7, #8]
 297 00ca 1346     		mov	r3, r2
 298 00cc 5B00     		lsls	r3, r3, #1
 299 00ce 1344     		add	r3, r3, r2
 300 00d0 9B00     		lsls	r3, r3, #2
 301 00d2 0B44     		add	r3, r3, r1
 302 00d4 03F58273 		add	r3, r3, #260
 303 00d8 7A68     		ldr	r2, [r7, #4]
 304 00da 1A60     		str	r2, [r3]
  60:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[atidx].Id = MAX_NUM_ALLOCATIONS;
 305              		.loc 1 60 0
 306 00dc F968     		ldr	r1, [r7, #12]
 307 00de BA68     		ldr	r2, [r7, #8]
 308 00e0 1346     		mov	r3, r2
 309 00e2 5B00     		lsls	r3, r3, #1
 310 00e4 1344     		add	r3, r3, r2
 311 00e6 9B00     		lsls	r3, r3, #2
 312 00e8 0B44     		add	r3, r3, r1
 313 00ea 03F58473 		add	r3, r3, #264
 314 00ee 4022     		movs	r2, #64
 315 00f0 1A80     		strh	r2, [r3]	@ movhi
  61:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[atidx].Flags = 0;
 316              		.loc 1 61 0
 317 00f2 F968     		ldr	r1, [r7, #12]
 318 00f4 BA68     		ldr	r2, [r7, #8]
 319 00f6 1346     		mov	r3, r2
 320 00f8 5B00     		lsls	r3, r3, #1
 321 00fa 1344     		add	r3, r3, r2
 322 00fc 9B00     		lsls	r3, r3, #2
 323 00fe 0B44     		add	r3, r3, r1
 324 0100 03F58573 		add	r3, r3, #266
 325 0104 0022     		movs	r2, #0
 326 0106 1A80     		strh	r2, [r3]	@ movhi
  62:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	++ga->NbAllocEntries;
 327              		.loc 1 62 0
 328 0108 FB68     		ldr	r3, [r7, #12]
 329 010a D3F80034 		ldr	r3, [r3, #1024]
 330 010e 5A1C     		adds	r2, r3, #1
 331 0110 FB68     		ldr	r3, [r7, #12]
 332 0112 C3F80024 		str	r2, [r3, #1024]
  63:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 333              		.loc 1 63 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 8


 334 0116 00BF     		nop
 335 0118 1C37     		adds	r7, r7, #28
 336              	.LCFI9:
 337              		.cfi_def_cfa_offset 4
 338 011a BD46     		mov	sp, r7
 339              	.LCFI10:
 340              		.cfi_def_cfa_register 13
 341              		@ sp needed
 342 011c 5DF8047B 		ldr	r7, [sp], #4
 343              	.LCFI11:
 344              		.cfi_restore 7
 345              		.cfi_def_cfa_offset 0
 346 0120 7047     		bx	lr
 347              		.cfi_endproc
 348              	.LFE4:
 350              		.section	.text.Ft_Esd_GpuAlloc_Alloc,"ax",%progbits
 351              		.align	1
 352              		.global	Ft_Esd_GpuAlloc_Alloc
 353              		.syntax unified
 354              		.thumb
 355              		.thumb_func
 356              		.fpu fpv5-sp-d16
 358              	Ft_Esd_GpuAlloc_Alloc:
 359              	.LFB5:
  64:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  65:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** Ft_Esd_GpuHandle Ft_Esd_GpuAlloc_Alloc(Ft_Esd_GpuAlloc *ga, ft_uint32_t size, ft_uint16_t flags)
  66:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 360              		.loc 1 66 0
 361              		.cfi_startproc
 362              		@ args = 0, pretend = 0, frame = 32
 363              		@ frame_needed = 1, uses_anonymous_args = 0
 364 0000 80B5     		push	{r7, lr}
 365              	.LCFI12:
 366              		.cfi_def_cfa_offset 8
 367              		.cfi_offset 7, -8
 368              		.cfi_offset 14, -4
 369 0002 88B0     		sub	sp, sp, #32
 370              	.LCFI13:
 371              		.cfi_def_cfa_offset 40
 372 0004 00AF     		add	r7, sp, #0
 373              	.LCFI14:
 374              		.cfi_def_cfa_register 7
 375 0006 F860     		str	r0, [r7, #12]
 376 0008 B960     		str	r1, [r7, #8]
 377 000a 1346     		mov	r3, r2
 378 000c FB80     		strh	r3, [r7, #6]	@ movhi
  67:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	if (ga->NbAllocEntries >= MAX_NUM_ALLOCATIONS)
 379              		.loc 1 67 0
 380 000e FB68     		ldr	r3, [r7, #12]
 381 0010 D3F80034 		ldr	r3, [r3, #1024]
 382 0014 3F2B     		cmp	r3, #63
 383 0016 00F29880 		bhi	.L21
  68:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
  69:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		goto ReturnInvalidHandle;
  70:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
  71:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  72:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// Always align size to 4 bytes
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 9


  73:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	size = (size + 3UL) & ~3UL;
 384              		.loc 1 73 0
 385 001a BB68     		ldr	r3, [r7, #8]
 386 001c 0333     		adds	r3, r3, #3
 387 001e 23F00303 		bic	r3, r3, #3
 388 0022 BB60     		str	r3, [r7, #8]
 389              	.LBB6:
  74:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  75:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// Scan through the AllocEntries, find the first open allocation that is large enough
  76:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	for (int idx = 0; idx < ga->NbAllocEntries; ++idx)
 390              		.loc 1 76 0
 391 0024 0023     		movs	r3, #0
 392 0026 FB61     		str	r3, [r7, #28]
 393 0028 87E0     		b	.L13
 394              	.L20:
  77:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
  78:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		// Check if allocation entry is unallocated and large enough
  79:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		if (ga->AllocEntries[idx].Id == MAX_NUM_ALLOCATIONS
 395              		.loc 1 79 0
 396 002a F968     		ldr	r1, [r7, #12]
 397 002c FA69     		ldr	r2, [r7, #28]
 398 002e 1346     		mov	r3, r2
 399 0030 5B00     		lsls	r3, r3, #1
 400 0032 1344     		add	r3, r3, r2
 401 0034 9B00     		lsls	r3, r3, #2
 402 0036 0B44     		add	r3, r3, r1
 403 0038 03F58473 		add	r3, r3, #264
 404 003c 1B88     		ldrh	r3, [r3]
 405 003e 402B     		cmp	r3, #64
 406 0040 78D1     		bne	.L14
  80:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			&& ga->AllocEntries[idx].Length >= size)
 407              		.loc 1 80 0
 408 0042 F968     		ldr	r1, [r7, #12]
 409 0044 FA69     		ldr	r2, [r7, #28]
 410 0046 1346     		mov	r3, r2
 411 0048 5B00     		lsls	r3, r3, #1
 412 004a 1344     		add	r3, r3, r2
 413 004c 9B00     		lsls	r3, r3, #2
 414 004e 0B44     		add	r3, r3, r1
 415 0050 03F58273 		add	r3, r3, #260
 416 0054 1B68     		ldr	r3, [r3]
 417 0056 BA68     		ldr	r2, [r7, #8]
 418 0058 9A42     		cmp	r2, r3
 419 005a 6BD8     		bhi	.L14
 420              	.LBB7:
  81:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
  82:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			// Find an unused handle
  83:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			for (int id = 0; id < MAX_NUM_ALLOCATIONS; ++id)
 421              		.loc 1 83 0
 422 005c 0023     		movs	r3, #0
 423 005e BB61     		str	r3, [r7, #24]
 424 0060 64E0     		b	.L15
 425              	.L19:
  84:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			{
  85:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 				if (ga->AllocRefs[id].Idx == MAX_NUM_ALLOCATIONS)
 426              		.loc 1 85 0
 427 0062 FB68     		ldr	r3, [r7, #12]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 10


 428 0064 BA69     		ldr	r2, [r7, #24]
 429 0066 33F82230 		ldrh	r3, [r3, r2, lsl #2]
 430 006a 402B     		cmp	r3, #64
 431 006c 5BD1     		bne	.L16
 432              	.LBB8:
  86:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 				{
  87:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					// Allocate this block
  88:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					ft_uint32_t remaining = ga->AllocEntries[idx].Length - size;
 433              		.loc 1 88 0
 434 006e F968     		ldr	r1, [r7, #12]
 435 0070 FA69     		ldr	r2, [r7, #28]
 436 0072 1346     		mov	r3, r2
 437 0074 5B00     		lsls	r3, r3, #1
 438 0076 1344     		add	r3, r3, r2
 439 0078 9B00     		lsls	r3, r3, #2
 440 007a 0B44     		add	r3, r3, r1
 441 007c 03F58273 		add	r3, r3, #260
 442 0080 1A68     		ldr	r2, [r3]
 443 0082 BB68     		ldr	r3, [r7, #8]
 444 0084 D31A     		subs	r3, r2, r3
 445 0086 7B61     		str	r3, [r7, #20]
  89:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					ga->AllocEntries[idx].Length = size;
 446              		.loc 1 89 0
 447 0088 F968     		ldr	r1, [r7, #12]
 448 008a FA69     		ldr	r2, [r7, #28]
 449 008c 1346     		mov	r3, r2
 450 008e 5B00     		lsls	r3, r3, #1
 451 0090 1344     		add	r3, r3, r2
 452 0092 9B00     		lsls	r3, r3, #2
 453 0094 0B44     		add	r3, r3, r1
 454 0096 03F58273 		add	r3, r3, #260
 455 009a BA68     		ldr	r2, [r7, #8]
 456 009c 1A60     		str	r2, [r3]
  90:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					ga->AllocEntries[idx].Id = id;
 457              		.loc 1 90 0
 458 009e BB69     		ldr	r3, [r7, #24]
 459 00a0 98B2     		uxth	r0, r3
 460 00a2 F968     		ldr	r1, [r7, #12]
 461 00a4 FA69     		ldr	r2, [r7, #28]
 462 00a6 1346     		mov	r3, r2
 463 00a8 5B00     		lsls	r3, r3, #1
 464 00aa 1344     		add	r3, r3, r2
 465 00ac 9B00     		lsls	r3, r3, #2
 466 00ae 0B44     		add	r3, r3, r1
 467 00b0 03F58473 		add	r3, r3, #264
 468 00b4 0246     		mov	r2, r0	@ movhi
 469 00b6 1A80     		strh	r2, [r3]	@ movhi
  91:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					flags |= GA_USED_FLAG;
 470              		.loc 1 91 0
 471 00b8 FB88     		ldrh	r3, [r7, #6]	@ movhi
 472 00ba 43F00203 		orr	r3, r3, #2
 473 00be FB80     		strh	r3, [r7, #6]	@ movhi
  92:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					ga->AllocEntries[idx].Flags = flags;
 474              		.loc 1 92 0
 475 00c0 F968     		ldr	r1, [r7, #12]
 476 00c2 FA69     		ldr	r2, [r7, #28]
 477 00c4 1346     		mov	r3, r2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 11


 478 00c6 5B00     		lsls	r3, r3, #1
 479 00c8 1344     		add	r3, r3, r2
 480 00ca 9B00     		lsls	r3, r3, #2
 481 00cc 0B44     		add	r3, r3, r1
 482 00ce 03F58573 		add	r3, r3, #266
 483 00d2 FA88     		ldrh	r2, [r7, #6]	@ movhi
 484 00d4 1A80     		strh	r2, [r3]	@ movhi
  93:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					ga->AllocRefs[id].Idx = idx;
 485              		.loc 1 93 0
 486 00d6 FB69     		ldr	r3, [r7, #28]
 487 00d8 99B2     		uxth	r1, r3
 488 00da FB68     		ldr	r3, [r7, #12]
 489 00dc BA69     		ldr	r2, [r7, #24]
 490 00de 23F82210 		strh	r1, [r3, r2, lsl #2]	@ movhi
  94:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					++ga->AllocRefs[id].Seq;
 491              		.loc 1 94 0
 492 00e2 FA68     		ldr	r2, [r7, #12]
 493 00e4 BB69     		ldr	r3, [r7, #24]
 494 00e6 9B00     		lsls	r3, r3, #2
 495 00e8 1344     		add	r3, r3, r2
 496 00ea 5B88     		ldrh	r3, [r3, #2]
 497 00ec 0133     		adds	r3, r3, #1
 498 00ee 99B2     		uxth	r1, r3
 499 00f0 FA68     		ldr	r2, [r7, #12]
 500 00f2 BB69     		ldr	r3, [r7, #24]
 501 00f4 9B00     		lsls	r3, r3, #2
 502 00f6 1344     		add	r3, r3, r2
 503 00f8 0A46     		mov	r2, r1	@ movhi
 504 00fa 5A80     		strh	r2, [r3, #2]	@ movhi
  95:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
  96:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					// Insert free space entry after
  97:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					if (remaining)
 505              		.loc 1 97 0
 506 00fc 7B69     		ldr	r3, [r7, #20]
 507 00fe 002B     		cmp	r3, #0
 508 0100 06D0     		beq	.L17
  98:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					{
  99:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 						Ft_Esd_GpuAlloc_InsertFree(ga, idx + 1, remaining);
 509              		.loc 1 99 0
 510 0102 FB69     		ldr	r3, [r7, #28]
 511 0104 0133     		adds	r3, r3, #1
 512 0106 7A69     		ldr	r2, [r7, #20]
 513 0108 1946     		mov	r1, r3
 514 010a F868     		ldr	r0, [r7, #12]
 515 010c FFF7FEFF 		bl	Ft_Esd_GpuAlloc_InsertFree
 516              	.L17:
 100:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					}
 101:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 102:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #ifdef ESD_SIMULATION
 103:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					s_ErrorGpuAllocFailed = 0;
 104:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #endif
 105:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 106:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					// printf("Alloc id %i\n", id);
 107:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 108:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					// Return the valid gpu ram handle
 109:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					return (Ft_Esd_GpuHandle) {
 517              		.loc 1 109 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 12


 518 0110 BB69     		ldr	r3, [r7, #24]
 519 0112 99B2     		uxth	r1, r3
 110:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 						.Id = id,
 111:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 						.Seq = ga->AllocRefs[id].Seq
 520              		.loc 1 111 0
 521 0114 FA68     		ldr	r2, [r7, #12]
 522 0116 BB69     		ldr	r3, [r7, #24]
 523 0118 9B00     		lsls	r3, r3, #2
 524 011a 1344     		add	r3, r3, r2
 525 011c 5B88     		ldrh	r3, [r3, #2]
 109:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 						.Id = id,
 526              		.loc 1 109 0
 527 011e 0A46     		mov	r2, r1	@ movhi
 528 0120 3A82     		strh	r2, [r7, #16]	@ movhi
 529 0122 7B82     		strh	r3, [r7, #18]	@ movhi
 530 0124 16E0     		b	.L18
 531              	.L16:
 532              	.LBE8:
  83:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			{
 533              		.loc 1 83 0 discriminator 2
 534 0126 BB69     		ldr	r3, [r7, #24]
 535 0128 0133     		adds	r3, r3, #1
 536 012a BB61     		str	r3, [r7, #24]
 537              	.L15:
  83:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			{
 538              		.loc 1 83 0 is_stmt 0 discriminator 1
 539 012c BB69     		ldr	r3, [r7, #24]
 540 012e 3F2B     		cmp	r3, #63
 541 0130 97D9     		bls	.L19
 542              	.LBE7:
 112:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					};
 113:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 				}
 114:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			}
 115:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 116:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			// No invalid handle found
 117:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			goto ReturnInvalidHandle;
 543              		.loc 1 117 0 is_stmt 1
 544 0132 0BE0     		b	.L12
 545              	.L14:
  76:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 546              		.loc 1 76 0 discriminator 2
 547 0134 FB69     		ldr	r3, [r7, #28]
 548 0136 0133     		adds	r3, r3, #1
 549 0138 FB61     		str	r3, [r7, #28]
 550              	.L13:
  76:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 551              		.loc 1 76 0 is_stmt 0 discriminator 1
 552 013a FB68     		ldr	r3, [r7, #12]
 553 013c D3F80024 		ldr	r2, [r3, #1024]
 554 0140 FB69     		ldr	r3, [r7, #28]
 555 0142 9A42     		cmp	r2, r3
 556 0144 3FF671AF 		bhi	.L20
 557              	.LBE6:
 118:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		}
 119:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 120:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 121:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// No space left, return an invalid allocation handle...
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 13


 122:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** ReturnInvalidHandle:
 558              		.loc 1 122 0 is_stmt 1
 559 0148 00E0     		b	.L12
 560              	.L21:
  69:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 561              		.loc 1 69 0
 562 014a 00BF     		nop
 563              	.L12:
 123:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 124:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #ifdef ESD_SIMULATION
 125:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	if (!s_ErrorGpuAllocFailed)
 126:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 127:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		Ft_Esd_LogError("Unable to allocate RAM_G space");
 128:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		s_ErrorGpuAllocFailed = 1;
 129:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 130:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #endif
 131:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 132:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	return (Ft_Esd_GpuHandle) {
 564              		.loc 1 132 0
 565 014c 4023     		movs	r3, #64
 566 014e 3B82     		strh	r3, [r7, #16]	@ movhi
 567 0150 0023     		movs	r3, #0
 568 0152 7B82     		strh	r3, [r7, #18]	@ movhi
 569              	.L18:
 570 0154 0023     		movs	r3, #0
 571 0156 3A8A     		ldrh	r2, [r7, #16]
 572 0158 62F30F03 		bfi	r3, r2, #0, #16
 573 015c 7A8A     		ldrh	r2, [r7, #18]
 574 015e 62F31F43 		bfi	r3, r2, #16, #16
 133:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		.Id = MAX_NUM_ALLOCATIONS,
 134:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		.Seq = 0
 135:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	};
 136:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 575              		.loc 1 136 0
 576 0162 1846     		mov	r0, r3
 577 0164 2037     		adds	r7, r7, #32
 578              	.LCFI15:
 579              		.cfi_def_cfa_offset 8
 580 0166 BD46     		mov	sp, r7
 581              	.LCFI16:
 582              		.cfi_def_cfa_register 13
 583              		@ sp needed
 584 0168 80BD     		pop	{r7, pc}
 585              		.cfi_endproc
 586              	.LFE5:
 588              		.section	.text.Ft_Esd_GpuAlloc_Get,"ax",%progbits
 589              		.align	1
 590              		.global	Ft_Esd_GpuAlloc_Get
 591              		.syntax unified
 592              		.thumb
 593              		.thumb_func
 594              		.fpu fpv5-sp-d16
 596              	Ft_Esd_GpuAlloc_Get:
 597              	.LFB6:
 137:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 138:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** ft_uint32_t Ft_Esd_GpuAlloc_Get(Ft_Esd_GpuAlloc *ga, Ft_Esd_GpuHandle handle)
 139:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 14


 598              		.loc 1 139 0
 599              		.cfi_startproc
 600              		@ args = 0, pretend = 0, frame = 16
 601              		@ frame_needed = 1, uses_anonymous_args = 0
 602              		@ link register save eliminated.
 603 0000 80B4     		push	{r7}
 604              	.LCFI17:
 605              		.cfi_def_cfa_offset 4
 606              		.cfi_offset 7, -4
 607 0002 85B0     		sub	sp, sp, #20
 608              	.LCFI18:
 609              		.cfi_def_cfa_offset 24
 610 0004 00AF     		add	r7, sp, #0
 611              	.LCFI19:
 612              		.cfi_def_cfa_register 7
 613 0006 7860     		str	r0, [r7, #4]
 614 0008 3960     		str	r1, [r7]
 140:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	if (handle.Id < MAX_NUM_ALLOCATIONS)
 615              		.loc 1 140 0
 616 000a 3B88     		ldrh	r3, [r7]
 617 000c 3F2B     		cmp	r3, #63
 618 000e 31D8     		bhi	.L23
 141:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 142:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		if (ga->AllocRefs[handle.Id].Seq == handle.Seq)
 619              		.loc 1 142 0
 620 0010 3B88     		ldrh	r3, [r7]
 621 0012 7A68     		ldr	r2, [r7, #4]
 622 0014 9B00     		lsls	r3, r3, #2
 623 0016 1344     		add	r3, r3, r2
 624 0018 5A88     		ldrh	r2, [r3, #2]
 625 001a 7B88     		ldrh	r3, [r7, #2]
 626 001c 9A42     		cmp	r2, r3
 627 001e 29D1     		bne	.L23
 628              	.LBB9:
 143:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
 144:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			ft_uint16_t id = handle.Id;
 629              		.loc 1 144 0
 630 0020 3B88     		ldrh	r3, [r7]	@ movhi
 631 0022 FB81     		strh	r3, [r7, #14]	@ movhi
 145:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			ft_uint16_t idx = ga->AllocRefs[id].Idx;
 632              		.loc 1 145 0
 633 0024 FA89     		ldrh	r2, [r7, #14]
 634 0026 7B68     		ldr	r3, [r7, #4]
 635 0028 33F82230 		ldrh	r3, [r3, r2, lsl #2]	@ movhi
 636 002c BB81     		strh	r3, [r7, #12]	@ movhi
 146:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			ga->AllocEntries[idx].Flags |= GA_USED_FLAG;
 637              		.loc 1 146 0
 638 002e BA89     		ldrh	r2, [r7, #12]
 639 0030 7968     		ldr	r1, [r7, #4]
 640 0032 1346     		mov	r3, r2
 641 0034 5B00     		lsls	r3, r3, #1
 642 0036 1344     		add	r3, r3, r2
 643 0038 9B00     		lsls	r3, r3, #2
 644 003a 0B44     		add	r3, r3, r1
 645 003c 03F58573 		add	r3, r3, #266
 646 0040 1B88     		ldrh	r3, [r3]
 647 0042 BA89     		ldrh	r2, [r7, #12]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 15


 648 0044 43F00203 		orr	r3, r3, #2
 649 0048 98B2     		uxth	r0, r3
 650 004a 7968     		ldr	r1, [r7, #4]
 651 004c 1346     		mov	r3, r2
 652 004e 5B00     		lsls	r3, r3, #1
 653 0050 1344     		add	r3, r3, r2
 654 0052 9B00     		lsls	r3, r3, #2
 655 0054 0B44     		add	r3, r3, r1
 656 0056 03F58573 		add	r3, r3, #266
 657 005a 0246     		mov	r2, r0	@ movhi
 658 005c 1A80     		strh	r2, [r3]	@ movhi
 147:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			return ga->AllocEntries[idx].Address;
 659              		.loc 1 147 0
 660 005e BA89     		ldrh	r2, [r7, #12]
 661 0060 7968     		ldr	r1, [r7, #4]
 662 0062 1346     		mov	r3, r2
 663 0064 5B00     		lsls	r3, r3, #1
 664 0066 1344     		add	r3, r3, r2
 665 0068 9B00     		lsls	r3, r3, #2
 666 006a 0B44     		add	r3, r3, r1
 667 006c 03F58073 		add	r3, r3, #256
 668 0070 1B68     		ldr	r3, [r3]
 669 0072 01E0     		b	.L24
 670              	.L23:
 671              	.LBE9:
 148:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		}
 149:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 150:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 151:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	return ~0;
 672              		.loc 1 151 0
 673 0074 4FF0FF33 		mov	r3, #-1
 674              	.L24:
 152:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 675              		.loc 1 152 0
 676 0078 1846     		mov	r0, r3
 677 007a 1437     		adds	r7, r7, #20
 678              	.LCFI20:
 679              		.cfi_def_cfa_offset 4
 680 007c BD46     		mov	sp, r7
 681              	.LCFI21:
 682              		.cfi_def_cfa_register 13
 683              		@ sp needed
 684 007e 5DF8047B 		ldr	r7, [sp], #4
 685              	.LCFI22:
 686              		.cfi_restore 7
 687              		.cfi_def_cfa_offset 0
 688 0082 7047     		bx	lr
 689              		.cfi_endproc
 690              	.LFE6:
 692              		.section	.text.Ft_Esd_GpuAlloc_CollapseFree,"ax",%progbits
 693              		.align	1
 694              		.global	Ft_Esd_GpuAlloc_CollapseFree
 695              		.syntax unified
 696              		.thumb
 697              		.thumb_func
 698              		.fpu fpv5-sp-d16
 700              	Ft_Esd_GpuAlloc_CollapseFree:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 16


 701              	.LFB7:
 153:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 154:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** void Ft_Esd_GpuAlloc_CollapseFree(Ft_Esd_GpuAlloc *ga, ft_uint32_t idxat)
 155:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 702              		.loc 1 155 0
 703              		.cfi_startproc
 704              		@ args = 0, pretend = 0, frame = 24
 705              		@ frame_needed = 1, uses_anonymous_args = 0
 706              		@ link register save eliminated.
 707 0000 80B4     		push	{r7}
 708              	.LCFI23:
 709              		.cfi_def_cfa_offset 4
 710              		.cfi_offset 7, -4
 711 0002 87B0     		sub	sp, sp, #28
 712              	.LCFI24:
 713              		.cfi_def_cfa_offset 32
 714 0004 00AF     		add	r7, sp, #0
 715              	.LCFI25:
 716              		.cfi_def_cfa_register 7
 717 0006 7860     		str	r0, [r7, #4]
 718 0008 3960     		str	r1, [r7]
 156:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	int shift = 0;
 719              		.loc 1 156 0
 720 000a 0023     		movs	r3, #0
 721 000c 7B61     		str	r3, [r7, #20]
 157:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	if (idxat + 1 < ga->NbAllocEntries && ga->AllocEntries[idxat + 1].Id == MAX_NUM_ALLOCATIONS)
 722              		.loc 1 157 0
 723 000e 3B68     		ldr	r3, [r7]
 724 0010 5A1C     		adds	r2, r3, #1
 725 0012 7B68     		ldr	r3, [r7, #4]
 726 0014 D3F80034 		ldr	r3, [r3, #1024]
 727 0018 9A42     		cmp	r2, r3
 728 001a 2FD2     		bcs	.L26
 729              		.loc 1 157 0 is_stmt 0 discriminator 1
 730 001c 3B68     		ldr	r3, [r7]
 731 001e 5A1C     		adds	r2, r3, #1
 732 0020 7968     		ldr	r1, [r7, #4]
 733 0022 1346     		mov	r3, r2
 734 0024 5B00     		lsls	r3, r3, #1
 735 0026 1344     		add	r3, r3, r2
 736 0028 9B00     		lsls	r3, r3, #2
 737 002a 0B44     		add	r3, r3, r1
 738 002c 03F58473 		add	r3, r3, #264
 739 0030 1B88     		ldrh	r3, [r3]
 740 0032 402B     		cmp	r3, #64
 741 0034 22D1     		bne	.L26
 158:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 159:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		// Next entry is free, add to collapse
 160:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		++shift;
 742              		.loc 1 160 0 is_stmt 1
 743 0036 7B69     		ldr	r3, [r7, #20]
 744 0038 0133     		adds	r3, r3, #1
 745 003a 7B61     		str	r3, [r7, #20]
 161:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocEntries[idxat].Length += ga->AllocEntries[idxat + 1].Length;
 746              		.loc 1 161 0
 747 003c 7968     		ldr	r1, [r7, #4]
 748 003e 3A68     		ldr	r2, [r7]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 17


 749 0040 1346     		mov	r3, r2
 750 0042 5B00     		lsls	r3, r3, #1
 751 0044 1344     		add	r3, r3, r2
 752 0046 9B00     		lsls	r3, r3, #2
 753 0048 0B44     		add	r3, r3, r1
 754 004a 03F58273 		add	r3, r3, #260
 755 004e 1968     		ldr	r1, [r3]
 756 0050 3B68     		ldr	r3, [r7]
 757 0052 5A1C     		adds	r2, r3, #1
 758 0054 7868     		ldr	r0, [r7, #4]
 759 0056 1346     		mov	r3, r2
 760 0058 5B00     		lsls	r3, r3, #1
 761 005a 1344     		add	r3, r3, r2
 762 005c 9B00     		lsls	r3, r3, #2
 763 005e 0344     		add	r3, r3, r0
 764 0060 03F58273 		add	r3, r3, #260
 765 0064 1B68     		ldr	r3, [r3]
 766 0066 1944     		add	r1, r1, r3
 767 0068 7868     		ldr	r0, [r7, #4]
 768 006a 3A68     		ldr	r2, [r7]
 769 006c 1346     		mov	r3, r2
 770 006e 5B00     		lsls	r3, r3, #1
 771 0070 1344     		add	r3, r3, r2
 772 0072 9B00     		lsls	r3, r3, #2
 773 0074 0344     		add	r3, r3, r0
 774 0076 03F58273 		add	r3, r3, #260
 775 007a 1960     		str	r1, [r3]
 776              	.L26:
 162:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 163:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	if (idxat > 0 && ga->AllocEntries[idxat - 1].Id == MAX_NUM_ALLOCATIONS)
 777              		.loc 1 163 0
 778 007c 3B68     		ldr	r3, [r7]
 779 007e 002B     		cmp	r3, #0
 780 0080 32D0     		beq	.L27
 781              		.loc 1 163 0 is_stmt 0 discriminator 1
 782 0082 3B68     		ldr	r3, [r7]
 783 0084 5A1E     		subs	r2, r3, #1
 784 0086 7968     		ldr	r1, [r7, #4]
 785 0088 1346     		mov	r3, r2
 786 008a 5B00     		lsls	r3, r3, #1
 787 008c 1344     		add	r3, r3, r2
 788 008e 9B00     		lsls	r3, r3, #2
 789 0090 0B44     		add	r3, r3, r1
 790 0092 03F58473 		add	r3, r3, #264
 791 0096 1B88     		ldrh	r3, [r3]
 792 0098 402B     		cmp	r3, #64
 793 009a 25D1     		bne	.L27
 164:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 165:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		// Previous entry is free, add to collapse
 166:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		--idxat;
 794              		.loc 1 166 0 is_stmt 1
 795 009c 3B68     		ldr	r3, [r7]
 796 009e 013B     		subs	r3, r3, #1
 797 00a0 3B60     		str	r3, [r7]
 167:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		++shift;
 798              		.loc 1 167 0
 799 00a2 7B69     		ldr	r3, [r7, #20]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 18


 800 00a4 0133     		adds	r3, r3, #1
 801 00a6 7B61     		str	r3, [r7, #20]
 168:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->AllocEntries[idxat].Length += ga->AllocEntries[idxat + 1].Length;
 802              		.loc 1 168 0
 803 00a8 7968     		ldr	r1, [r7, #4]
 804 00aa 3A68     		ldr	r2, [r7]
 805 00ac 1346     		mov	r3, r2
 806 00ae 5B00     		lsls	r3, r3, #1
 807 00b0 1344     		add	r3, r3, r2
 808 00b2 9B00     		lsls	r3, r3, #2
 809 00b4 0B44     		add	r3, r3, r1
 810 00b6 03F58273 		add	r3, r3, #260
 811 00ba 1968     		ldr	r1, [r3]
 812 00bc 3B68     		ldr	r3, [r7]
 813 00be 5A1C     		adds	r2, r3, #1
 814 00c0 7868     		ldr	r0, [r7, #4]
 815 00c2 1346     		mov	r3, r2
 816 00c4 5B00     		lsls	r3, r3, #1
 817 00c6 1344     		add	r3, r3, r2
 818 00c8 9B00     		lsls	r3, r3, #2
 819 00ca 0344     		add	r3, r3, r0
 820 00cc 03F58273 		add	r3, r3, #260
 821 00d0 1B68     		ldr	r3, [r3]
 822 00d2 1944     		add	r1, r1, r3
 823 00d4 7868     		ldr	r0, [r7, #4]
 824 00d6 3A68     		ldr	r2, [r7]
 825 00d8 1346     		mov	r3, r2
 826 00da 5B00     		lsls	r3, r3, #1
 827 00dc 1344     		add	r3, r3, r2
 828 00de 9B00     		lsls	r3, r3, #2
 829 00e0 0344     		add	r3, r3, r0
 830 00e2 03F58273 		add	r3, r3, #260
 831 00e6 1960     		str	r1, [r3]
 832              	.L27:
 169:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 170:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	if (shift)
 833              		.loc 1 170 0
 834 00e8 7B69     		ldr	r3, [r7, #20]
 835 00ea 002B     		cmp	r3, #0
 836 00ec 40D0     		beq	.L32
 171:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 172:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		// Collapse indices
 173:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		ga->NbAllocEntries -= shift;
 837              		.loc 1 173 0
 838 00ee 7B68     		ldr	r3, [r7, #4]
 839 00f0 D3F80024 		ldr	r2, [r3, #1024]
 840 00f4 7B69     		ldr	r3, [r7, #20]
 841 00f6 D21A     		subs	r2, r2, r3
 842 00f8 7B68     		ldr	r3, [r7, #4]
 843 00fa C3F80024 		str	r2, [r3, #1024]
 844              	.LBB10:
 174:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		for (int idx = idxat + 1; idx < ga->NbAllocEntries; ++idx)
 845              		.loc 1 174 0
 846 00fe 3B68     		ldr	r3, [r7]
 847 0100 0133     		adds	r3, r3, #1
 848 0102 3B61     		str	r3, [r7, #16]
 849 0104 2EE0     		b	.L29
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 19


 850              	.L31:
 851              	.LBB11:
 175:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
 176:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			ga->AllocEntries[idx] = ga->AllocEntries[idx + shift];
 852              		.loc 1 176 0
 853 0106 3A69     		ldr	r2, [r7, #16]
 854 0108 7B69     		ldr	r3, [r7, #20]
 855 010a 1A44     		add	r2, r2, r3
 856 010c 7868     		ldr	r0, [r7, #4]
 857 010e 3969     		ldr	r1, [r7, #16]
 858 0110 0B46     		mov	r3, r1
 859 0112 5B00     		lsls	r3, r3, #1
 860 0114 0B44     		add	r3, r3, r1
 861 0116 9B00     		lsls	r3, r3, #2
 862 0118 0344     		add	r3, r3, r0
 863 011a 03F58070 		add	r0, r3, #256
 864 011e 7968     		ldr	r1, [r7, #4]
 865 0120 1346     		mov	r3, r2
 866 0122 5B00     		lsls	r3, r3, #1
 867 0124 1344     		add	r3, r3, r2
 868 0126 9B00     		lsls	r3, r3, #2
 869 0128 0B44     		add	r3, r3, r1
 870 012a 03F58072 		add	r2, r3, #256
 871 012e 0346     		mov	r3, r0
 872 0130 07CA     		ldm	r2, {r0, r1, r2}
 873 0132 83E80700 		stm	r3, {r0, r1, r2}
 177:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			int id = ga->AllocEntries[idx].Id;
 874              		.loc 1 177 0
 875 0136 7968     		ldr	r1, [r7, #4]
 876 0138 3A69     		ldr	r2, [r7, #16]
 877 013a 1346     		mov	r3, r2
 878 013c 5B00     		lsls	r3, r3, #1
 879 013e 1344     		add	r3, r3, r2
 880 0140 9B00     		lsls	r3, r3, #2
 881 0142 0B44     		add	r3, r3, r1
 882 0144 03F58473 		add	r3, r3, #264
 883 0148 1B88     		ldrh	r3, [r3]
 884 014a FB60     		str	r3, [r7, #12]
 178:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			if (id < MAX_NUM_ALLOCATIONS)
 885              		.loc 1 178 0
 886 014c FB68     		ldr	r3, [r7, #12]
 887 014e 3F2B     		cmp	r3, #63
 888 0150 05D8     		bhi	.L30
 179:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			{
 180:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 				ga->AllocRefs[id].Idx = idx;
 889              		.loc 1 180 0
 890 0152 3B69     		ldr	r3, [r7, #16]
 891 0154 99B2     		uxth	r1, r3
 892 0156 7B68     		ldr	r3, [r7, #4]
 893 0158 FA68     		ldr	r2, [r7, #12]
 894 015a 23F82210 		strh	r1, [r3, r2, lsl #2]	@ movhi
 895              	.L30:
 896              	.LBE11:
 174:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
 897              		.loc 1 174 0 discriminator 2
 898 015e 3B69     		ldr	r3, [r7, #16]
 899 0160 0133     		adds	r3, r3, #1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 20


 900 0162 3B61     		str	r3, [r7, #16]
 901              	.L29:
 174:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
 902              		.loc 1 174 0 is_stmt 0 discriminator 1
 903 0164 7B68     		ldr	r3, [r7, #4]
 904 0166 D3F80024 		ldr	r2, [r3, #1024]
 905 016a 3B69     		ldr	r3, [r7, #16]
 906 016c 9A42     		cmp	r2, r3
 907 016e CAD8     		bhi	.L31
 908              	.L32:
 909              	.LBE10:
 181:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			}
 182:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		}
 183:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 184:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 910              		.loc 1 184 0 is_stmt 1
 911 0170 00BF     		nop
 912 0172 1C37     		adds	r7, r7, #28
 913              	.LCFI26:
 914              		.cfi_def_cfa_offset 4
 915 0174 BD46     		mov	sp, r7
 916              	.LCFI27:
 917              		.cfi_def_cfa_register 13
 918              		@ sp needed
 919 0176 5DF8047B 		ldr	r7, [sp], #4
 920              	.LCFI28:
 921              		.cfi_restore 7
 922              		.cfi_def_cfa_offset 0
 923 017a 7047     		bx	lr
 924              		.cfi_endproc
 925              	.LFE7:
 927              		.section	.text.Ft_Esd_GpuAlloc_FreeId,"ax",%progbits
 928              		.align	1
 929              		.global	Ft_Esd_GpuAlloc_FreeId
 930              		.syntax unified
 931              		.thumb
 932              		.thumb_func
 933              		.fpu fpv5-sp-d16
 935              	Ft_Esd_GpuAlloc_FreeId:
 936              	.LFB8:
 185:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 186:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** void Ft_Esd_GpuAlloc_FreeId(Ft_Esd_GpuAlloc *ga, int id)
 187:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 937              		.loc 1 187 0
 938              		.cfi_startproc
 939              		@ args = 0, pretend = 0, frame = 16
 940              		@ frame_needed = 1, uses_anonymous_args = 0
 941 0000 80B5     		push	{r7, lr}
 942              	.LCFI29:
 943              		.cfi_def_cfa_offset 8
 944              		.cfi_offset 7, -8
 945              		.cfi_offset 14, -4
 946 0002 84B0     		sub	sp, sp, #16
 947              	.LCFI30:
 948              		.cfi_def_cfa_offset 24
 949 0004 00AF     		add	r7, sp, #0
 950              	.LCFI31:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 21


 951              		.cfi_def_cfa_register 7
 952 0006 7860     		str	r0, [r7, #4]
 953 0008 3960     		str	r1, [r7]
 188:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// printf("Free id %i\n", id);
 189:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 190:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #ifdef ESD_SIMULATION
 191:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	s_ErrorGpuAllocFailed = 0;
 192:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #endif
 193:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 194:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	int idx = ga->AllocRefs[id].Idx;
 954              		.loc 1 194 0
 955 000a 7B68     		ldr	r3, [r7, #4]
 956 000c 3A68     		ldr	r2, [r7]
 957 000e 33F82230 		ldrh	r3, [r3, r2, lsl #2]
 958 0012 FB60     		str	r3, [r7, #12]
 195:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 196:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// Invalidate handle reference
 197:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocRefs[id].Idx = MAX_NUM_ALLOCATIONS;
 959              		.loc 1 197 0
 960 0014 7B68     		ldr	r3, [r7, #4]
 961 0016 3A68     		ldr	r2, [r7]
 962 0018 4021     		movs	r1, #64
 963 001a 23F82210 		strh	r1, [r3, r2, lsl #2]	@ movhi
 198:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	++ga->AllocRefs[id].Seq;
 964              		.loc 1 198 0
 965 001e 7A68     		ldr	r2, [r7, #4]
 966 0020 3B68     		ldr	r3, [r7]
 967 0022 9B00     		lsls	r3, r3, #2
 968 0024 1344     		add	r3, r3, r2
 969 0026 5B88     		ldrh	r3, [r3, #2]
 970 0028 0133     		adds	r3, r3, #1
 971 002a 99B2     		uxth	r1, r3
 972 002c 7A68     		ldr	r2, [r7, #4]
 973 002e 3B68     		ldr	r3, [r7]
 974 0030 9B00     		lsls	r3, r3, #2
 975 0032 1344     		add	r3, r3, r2
 976 0034 0A46     		mov	r2, r1	@ movhi
 977 0036 5A80     		strh	r2, [r3, #2]	@ movhi
 199:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 200:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// Free entry
 201:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[idx].Id = MAX_NUM_ALLOCATIONS;
 978              		.loc 1 201 0
 979 0038 7968     		ldr	r1, [r7, #4]
 980 003a FA68     		ldr	r2, [r7, #12]
 981 003c 1346     		mov	r3, r2
 982 003e 5B00     		lsls	r3, r3, #1
 983 0040 1344     		add	r3, r3, r2
 984 0042 9B00     		lsls	r3, r3, #2
 985 0044 0B44     		add	r3, r3, r1
 986 0046 03F58473 		add	r3, r3, #264
 987 004a 4022     		movs	r2, #64
 988 004c 1A80     		strh	r2, [r3]	@ movhi
 202:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ga->AllocEntries[idx].Flags = 0;
 989              		.loc 1 202 0
 990 004e 7968     		ldr	r1, [r7, #4]
 991 0050 FA68     		ldr	r2, [r7, #12]
 992 0052 1346     		mov	r3, r2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 22


 993 0054 5B00     		lsls	r3, r3, #1
 994 0056 1344     		add	r3, r3, r2
 995 0058 9B00     		lsls	r3, r3, #2
 996 005a 0B44     		add	r3, r3, r1
 997 005c 03F58573 		add	r3, r3, #266
 998 0060 0022     		movs	r2, #0
 999 0062 1A80     		strh	r2, [r3]	@ movhi
 203:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 204:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	// Collapse neighbouring entries
 205:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	Ft_Esd_GpuAlloc_CollapseFree(ga, idx);
 1000              		.loc 1 205 0
 1001 0064 FB68     		ldr	r3, [r7, #12]
 1002 0066 1946     		mov	r1, r3
 1003 0068 7868     		ldr	r0, [r7, #4]
 1004 006a FFF7FEFF 		bl	Ft_Esd_GpuAlloc_CollapseFree
 206:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 1005              		.loc 1 206 0
 1006 006e 00BF     		nop
 1007 0070 1037     		adds	r7, r7, #16
 1008              	.LCFI32:
 1009              		.cfi_def_cfa_offset 8
 1010 0072 BD46     		mov	sp, r7
 1011              	.LCFI33:
 1012              		.cfi_def_cfa_register 13
 1013              		@ sp needed
 1014 0074 80BD     		pop	{r7, pc}
 1015              		.cfi_endproc
 1016              	.LFE8:
 1018              		.section	.text.Ft_Esd_GpuAlloc_Free,"ax",%progbits
 1019              		.align	1
 1020              		.global	Ft_Esd_GpuAlloc_Free
 1021              		.syntax unified
 1022              		.thumb
 1023              		.thumb_func
 1024              		.fpu fpv5-sp-d16
 1026              	Ft_Esd_GpuAlloc_Free:
 1027              	.LFB9:
 207:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 208:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** void Ft_Esd_GpuAlloc_Free(Ft_Esd_GpuAlloc *ga, Ft_Esd_GpuHandle handle)
 209:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 1028              		.loc 1 209 0
 1029              		.cfi_startproc
 1030              		@ args = 0, pretend = 0, frame = 16
 1031              		@ frame_needed = 1, uses_anonymous_args = 0
 1032 0000 80B5     		push	{r7, lr}
 1033              	.LCFI34:
 1034              		.cfi_def_cfa_offset 8
 1035              		.cfi_offset 7, -8
 1036              		.cfi_offset 14, -4
 1037 0002 84B0     		sub	sp, sp, #16
 1038              	.LCFI35:
 1039              		.cfi_def_cfa_offset 24
 1040 0004 00AF     		add	r7, sp, #0
 1041              	.LCFI36:
 1042              		.cfi_def_cfa_register 7
 1043 0006 7860     		str	r0, [r7, #4]
 1044 0008 3960     		str	r1, [r7]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 23


 210:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	int id = handle.Id;
 1045              		.loc 1 210 0
 1046 000a 3B88     		ldrh	r3, [r7]
 1047 000c FB60     		str	r3, [r7, #12]
 211:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	if (id < MAX_NUM_ALLOCATIONS
 1048              		.loc 1 211 0
 1049 000e FB68     		ldr	r3, [r7, #12]
 1050 0010 3F2B     		cmp	r3, #63
 1051 0012 0BD8     		bhi	.L36
 212:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		&& ga->AllocRefs[id].Seq == handle.Seq)
 1052              		.loc 1 212 0
 1053 0014 7A68     		ldr	r2, [r7, #4]
 1054 0016 FB68     		ldr	r3, [r7, #12]
 1055 0018 9B00     		lsls	r3, r3, #2
 1056 001a 1344     		add	r3, r3, r2
 1057 001c 5A88     		ldrh	r2, [r3, #2]
 1058 001e 7B88     		ldrh	r3, [r7, #2]
 1059 0020 9A42     		cmp	r2, r3
 1060 0022 03D1     		bne	.L36
 213:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 214:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		Ft_Esd_GpuAlloc_FreeId(ga, id);
 1061              		.loc 1 214 0
 1062 0024 F968     		ldr	r1, [r7, #12]
 1063 0026 7868     		ldr	r0, [r7, #4]
 1064 0028 FFF7FEFF 		bl	Ft_Esd_GpuAlloc_FreeId
 1065              	.L36:
 215:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 216:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 1066              		.loc 1 216 0
 1067 002c 00BF     		nop
 1068 002e 1037     		adds	r7, r7, #16
 1069              	.LCFI37:
 1070              		.cfi_def_cfa_offset 8
 1071 0030 BD46     		mov	sp, r7
 1072              	.LCFI38:
 1073              		.cfi_def_cfa_register 13
 1074              		@ sp needed
 1075 0032 80BD     		pop	{r7, pc}
 1076              		.cfi_endproc
 1077              	.LFE9:
 1079              		.section	.text.Ft_Esd_GpuAlloc_Update,"ax",%progbits
 1080              		.align	1
 1081              		.global	Ft_Esd_GpuAlloc_Update
 1082              		.syntax unified
 1083              		.thumb
 1084              		.thumb_func
 1085              		.fpu fpv5-sp-d16
 1087              	Ft_Esd_GpuAlloc_Update:
 1088              	.LFB10:
 217:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 218:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** void Ft_Esd_GpuAlloc_Update(Ft_Esd_GpuAlloc *ga)
 219:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 1089              		.loc 1 219 0
 1090              		.cfi_startproc
 1091              		@ args = 0, pretend = 0, frame = 16
 1092              		@ frame_needed = 1, uses_anonymous_args = 0
 1093 0000 80B5     		push	{r7, lr}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 24


 1094              	.LCFI39:
 1095              		.cfi_def_cfa_offset 8
 1096              		.cfi_offset 7, -8
 1097              		.cfi_offset 14, -4
 1098 0002 84B0     		sub	sp, sp, #16
 1099              	.LCFI40:
 1100              		.cfi_def_cfa_offset 24
 1101 0004 00AF     		add	r7, sp, #0
 1102              	.LCFI41:
 1103              		.cfi_def_cfa_register 7
 1104 0006 7860     		str	r0, [r7, #4]
 1105              	.LBB12:
 220:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	for (int idx = 0; idx < ga->NbAllocEntries; ++idx)
 1106              		.loc 1 220 0
 1107 0008 0023     		movs	r3, #0
 1108 000a FB60     		str	r3, [r7, #12]
 1109 000c 54E0     		b	.L38
 1110              	.L41:
 221:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 222:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		// Check if allocation entry is allocated
 223:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		if (ga->AllocEntries[idx].Id < MAX_NUM_ALLOCATIONS)
 1111              		.loc 1 223 0
 1112 000e 7968     		ldr	r1, [r7, #4]
 1113 0010 FA68     		ldr	r2, [r7, #12]
 1114 0012 1346     		mov	r3, r2
 1115 0014 5B00     		lsls	r3, r3, #1
 1116 0016 1344     		add	r3, r3, r2
 1117 0018 9B00     		lsls	r3, r3, #2
 1118 001a 0B44     		add	r3, r3, r1
 1119 001c 03F58473 		add	r3, r3, #264
 1120 0020 1B88     		ldrh	r3, [r3]
 1121 0022 3F2B     		cmp	r3, #63
 1122 0024 45D8     		bhi	.L39
 224:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
 225:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			// If GC flag is set and used flag is not set, free this memory
 226:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			if (ga->AllocEntries[idx].Flags & GA_GC_FLAG)
 1123              		.loc 1 226 0
 1124 0026 7968     		ldr	r1, [r7, #4]
 1125 0028 FA68     		ldr	r2, [r7, #12]
 1126 002a 1346     		mov	r3, r2
 1127 002c 5B00     		lsls	r3, r3, #1
 1128 002e 1344     		add	r3, r3, r2
 1129 0030 9B00     		lsls	r3, r3, #2
 1130 0032 0B44     		add	r3, r3, r1
 1131 0034 03F58573 		add	r3, r3, #266
 1132 0038 1B88     		ldrh	r3, [r3]
 1133 003a 03F00103 		and	r3, r3, #1
 1134 003e 002B     		cmp	r3, #0
 1135 0040 1FD0     		beq	.L40
 227:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			{
 228:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 				if (!(ga->AllocEntries[idx].Flags & GA_USED_FLAG))
 1136              		.loc 1 228 0
 1137 0042 7968     		ldr	r1, [r7, #4]
 1138 0044 FA68     		ldr	r2, [r7, #12]
 1139 0046 1346     		mov	r3, r2
 1140 0048 5B00     		lsls	r3, r3, #1
 1141 004a 1344     		add	r3, r3, r2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 25


 1142 004c 9B00     		lsls	r3, r3, #2
 1143 004e 0B44     		add	r3, r3, r1
 1144 0050 03F58573 		add	r3, r3, #266
 1145 0054 1B88     		ldrh	r3, [r3]
 1146 0056 03F00203 		and	r3, r3, #2
 1147 005a 002B     		cmp	r3, #0
 1148 005c 11D1     		bne	.L40
 229:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 				{
 230:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					Ft_Esd_GpuAlloc_FreeId(ga, ga->AllocEntries[idx].Id);
 1149              		.loc 1 230 0
 1150 005e 7968     		ldr	r1, [r7, #4]
 1151 0060 FA68     		ldr	r2, [r7, #12]
 1152 0062 1346     		mov	r3, r2
 1153 0064 5B00     		lsls	r3, r3, #1
 1154 0066 1344     		add	r3, r3, r2
 1155 0068 9B00     		lsls	r3, r3, #2
 1156 006a 0B44     		add	r3, r3, r1
 1157 006c 03F58473 		add	r3, r3, #264
 1158 0070 1B88     		ldrh	r3, [r3]
 1159 0072 1946     		mov	r1, r3
 1160 0074 7868     		ldr	r0, [r7, #4]
 1161 0076 FFF7FEFF 		bl	Ft_Esd_GpuAlloc_FreeId
 231:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 232:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					// Due to free collapse, the current idx may become another allocated entry
 233:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					--idx;
 1162              		.loc 1 233 0
 1163 007a FB68     		ldr	r3, [r7, #12]
 1164 007c 013B     		subs	r3, r3, #1
 1165 007e FB60     		str	r3, [r7, #12]
 234:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 					continue;
 1166              		.loc 1 234 0
 1167 0080 17E0     		b	.L39
 1168              	.L40:
 235:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 				}
 236:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			}
 237:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 238:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			// Always clear the used flag on update
 239:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			ga->AllocEntries[idx].Flags &= ~GA_USED_FLAG;
 1169              		.loc 1 239 0
 1170 0082 7968     		ldr	r1, [r7, #4]
 1171 0084 FA68     		ldr	r2, [r7, #12]
 1172 0086 1346     		mov	r3, r2
 1173 0088 5B00     		lsls	r3, r3, #1
 1174 008a 1344     		add	r3, r3, r2
 1175 008c 9B00     		lsls	r3, r3, #2
 1176 008e 0B44     		add	r3, r3, r1
 1177 0090 03F58573 		add	r3, r3, #266
 1178 0094 1B88     		ldrh	r3, [r3]
 1179 0096 23F00203 		bic	r3, r3, #2
 1180 009a 98B2     		uxth	r0, r3
 1181 009c 7968     		ldr	r1, [r7, #4]
 1182 009e FA68     		ldr	r2, [r7, #12]
 1183 00a0 1346     		mov	r3, r2
 1184 00a2 5B00     		lsls	r3, r3, #1
 1185 00a4 1344     		add	r3, r3, r2
 1186 00a6 9B00     		lsls	r3, r3, #2
 1187 00a8 0B44     		add	r3, r3, r1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 26


 1188 00aa 03F58573 		add	r3, r3, #266
 1189 00ae 0246     		mov	r2, r0	@ movhi
 1190 00b0 1A80     		strh	r2, [r3]	@ movhi
 1191              	.L39:
 220:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 1192              		.loc 1 220 0 discriminator 2
 1193 00b2 FB68     		ldr	r3, [r7, #12]
 1194 00b4 0133     		adds	r3, r3, #1
 1195 00b6 FB60     		str	r3, [r7, #12]
 1196              	.L38:
 220:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 1197              		.loc 1 220 0 is_stmt 0 discriminator 1
 1198 00b8 7B68     		ldr	r3, [r7, #4]
 1199 00ba D3F80024 		ldr	r2, [r3, #1024]
 1200 00be FB68     		ldr	r3, [r7, #12]
 1201 00c0 9A42     		cmp	r2, r3
 1202 00c2 A4D8     		bhi	.L41
 1203              	.LBE12:
 240:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		}
 241:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 242:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 1204              		.loc 1 242 0 is_stmt 1
 1205 00c4 00BF     		nop
 1206 00c6 1037     		adds	r7, r7, #16
 1207              	.LCFI42:
 1208              		.cfi_def_cfa_offset 8
 1209 00c8 BD46     		mov	sp, r7
 1210              	.LCFI43:
 1211              		.cfi_def_cfa_register 13
 1212              		@ sp needed
 1213 00ca 80BD     		pop	{r7, pc}
 1214              		.cfi_endproc
 1215              	.LFE10:
 1217              		.section	.text.Ft_Esd_GpuAlloc_GetTotalUsed,"ax",%progbits
 1218              		.align	1
 1219              		.global	Ft_Esd_GpuAlloc_GetTotalUsed
 1220              		.syntax unified
 1221              		.thumb
 1222              		.thumb_func
 1223              		.fpu fpv5-sp-d16
 1225              	Ft_Esd_GpuAlloc_GetTotalUsed:
 1226              	.LFB11:
 243:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 244:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** // Get total used GPU RAM
 245:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** ft_uint32_t Ft_Esd_GpuAlloc_GetTotalUsed(Ft_Esd_GpuAlloc *ga)
 246:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 1227              		.loc 1 246 0
 1228              		.cfi_startproc
 1229              		@ args = 0, pretend = 0, frame = 16
 1230              		@ frame_needed = 1, uses_anonymous_args = 0
 1231              		@ link register save eliminated.
 1232 0000 80B4     		push	{r7}
 1233              	.LCFI44:
 1234              		.cfi_def_cfa_offset 4
 1235              		.cfi_offset 7, -4
 1236 0002 85B0     		sub	sp, sp, #20
 1237              	.LCFI45:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 27


 1238              		.cfi_def_cfa_offset 24
 1239 0004 00AF     		add	r7, sp, #0
 1240              	.LCFI46:
 1241              		.cfi_def_cfa_register 7
 1242 0006 7860     		str	r0, [r7, #4]
 247:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	ft_uint32_t total = 0;
 1243              		.loc 1 247 0
 1244 0008 0023     		movs	r3, #0
 1245 000a FB60     		str	r3, [r7, #12]
 1246              	.LBB13:
 248:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	for (int idx = 0; idx < ga->NbAllocEntries; ++idx)
 1247              		.loc 1 248 0
 1248 000c 0023     		movs	r3, #0
 1249 000e BB60     		str	r3, [r7, #8]
 1250 0010 1BE0     		b	.L43
 1251              	.L45:
 249:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 250:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		// Check if allocation entry is allocated
 251:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		if (ga->AllocEntries[idx].Id < MAX_NUM_ALLOCATIONS)
 1252              		.loc 1 251 0
 1253 0012 7968     		ldr	r1, [r7, #4]
 1254 0014 BA68     		ldr	r2, [r7, #8]
 1255 0016 1346     		mov	r3, r2
 1256 0018 5B00     		lsls	r3, r3, #1
 1257 001a 1344     		add	r3, r3, r2
 1258 001c 9B00     		lsls	r3, r3, #2
 1259 001e 0B44     		add	r3, r3, r1
 1260 0020 03F58473 		add	r3, r3, #264
 1261 0024 1B88     		ldrh	r3, [r3]
 1262 0026 3F2B     		cmp	r3, #63
 1263 0028 0CD8     		bhi	.L44
 252:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		{
 253:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			// Add the size of the allocated block to the total
 254:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			total += (ft_uint32_t)ga->AllocEntries[idx].Length;
 1264              		.loc 1 254 0
 1265 002a 7968     		ldr	r1, [r7, #4]
 1266 002c BA68     		ldr	r2, [r7, #8]
 1267 002e 1346     		mov	r3, r2
 1268 0030 5B00     		lsls	r3, r3, #1
 1269 0032 1344     		add	r3, r3, r2
 1270 0034 9B00     		lsls	r3, r3, #2
 1271 0036 0B44     		add	r3, r3, r1
 1272 0038 03F58273 		add	r3, r3, #260
 1273 003c 1B68     		ldr	r3, [r3]
 1274 003e FA68     		ldr	r2, [r7, #12]
 1275 0040 1344     		add	r3, r3, r2
 1276 0042 FB60     		str	r3, [r7, #12]
 1277              	.L44:
 248:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 1278              		.loc 1 248 0 discriminator 2
 1279 0044 BB68     		ldr	r3, [r7, #8]
 1280 0046 0133     		adds	r3, r3, #1
 1281 0048 BB60     		str	r3, [r7, #8]
 1282              	.L43:
 248:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 1283              		.loc 1 248 0 is_stmt 0 discriminator 1
 1284 004a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 28


 1285 004c D3F80024 		ldr	r2, [r3, #1024]
 1286 0050 BB68     		ldr	r3, [r7, #8]
 1287 0052 9A42     		cmp	r2, r3
 1288 0054 DDD8     		bhi	.L45
 1289              	.LBE13:
 255:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		}
 256:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 257:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	return total;
 1290              		.loc 1 257 0 is_stmt 1
 1291 0056 FB68     		ldr	r3, [r7, #12]
 258:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 1292              		.loc 1 258 0
 1293 0058 1846     		mov	r0, r3
 1294 005a 1437     		adds	r7, r7, #20
 1295              	.LCFI47:
 1296              		.cfi_def_cfa_offset 4
 1297 005c BD46     		mov	sp, r7
 1298              	.LCFI48:
 1299              		.cfi_def_cfa_register 13
 1300              		@ sp needed
 1301 005e 5DF8047B 		ldr	r7, [sp], #4
 1302              	.LCFI49:
 1303              		.cfi_restore 7
 1304              		.cfi_def_cfa_offset 0
 1305 0062 7047     		bx	lr
 1306              		.cfi_endproc
 1307              	.LFE11:
 1309              		.section	.text.Ft_Esd_GpuAlloc_GetTotal,"ax",%progbits
 1310              		.align	1
 1311              		.global	Ft_Esd_GpuAlloc_GetTotal
 1312              		.syntax unified
 1313              		.thumb
 1314              		.thumb_func
 1315              		.fpu fpv5-sp-d16
 1317              	Ft_Esd_GpuAlloc_GetTotal:
 1318              	.LFB12:
 259:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 260:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** // Get total GPU RAM
 261:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** ft_uint32_t Ft_Esd_GpuAlloc_GetTotal(Ft_Esd_GpuAlloc *ga)
 262:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 1319              		.loc 1 262 0
 1320              		.cfi_startproc
 1321              		@ args = 0, pretend = 0, frame = 8
 1322              		@ frame_needed = 1, uses_anonymous_args = 0
 1323              		@ link register save eliminated.
 1324 0000 80B4     		push	{r7}
 1325              	.LCFI50:
 1326              		.cfi_def_cfa_offset 4
 1327              		.cfi_offset 7, -4
 1328 0002 83B0     		sub	sp, sp, #12
 1329              	.LCFI51:
 1330              		.cfi_def_cfa_offset 16
 1331 0004 00AF     		add	r7, sp, #0
 1332              	.LCFI52:
 1333              		.cfi_def_cfa_register 7
 1334 0006 7860     		str	r0, [r7, #4]
 263:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	return RAM_G_SIZE;
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 29


 1335              		.loc 1 263 0
 1336 0008 4FF48013 		mov	r3, #1048576
 264:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 1337              		.loc 1 264 0
 1338 000c 1846     		mov	r0, r3
 1339 000e 0C37     		adds	r7, r7, #12
 1340              	.LCFI53:
 1341              		.cfi_def_cfa_offset 4
 1342 0010 BD46     		mov	sp, r7
 1343              	.LCFI54:
 1344              		.cfi_def_cfa_register 13
 1345              		@ sp needed
 1346 0012 5DF8047B 		ldr	r7, [sp], #4
 1347              	.LCFI55:
 1348              		.cfi_restore 7
 1349              		.cfi_def_cfa_offset 0
 1350 0016 7047     		bx	lr
 1351              		.cfi_endproc
 1352              	.LFE12:
 1354              		.section	.rodata
 1355              		.align	2
 1356              	.LC0:
 1357 0000 47707541 		.ascii	"GpuAlloc:\000"
 1357      6C6C6F63 
 1357      3A00
 1358 000a 0000     		.align	2
 1359              	.LC1:
 1360 000c 25693A20 		.ascii	"%i: id: %i, addr: %i, len: %i, flags: %i\012\000"
 1360      69643A20 
 1360      25692C20 
 1360      61646472 
 1360      3A202569 
 1361              		.section	.text.Ft_Esd_GpuAlloc_Print,"ax",%progbits
 1362              		.align	1
 1363              		.global	Ft_Esd_GpuAlloc_Print
 1364              		.syntax unified
 1365              		.thumb
 1366              		.thumb_func
 1367              		.fpu fpv5-sp-d16
 1369              	Ft_Esd_GpuAlloc_Print:
 1370              	.LFB13:
 265:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 
 266:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** #ifndef NDEBUG
 267:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** void Ft_Esd_GpuAlloc_Print(Ft_Esd_GpuAlloc *ga)
 268:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** {
 1371              		.loc 1 268 0
 1372              		.cfi_startproc
 1373              		@ args = 0, pretend = 0, frame = 16
 1374              		@ frame_needed = 1, uses_anonymous_args = 0
 1375 0000 B0B5     		push	{r4, r5, r7, lr}
 1376              	.LCFI56:
 1377              		.cfi_def_cfa_offset 16
 1378              		.cfi_offset 4, -16
 1379              		.cfi_offset 5, -12
 1380              		.cfi_offset 7, -8
 1381              		.cfi_offset 14, -4
 1382 0002 86B0     		sub	sp, sp, #24
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 30


 1383              	.LCFI57:
 1384              		.cfi_def_cfa_offset 40
 1385 0004 02AF     		add	r7, sp, #8
 1386              	.LCFI58:
 1387              		.cfi_def_cfa 7, 32
 1388 0006 7860     		str	r0, [r7, #4]
 269:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	printf("GpuAlloc:\n");
 1389              		.loc 1 269 0
 1390 0008 2248     		ldr	r0, .L52
 1391 000a FFF7FEFF 		bl	puts
 1392              	.LBB14:
 270:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	for (int idx = 0; idx < ga->NbAllocEntries; ++idx)
 1393              		.loc 1 270 0
 1394 000e 0023     		movs	r3, #0
 1395 0010 FB60     		str	r3, [r7, #12]
 1396 0012 35E0     		b	.L50
 1397              	.L51:
 271:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 272:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 		printf("%i: id: %i, addr: %i, len: %i, flags: %i\n",
 273:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			idx,
 274:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			(int)ga->AllocEntries[idx].Id,
 1398              		.loc 1 274 0 discriminator 3
 1399 0014 7968     		ldr	r1, [r7, #4]
 1400 0016 FA68     		ldr	r2, [r7, #12]
 1401 0018 1346     		mov	r3, r2
 1402 001a 5B00     		lsls	r3, r3, #1
 1403 001c 1344     		add	r3, r3, r2
 1404 001e 9B00     		lsls	r3, r3, #2
 1405 0020 0B44     		add	r3, r3, r1
 1406 0022 03F58473 		add	r3, r3, #264
 1407 0026 1B88     		ldrh	r3, [r3]
 272:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			idx,
 1408              		.loc 1 272 0 discriminator 3
 1409 0028 1C46     		mov	r4, r3
 275:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			(int)ga->AllocEntries[idx].Address,
 1410              		.loc 1 275 0 discriminator 3
 1411 002a 7968     		ldr	r1, [r7, #4]
 1412 002c FA68     		ldr	r2, [r7, #12]
 1413 002e 1346     		mov	r3, r2
 1414 0030 5B00     		lsls	r3, r3, #1
 1415 0032 1344     		add	r3, r3, r2
 1416 0034 9B00     		lsls	r3, r3, #2
 1417 0036 0B44     		add	r3, r3, r1
 1418 0038 03F58073 		add	r3, r3, #256
 1419 003c 1B68     		ldr	r3, [r3]
 272:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			idx,
 1420              		.loc 1 272 0 discriminator 3
 1421 003e 1D46     		mov	r5, r3
 276:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			(int)ga->AllocEntries[idx].Length,
 1422              		.loc 1 276 0 discriminator 3
 1423 0040 7968     		ldr	r1, [r7, #4]
 1424 0042 FA68     		ldr	r2, [r7, #12]
 1425 0044 1346     		mov	r3, r2
 1426 0046 5B00     		lsls	r3, r3, #1
 1427 0048 1344     		add	r3, r3, r2
 1428 004a 9B00     		lsls	r3, r3, #2
 1429 004c 0B44     		add	r3, r3, r1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 31


 1430 004e 03F58273 		add	r3, r3, #260
 1431 0052 1B68     		ldr	r3, [r3]
 272:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			idx,
 1432              		.loc 1 272 0 discriminator 3
 1433 0054 1846     		mov	r0, r3
 277:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			(int)ga->AllocEntries[idx].Flags);
 1434              		.loc 1 277 0 discriminator 3
 1435 0056 7968     		ldr	r1, [r7, #4]
 1436 0058 FA68     		ldr	r2, [r7, #12]
 1437 005a 1346     		mov	r3, r2
 1438 005c 5B00     		lsls	r3, r3, #1
 1439 005e 1344     		add	r3, r3, r2
 1440 0060 9B00     		lsls	r3, r3, #2
 1441 0062 0B44     		add	r3, r3, r1
 1442 0064 03F58573 		add	r3, r3, #266
 1443 0068 1B88     		ldrh	r3, [r3]
 272:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 			idx,
 1444              		.loc 1 272 0 discriminator 3
 1445 006a 0193     		str	r3, [sp, #4]
 1446 006c 0090     		str	r0, [sp]
 1447 006e 2B46     		mov	r3, r5
 1448 0070 2246     		mov	r2, r4
 1449 0072 F968     		ldr	r1, [r7, #12]
 1450 0074 0848     		ldr	r0, .L52+4
 1451 0076 FFF7FEFF 		bl	printf
 270:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 1452              		.loc 1 270 0 discriminator 3
 1453 007a FB68     		ldr	r3, [r7, #12]
 1454 007c 0133     		adds	r3, r3, #1
 1455 007e FB60     		str	r3, [r7, #12]
 1456              	.L50:
 270:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	{
 1457              		.loc 1 270 0 is_stmt 0 discriminator 1
 1458 0080 7B68     		ldr	r3, [r7, #4]
 1459 0082 D3F80024 		ldr	r2, [r3, #1024]
 1460 0086 FB68     		ldr	r3, [r7, #12]
 1461 0088 9A42     		cmp	r2, r3
 1462 008a C3D8     		bhi	.L51
 1463              	.LBE14:
 278:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** 	}
 279:FT_Esd_Framework/Ft_Esd_GpuAlloc.c **** }
 1464              		.loc 1 279 0 is_stmt 1
 1465 008c 00BF     		nop
 1466 008e 1037     		adds	r7, r7, #16
 1467              	.LCFI59:
 1468              		.cfi_def_cfa_offset 16
 1469 0090 BD46     		mov	sp, r7
 1470              	.LCFI60:
 1471              		.cfi_def_cfa_register 13
 1472              		@ sp needed
 1473 0092 B0BD     		pop	{r4, r5, r7, pc}
 1474              	.L53:
 1475              		.align	2
 1476              	.L52:
 1477 0094 00000000 		.word	.LC0
 1478 0098 0C000000 		.word	.LC1
 1479              		.cfi_endproc
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 32


 1480              	.LFE13:
 1482              		.text
 1483              	.Letext0:
 1484              		.file 2 "FT_Eve_Hal/FT_DataTypes.h"
 1485              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/lock.h"
 1486              		.file 4 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/_types.h"
 1487              		.file 5 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h
 1488              		.file 6 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/unistd.h"
 1489              		.file 7 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/reent.h"
 1490              		.file 8 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/stdlib.h"
 1491              		.file 9 "FT_Esd_Framework/Ft_Esd_GpuAlloc.h"
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s 			page 33


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Ft_Esd_GpuAlloc.c
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:18     .text.Ft_Esd_GpuAlloc_Reset:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:25     .text.Ft_Esd_GpuAlloc_Reset:0000000000000000 Ft_Esd_GpuAlloc_Reset
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:169    .text.Ft_Esd_GpuAlloc_InsertFree:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:176    .text.Ft_Esd_GpuAlloc_InsertFree:0000000000000000 Ft_Esd_GpuAlloc_InsertFree
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:351    .text.Ft_Esd_GpuAlloc_Alloc:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:358    .text.Ft_Esd_GpuAlloc_Alloc:0000000000000000 Ft_Esd_GpuAlloc_Alloc
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:589    .text.Ft_Esd_GpuAlloc_Get:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:596    .text.Ft_Esd_GpuAlloc_Get:0000000000000000 Ft_Esd_GpuAlloc_Get
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:693    .text.Ft_Esd_GpuAlloc_CollapseFree:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:700    .text.Ft_Esd_GpuAlloc_CollapseFree:0000000000000000 Ft_Esd_GpuAlloc_CollapseFree
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:928    .text.Ft_Esd_GpuAlloc_FreeId:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:935    .text.Ft_Esd_GpuAlloc_FreeId:0000000000000000 Ft_Esd_GpuAlloc_FreeId
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1019   .text.Ft_Esd_GpuAlloc_Free:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1026   .text.Ft_Esd_GpuAlloc_Free:0000000000000000 Ft_Esd_GpuAlloc_Free
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1080   .text.Ft_Esd_GpuAlloc_Update:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1087   .text.Ft_Esd_GpuAlloc_Update:0000000000000000 Ft_Esd_GpuAlloc_Update
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1218   .text.Ft_Esd_GpuAlloc_GetTotalUsed:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1225   .text.Ft_Esd_GpuAlloc_GetTotalUsed:0000000000000000 Ft_Esd_GpuAlloc_GetTotalUsed
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1310   .text.Ft_Esd_GpuAlloc_GetTotal:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1317   .text.Ft_Esd_GpuAlloc_GetTotal:0000000000000000 Ft_Esd_GpuAlloc_GetTotal
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1355   .rodata:0000000000000000 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1362   .text.Ft_Esd_GpuAlloc_Print:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1369   .text.Ft_Esd_GpuAlloc_Print:0000000000000000 Ft_Esd_GpuAlloc_Print
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//cc5rcOry.s:1477   .text.Ft_Esd_GpuAlloc_Print:0000000000000094 $d

UNDEFINED SYMBOLS
puts
printf
