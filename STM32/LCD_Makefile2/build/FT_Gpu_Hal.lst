ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"FT_Gpu_Hal.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Ft_Gpu_Hal_Init,"ax",%progbits
  18              		.align	1
  19              		.global	Ft_Gpu_Hal_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	Ft_Gpu_Hal_Init:
  26              	.LFB138:
  27              		.file 1 "FT_Eve_Hal/FT_Gpu_Hal.c"
   1:FT_Eve_Hal/FT_Gpu_Hal.c **** /*
   2:FT_Eve_Hal/FT_Gpu_Hal.c **** 
   3:FT_Eve_Hal/FT_Gpu_Hal.c ****  Copyright (c) BridgeTek Pte Ltd 2015
   4:FT_Eve_Hal/FT_Gpu_Hal.c **** 
   5:FT_Eve_Hal/FT_Gpu_Hal.c ****  THIS SOFTWARE IS PROVIDED BY BridgeTek Pte Ltd "AS IS"
   6:FT_Eve_Hal/FT_Gpu_Hal.c ****  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
   7:FT_Eve_Hal/FT_Gpu_Hal.c ****  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
   8:FT_Eve_Hal/FT_Gpu_Hal.c ****  BridgeTek Pte Ltd BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   9:FT_Eve_Hal/FT_Gpu_Hal.c ****  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  10:FT_Eve_Hal/FT_Gpu_Hal.c ****  OF SUBSTITUTE GOODS OR SERVICES LOSS OF USE, DATA, OR PROFITS OR BUSINESS INTERRUPTION)
  11:FT_Eve_Hal/FT_Gpu_Hal.c ****  HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
  12:FT_Eve_Hal/FT_Gpu_Hal.c ****  TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  13:FT_Eve_Hal/FT_Gpu_Hal.c ****  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  14:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  15:FT_Eve_Hal/FT_Gpu_Hal.c ****  FTDI DRIVERS MAY BE USED ONLY IN CONJUNCTION WITH PRODUCTS BASED ON FTDI PARTS.
  16:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  17:FT_Eve_Hal/FT_Gpu_Hal.c ****  FTDI DRIVERS MAY BE DISTRIBUTED IN ANY FORM AS LONG AS LICENSE INFORMATION IS NOT MODIFIED.
  18:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  19:FT_Eve_Hal/FT_Gpu_Hal.c ****  IF A CUSTOM VENDOR ID AND/OR PRODUCT ID OR DESCRIPTION STRING ARE USED, IT IS THE
  20:FT_Eve_Hal/FT_Gpu_Hal.c ****  RESPONSIBILITY OF THE PRODUCT MANUFACTURER TO MAINTAIN ANY CHANGES AND SUBSEQUENT WHQL
  21:FT_Eve_Hal/FT_Gpu_Hal.c ****  RE-CERTIFICATION AS A RESULT OF MAKING THESE CHANGES.
  22:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  23:FT_Eve_Hal/FT_Gpu_Hal.c ****  */
  24:FT_Eve_Hal/FT_Gpu_Hal.c **** //#include <main.h>
  25:FT_Eve_Hal/FT_Gpu_Hal.c **** #include "FT_Platform.h"
  26:FT_Eve_Hal/FT_Gpu_Hal.c **** #include <stm32f7xx_hal.h>
  27:FT_Eve_Hal/FT_Gpu_Hal.c **** #include "main.h"
  28:FT_Eve_Hal/FT_Gpu_Hal.c **** #define FT800_PD_N	GPIO_PIN_0
  29:FT_Eve_Hal/FT_Gpu_Hal.c **** #define FT800_CS_N	GPIO_PIN_1
  30:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MEM_WRITE							0x80			// FT812 Host Memory Write
  31:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MEM_READ							0x00			// FT812 Host Memory Read
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 2


  32:FT_Eve_Hal/FT_Gpu_Hal.c **** /* API to initialize the SPI interface */
  33:FT_Eve_Hal/FT_Gpu_Hal.c **** extern SPI_HandleTypeDef hspi1;
  34:FT_Eve_Hal/FT_Gpu_Hal.c **** extern UART_HandleTypeDef huart6;
  35:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_bool_t Ft_Gpu_Hal_Init(Ft_Gpu_HalInit_t *halinit) {
  28              		.loc 1 35 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33 0000 80B4     		push	{r7}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 7, -4
  37 0002 83B0     		sub	sp, sp, #12
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
  36:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
  37:FT_Eve_Hal/FT_Gpu_Hal.c **** // GPIO, SPI are already initialized in main.c
  38:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  39:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return TRUE;
  44              		.loc 1 39 0
  45 0008 0123     		movs	r3, #1
  40:FT_Eve_Hal/FT_Gpu_Hal.c **** }
  46              		.loc 1 40 0
  47 000a 1846     		mov	r0, r3
  48 000c 0C37     		adds	r7, r7, #12
  49              	.LCFI3:
  50              		.cfi_def_cfa_offset 4
  51 000e BD46     		mov	sp, r7
  52              	.LCFI4:
  53              		.cfi_def_cfa_register 13
  54              		@ sp needed
  55 0010 5DF8047B 		ldr	r7, [sp], #4
  56              	.LCFI5:
  57              		.cfi_restore 7
  58              		.cfi_def_cfa_offset 0
  59 0014 7047     		bx	lr
  60              		.cfi_endproc
  61              	.LFE138:
  63              		.section	.text.Ft_Gpu_Hal_Open,"ax",%progbits
  64              		.align	1
  65              		.global	Ft_Gpu_Hal_Open
  66              		.syntax unified
  67              		.thumb
  68              		.thumb_func
  69              		.fpu fpv5-sp-d16
  71              	Ft_Gpu_Hal_Open:
  72              	.LFB139:
  41:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  42:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_bool_t Ft_Gpu_Hal_Open(Ft_Gpu_Hal_Context_t *host) {
  73              		.loc 1 42 0
  74              		.cfi_startproc
  75              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 3


  76              		@ frame_needed = 1, uses_anonymous_args = 0
  77              		@ link register save eliminated.
  78 0000 80B4     		push	{r7}
  79              	.LCFI6:
  80              		.cfi_def_cfa_offset 4
  81              		.cfi_offset 7, -4
  82 0002 83B0     		sub	sp, sp, #12
  83              	.LCFI7:
  84              		.cfi_def_cfa_offset 16
  85 0004 00AF     		add	r7, sp, #0
  86              	.LCFI8:
  87              		.cfi_def_cfa_register 7
  88 0006 7860     		str	r0, [r7, #4]
  43:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
  44:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  45:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_function(host->hal_config.spi_cs_pin_no, pad_spim_ss0); /* GPIO28 as CS */
  46:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_write(host->hal_config.spi_cs_pin_no, 1);
  47:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  48:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_function(host->hal_config.pdn_pin_no, pad_gpio43);
  49:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_dir(host->hal_config.pdn_pin_no, pad_dir_output);
  50:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  51:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_write(host->hal_config.pdn_pin_no,1);
  52:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  53:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  54:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
  55:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_GpuEmu_SPII2C_begin();
  56:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  57:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
  58:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pinMode(host->hal_config.pdn_pin_no, OUTPUT);
  59:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.pdn_pin_no, HIGH);
  60:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pinMode(host->hal_config.spi_cs_pin_no, OUTPUT);
  61:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
  62:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.begin();
  63:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.setClockDivider(SPI_CLOCK_DIV2);
  64:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.setBitOrder(MSBFIRST);
  65:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.setDataMode(SPI_MODE0);
  66:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  67:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
  68:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT_STATUS status;
  69:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
  70:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ChannelConfig channelConf;			//channel configuration
  71:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  72:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* configure the spi settings */
  73:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.ClockRate = host->hal_config.spi_clockrate_khz * 1000;
  74:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.LatencyTimer= 2;
  75:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.configOptions = SPI_CONFIG_OPTION_MODE0 | SPI_CONFIG_OPTION_CS_DBUS3 | SPI_CONFIG_OPTI
  76:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.Pin = 0x00000000; /*FinalVal-FinalDir-InitVal-InitDir (for dir 0=in, 1=out)*/
  77:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  78:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Open the first available channel */
  79:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = SPI_OpenChannel(host->hal_config.channel_no,(FT_HANDLE *)&host->hal_handle);
  80:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
  81:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
  82:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("SPI open channel failed %d %d\n",host->hal_config.channel_no,host->hal_handle);
  83:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
  84:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
  85:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = SPI_InitChannel((FT_HANDLE)host->hal_handle,&channelConf);
  86:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 4


  87:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
  88:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("SPI init channel failed %d %d\n",host->hal_config.channel_no,host->hal_handle);
  89:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
  90:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
  91:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  92:FT_Eve_Hal/FT_Gpu_Hal.c **** 	printf("\nhandle=0x%x status=0x%x\n",host->hal_handle,status);
  93:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  94:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
  95:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_Version Version4222;
  96:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_ClockRate clock4222;
  97:FT_Eve_Hal/FT_Gpu_Hal.c **** 	GPIO_Dir gpioDir[4] = {GPIO_OUTPUT,GPIO_INPUT,GPIO_OUTPUT,GPIO_OUTPUT};
  98:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  99:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT_Open(host->hal_config.channel_no,(FT_HANDLE *)&host->hal_handle);
 100:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
 101:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 102:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("4222 open failed %d %d\n",host->hal_config.channel_no,host->hal_handle);
 103:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
 104:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 105:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 106:FT_Eve_Hal/FT_Gpu_Hal.c **** 	// no latency to usb
 107:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT_SetLatencyTimer(host->hal_handle, 2);
 108:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
 109:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 110:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("FT_SetLatencyTimerfailed! %d\n",status);
 111:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 112:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 113:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 114:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT4222_SPIMaster_Init(host->hal_handle, SPI_IO_SINGLE, CLK_DIV_32, CLK_ACTIVE_LOW, CLK_LE
 115:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
 116:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 117:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("Init FT4222 as SPI master device failed! %d\n",status);
 118:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
 119:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 120:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 121:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT4222_SPI_SetDrivingStrength(host->hal_handle,DS_4MA, DS_4MA, DS_4MA);
 122:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT4222_OK != status)
 123:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 124:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("FT4222_SPI_SetDrivingStrength failed!\n");
 125:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 126:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 127:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GetVersion(host->hal_handle, &Version4222);
 128:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_SetClock(host->hal_handle, SYS_CLK_80);
 129:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GetClock(host->hal_handle, &clock4222);
 130:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 131:FT_Eve_Hal/FT_Gpu_Hal.c **** 	printf("\nhandle=0x%x status=0x%x version %d setclock %d\n",host->hal_handle,status,Version4222,cl
 132:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Init GPIO for 4222 */
 133:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT4222_GPIO_Init(host->hal_handle, gpioDir);
 134:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,1);
 135:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 136:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 137:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 138:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 139:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Initialize the context valriables */
 140:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* CS and PD pins are driven low by default in MX_GPIO_Init */
 141:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = host->ft_dl_buff_wp = 0;
  89              		.loc 1 141 0
  90 0008 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 5


  91 000a 0022     		movs	r2, #0
  92 000c 5A81     		strh	r2, [r3, #10]	@ movhi
  93 000e 7B68     		ldr	r3, [r7, #4]
  94 0010 5A89     		ldrh	r2, [r3, #10]
  95 0012 7B68     		ldr	r3, [r7, #4]
  96 0014 1A81     		strh	r2, [r3, #8]	@ movhi
 142:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spinumdummy = 1;//by default ft800/801/810/811 goes with single dummy byte for read
  97              		.loc 1 142 0
  98 0016 7B68     		ldr	r3, [r7, #4]
  99 0018 0122     		movs	r2, #1
 100 001a 5A75     		strb	r2, [r3, #21]
 143:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spichannel = 0;
 101              		.loc 1 143 0
 102 001c 7B68     		ldr	r3, [r7, #4]
 103 001e 0022     		movs	r2, #0
 104 0020 1A75     		strb	r2, [r3, #20]
 144:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->status = FT_GPU_HAL_OPENED;
 105              		.loc 1 144 0
 106 0022 7B68     		ldr	r3, [r7, #4]
 107 0024 0022     		movs	r2, #0
 108 0026 1A73     		strb	r2, [r3, #12]
 145:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 146:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return TRUE;
 109              		.loc 1 146 0
 110 0028 0123     		movs	r3, #1
 147:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 111              		.loc 1 147 0
 112 002a 1846     		mov	r0, r3
 113 002c 0C37     		adds	r7, r7, #12
 114              	.LCFI9:
 115              		.cfi_def_cfa_offset 4
 116 002e BD46     		mov	sp, r7
 117              	.LCFI10:
 118              		.cfi_def_cfa_register 13
 119              		@ sp needed
 120 0030 5DF8047B 		ldr	r7, [sp], #4
 121              	.LCFI11:
 122              		.cfi_restore 7
 123              		.cfi_def_cfa_offset 0
 124 0034 7047     		bx	lr
 125              		.cfi_endproc
 126              	.LFE139:
 128              		.section	.text.Ft_Gpu_Hal_Close,"ax",%progbits
 129              		.align	1
 130              		.global	Ft_Gpu_Hal_Close
 131              		.syntax unified
 132              		.thumb
 133              		.thumb_func
 134              		.fpu fpv5-sp-d16
 136              	Ft_Gpu_Hal_Close:
 137              	.LFB140:
 148:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Close(Ft_Gpu_Hal_Context_t *host) {
 138              		.loc 1 148 0
 139              		.cfi_startproc
 140              		@ args = 0, pretend = 0, frame = 8
 141              		@ frame_needed = 1, uses_anonymous_args = 0
 142              		@ link register save eliminated.
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 6


 143 0000 80B4     		push	{r7}
 144              	.LCFI12:
 145              		.cfi_def_cfa_offset 4
 146              		.cfi_offset 7, -4
 147 0002 83B0     		sub	sp, sp, #12
 148              	.LCFI13:
 149              		.cfi_def_cfa_offset 16
 150 0004 00AF     		add	r7, sp, #0
 151              	.LCFI14:
 152              		.cfi_def_cfa_register 7
 153 0006 7860     		str	r0, [r7, #4]
 149:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->status = FT_GPU_HAL_CLOSED;
 154              		.loc 1 149 0
 155 0008 7B68     		ldr	r3, [r7, #4]
 156 000a 0322     		movs	r2, #3
 157 000c 1A73     		strb	r2, [r3, #12]
 150:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 151:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 152:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 153:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Close the channel*/
 154:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_CloseChannel(host->hal_handle);
 155:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 156:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 157:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 158:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_UnInitialize(host->hal_handle);
 159:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT_Close(host->hal_handle);
 160:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 161:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 162:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 163:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 164:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.end();
 165:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 166:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 167:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_GpuEmu_SPII2C_end();
 168:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 169:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 170:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 158              		.loc 1 170 0
 159 000e 00BF     		nop
 160 0010 0C37     		adds	r7, r7, #12
 161              	.LCFI15:
 162              		.cfi_def_cfa_offset 4
 163 0012 BD46     		mov	sp, r7
 164              	.LCFI16:
 165              		.cfi_def_cfa_register 13
 166              		@ sp needed
 167 0014 5DF8047B 		ldr	r7, [sp], #4
 168              	.LCFI17:
 169              		.cfi_restore 7
 170              		.cfi_def_cfa_offset 0
 171 0018 7047     		bx	lr
 172              		.cfi_endproc
 173              	.LFE140:
 175              		.section	.text.Ft_Gpu_Hal_DeInit,"ax",%progbits
 176              		.align	1
 177              		.global	Ft_Gpu_Hal_DeInit
 178              		.syntax unified
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 7


 179              		.thumb
 180              		.thumb_func
 181              		.fpu fpv5-sp-d16
 183              	Ft_Gpu_Hal_DeInit:
 184              	.LFB141:
 171:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 172:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_DeInit() {
 185              		.loc 1 172 0
 186              		.cfi_startproc
 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 1, uses_anonymous_args = 0
 189              		@ link register save eliminated.
 190 0000 80B4     		push	{r7}
 191              	.LCFI18:
 192              		.cfi_def_cfa_offset 4
 193              		.cfi_offset 7, -4
 194 0002 00AF     		add	r7, sp, #0
 195              	.LCFI19:
 196              		.cfi_def_cfa_register 7
 173:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 174:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 175:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 176:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Cleanup the MPSSE Lib
 177:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Cleanup_libMPSSE();
 178:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 179:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 180:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 181:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 182:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 183:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 184:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 185:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 186:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_uninit(SPIM);
 187:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 188:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 197              		.loc 1 188 0
 198 0004 00BF     		nop
 199 0006 BD46     		mov	sp, r7
 200              	.LCFI20:
 201              		.cfi_def_cfa_register 13
 202              		@ sp needed
 203 0008 5DF8047B 		ldr	r7, [sp], #4
 204              	.LCFI21:
 205              		.cfi_restore 7
 206              		.cfi_def_cfa_offset 0
 207 000c 7047     		bx	lr
 208              		.cfi_endproc
 209              	.LFE141:
 211              		.section	.rodata
 212              		.align	2
 213              	.LC0:
 214 0000 4641494C 		.ascii	"FAILED TO TRANSMIT in StartTransfer\015\000"
 214      45442054 
 214      4F205452 
 214      414E534D 
 214      49542069 
 215 0025 000000   		.align	2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 8


 216              	.LC1:
 217 0028 53554343 		.ascii	"SUCCESSFUL TRANSMISSION\015\000"
 217      45535346 
 217      554C2054 
 217      52414E53 
 217      4D495353 
 218 0041 000000   		.align	2
 219              	.LC2:
 220 0044 4641494C 		.ascii	"FAILED TO TRANSMIT in StartTransfer in command\015\000"
 220      45442054 
 220      4F205452 
 220      414E534D 
 220      49542069 
 221              		.section	.text.Ft_Gpu_Hal_StartTransfer,"ax",%progbits
 222              		.align	1
 223              		.global	Ft_Gpu_Hal_StartTransfer
 224              		.syntax unified
 225              		.thumb
 226              		.thumb_func
 227              		.fpu fpv5-sp-d16
 229              	Ft_Gpu_Hal_StartTransfer:
 230              	.LFB142:
 189:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 190:FT_Eve_Hal/FT_Gpu_Hal.c **** /*The APIs for reading/writing transfer continuously only with small buffer system*/
 191:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_StartTransfer(Ft_Gpu_Hal_Context_t *host,
 192:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_TRANSFERDIR_T rw, ft_uint32_t addr) {
 231              		.loc 1 192 0
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 136
 234              		@ frame_needed = 1, uses_anonymous_args = 0
 235 0000 B0B5     		push	{r4, r5, r7, lr}
 236              	.LCFI22:
 237              		.cfi_def_cfa_offset 16
 238              		.cfi_offset 4, -16
 239              		.cfi_offset 5, -12
 240              		.cfi_offset 7, -8
 241              		.cfi_offset 14, -4
 242 0002 A2B0     		sub	sp, sp, #136
 243              	.LCFI23:
 244              		.cfi_def_cfa_offset 152
 245 0004 00AF     		add	r7, sp, #0
 246              	.LCFI24:
 247              		.cfi_def_cfa_register 7
 248 0006 F860     		str	r0, [r7, #12]
 249 0008 0B46     		mov	r3, r1
 250 000a 7A60     		str	r2, [r7, #4]
 251 000c FB72     		strb	r3, [r7, #11]
 193:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_GPU_READ == rw) {
 252              		.loc 1 193 0
 253 000e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 254 0010 002B     		cmp	r3, #0
 255 0012 64D1     		bne	.L8
 256              	.LBB2:
 194:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 195:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 196:FT_Eve_Hal/FT_Gpu_Hal.c **** 		unsigned char cTempAddr[3];						// FT800 Memory Address
 197:FT_Eve_Hal/FT_Gpu_Hal.c **** 		unsigned char cZeroFill = ZERO;							// Dummy byte
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 9


 257              		.loc 1 197 0
 258 0014 0023     		movs	r3, #0
 259 0016 87F87B30 		strb	r3, [r7, #123]
 198:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 199:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[2] = (char) (addr >> 16) | MEM_READ;// Compose the command and address to send
 260              		.loc 1 199 0
 261 001a 7B68     		ldr	r3, [r7, #4]
 262 001c 1B0C     		lsrs	r3, r3, #16
 263 001e DBB2     		uxtb	r3, r3
 264 0020 87F87E30 		strb	r3, [r7, #126]
 200:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[1] = (char) (addr >> 8);						// middle byte
 265              		.loc 1 200 0
 266 0024 7B68     		ldr	r3, [r7, #4]
 267 0026 1B0A     		lsrs	r3, r3, #8
 268 0028 DBB2     		uxtb	r3, r3
 269 002a 87F87D30 		strb	r3, [r7, #125]
 201:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[0] = (char) (addr);								// low byte
 270              		.loc 1 201 0
 271 002e 7B68     		ldr	r3, [r7, #4]
 272 0030 DBB2     		uxtb	r3, r3
 273 0032 87F87C30 		strb	r3, [r7, #124]
 202:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 203:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);// Set chip select low
 274              		.loc 1 203 0
 275 0036 0022     		movs	r2, #0
 276 0038 0221     		movs	r1, #2
 277 003a 5848     		ldr	r0, .L19
 278 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 279              	.LBB3:
 204:FT_Eve_Hal/FT_Gpu_Hal.c **** 		for (int i = 2; i >= 0; i--) {
 280              		.loc 1 204 0
 281 0040 0223     		movs	r3, #2
 282 0042 C7F88430 		str	r3, [r7, #132]
 283 0046 3AE0     		b	.L9
 284              	.L12:
 205:FT_Eve_Hal/FT_Gpu_Hal.c **** 			if (HAL_SPI_Transmit(&hspi1, (uint8_t *) &cTempAddr[i], 1,
 285              		.loc 1 205 0
 286 0048 07F17C02 		add	r2, r7, #124
 287 004c D7F88430 		ldr	r3, [r7, #132]
 288 0050 D118     		adds	r1, r2, r3
 289 0052 4FF0FF33 		mov	r3, #-1
 290 0056 0122     		movs	r2, #1
 291 0058 5148     		ldr	r0, .L19+4
 292 005a FFF7FEFF 		bl	HAL_SPI_Transmit
 293 005e 0346     		mov	r3, r0
 294 0060 002B     		cmp	r3, #0
 295 0062 15D0     		beq	.L10
 296              	.LBB4:
 206:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_MAX_DELAY) != HAL_OK) {
 207:FT_Eve_Hal/FT_Gpu_Hal.c **** 				char buff[] = "FAILED TO TRANSMIT in StartTransfer\r";
 297              		.loc 1 207 0
 298 0064 4F4B     		ldr	r3, .L19+8
 299 0066 07F11004 		add	r4, r7, #16
 300 006a 1D46     		mov	r5, r3
 301 006c 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 302 006e 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 303 0070 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 10


 304 0072 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 305 0074 95E80300 		ldm	r5, {r0, r1}
 306 0078 2060     		str	r0, [r4]
 307 007a 0434     		adds	r4, r4, #4
 308 007c 2170     		strb	r1, [r4]
 208:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1,
 309              		.loc 1 208 0
 310 007e 07F11001 		add	r1, r7, #16
 311 0082 4FF0FF33 		mov	r3, #-1
 312 0086 2422     		movs	r2, #36
 313 0088 4748     		ldr	r0, .L19+12
 314 008a FFF7FEFF 		bl	HAL_UART_Transmit
 315              	.LBE4:
 316 008e 11E0     		b	.L11
 317              	.L10:
 318              	.LBB5:
 209:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_MAX_DELAY);
 210:FT_Eve_Hal/FT_Gpu_Hal.c **** 			} 			// Send Memory Write plus high address byte
 211:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 212:FT_Eve_Hal/FT_Gpu_Hal.c **** 			else {
 213:FT_Eve_Hal/FT_Gpu_Hal.c **** 				char buff[] = "SUCCESSFUL TRANSMISSION\r";
 319              		.loc 1 213 0
 320 0090 464B     		ldr	r3, .L19+16
 321 0092 07F16004 		add	r4, r7, #96
 322 0096 1D46     		mov	r5, r3
 323 0098 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 324 009a 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 325 009c 95E80700 		ldm	r5, {r0, r1, r2}
 326 00a0 03C4     		stmia	r4!, {r0, r1}
 327 00a2 2270     		strb	r2, [r4]
 214:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1,
 328              		.loc 1 214 0
 329 00a4 07F16001 		add	r1, r7, #96
 330 00a8 4FF0FF33 		mov	r3, #-1
 331 00ac 1822     		movs	r2, #24
 332 00ae 3E48     		ldr	r0, .L19+12
 333 00b0 FFF7FEFF 		bl	HAL_UART_Transmit
 334              	.L11:
 335              	.LBE5:
 204:FT_Eve_Hal/FT_Gpu_Hal.c **** 			if (HAL_SPI_Transmit(&hspi1, (uint8_t *) &cTempAddr[i], 1,
 336              		.loc 1 204 0 discriminator 2
 337 00b4 D7F88430 		ldr	r3, [r7, #132]
 338 00b8 013B     		subs	r3, r3, #1
 339 00ba C7F88430 		str	r3, [r7, #132]
 340              	.L9:
 204:FT_Eve_Hal/FT_Gpu_Hal.c **** 			if (HAL_SPI_Transmit(&hspi1, (uint8_t *) &cTempAddr[i], 1,
 341              		.loc 1 204 0 is_stmt 0 discriminator 1
 342 00be D7F88430 		ldr	r3, [r7, #132]
 343 00c2 002B     		cmp	r3, #0
 344 00c4 C0DA     		bge	.L12
 345              	.LBE3:
 215:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_MAX_DELAY);
 216:FT_Eve_Hal/FT_Gpu_Hal.c **** 			}
 217:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 218:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 219:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 220:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, &cZeroFill, 1, HAL_MAX_DELAY);	// Send dummy byte
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 11


 346              		.loc 1 220 0 is_stmt 1
 347 00c6 07F17B01 		add	r1, r7, #123
 348 00ca 4FF0FF33 		mov	r3, #-1
 349 00ce 0122     		movs	r2, #1
 350 00d0 3348     		ldr	r0, .L19+4
 351 00d2 FFF7FEFF 		bl	HAL_SPI_Transmit
 221:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 222:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 223:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t spidata[4];
 224:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[0] = (addr >> 16);
 225:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[1] = (addr >> 8);
 226:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[2] = addr &0xff;
 227:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_open(SPIM, host->hal_config.spi_cs_pin_no);
 228:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,spidata,3);
 229:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 230:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 231:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 232:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 233:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t Transfer_Array[4];
 234:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t SizeTransfered;
 235:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 236:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 237:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* Compose the read packet */
 238:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[0] = addr >> 16;
 239:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[1] = addr >> 8;
 240:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[2] = addr;
 241:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 242:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[3] = 0; //Dummy Read byte
 243:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 244:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,Transfer_Array,sizeof(Transfer_Array),&SizeTransfered,SPI_T
 245:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 246:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 247:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT2,0);
 248:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&
 249:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 250:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 251:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 252:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 253:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 254:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 255:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(addr >> 16);
 256:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(highByte(addr));
 257:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(lowByte(addr));
 258:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 259:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(0); //Dummy Read Byte
 260:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 261:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 262:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 263:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_GpuEmu_SPII2C_StartRead(addr);
 264:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 265:FT_Eve_Hal/FT_Gpu_Hal.c **** 		host->status = FT_GPU_HAL_READING;
 352              		.loc 1 265 0
 353 00d6 FB68     		ldr	r3, [r7, #12]
 354 00d8 0122     		movs	r2, #1
 355 00da 1A73     		strb	r2, [r3, #12]
 356              	.LBE2:
 266:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 12


 267:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 268:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 269:FT_Eve_Hal/FT_Gpu_Hal.c **** 		unsigned char cTempAddr[3];						// FT800 Memory Address
 270:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 271:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[2] = (char) (addr >> 16) | MEM_WRITE;	// Compose the command and address to send
 272:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[1] = (char) (addr >> 8);						// middle byte
 273:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[0] = (char) (addr);								// low byte
 274:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 275:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);// Set chip select low
 276:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 277:FT_Eve_Hal/FT_Gpu_Hal.c **** 		for (int i = 2; i >= 0; i--) {
 278:FT_Eve_Hal/FT_Gpu_Hal.c **** 			if (HAL_SPI_Transmit(&hspi1, (uint8_t *) &cTempAddr[i], 1,
 279:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_MAX_DELAY) != HAL_OK) {
 280:FT_Eve_Hal/FT_Gpu_Hal.c **** 				char buff[] = "FAILED TO TRANSMIT in StartTransfer in command\r";
 281:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1,
 282:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_MAX_DELAY);
 283:FT_Eve_Hal/FT_Gpu_Hal.c **** 			} 			// Send Memory Write plus high address byte
 284:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 285:FT_Eve_Hal/FT_Gpu_Hal.c **** 			else {
 286:FT_Eve_Hal/FT_Gpu_Hal.c **** 				char buff[] = "SUCCESSFUL TRANSMISSION\r";
 287:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1,
 288:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_MAX_DELAY);
 289:FT_Eve_Hal/FT_Gpu_Hal.c **** 			}
 290:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 291:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 292:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 293:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t spidata[4];
 294:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[0] = (0x80|(addr >> 16));
 295:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[1] = (addr >> 8);
 296:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[2] = addr;
 297:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 298:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_open(SPIM, host->hal_config.spi_cs_pin_no);
 299:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,spidata,3);
 300:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 301:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 302:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 303:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 304:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t Transfer_Array[3];
 305:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t SizeTransfered;
 306:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 307:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 308:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* Compose the read packet */
 309:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[0] = (0x80 | (addr >> 16));
 310:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[1] = addr >> 8;
 311:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[2] = addr;
 312:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 313:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,Transfer_Array,3,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_
 314:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 315:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 316:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT2,0);
 317:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&
 318:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 319:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 320:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 321:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 322:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(0x80 | (addr >> 16));
 323:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(highByte(addr));
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 13


 324:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(lowByte(addr));
 325:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 326:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 327:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_GpuEmu_SPII2C_StartWrite(addr);
 328:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 329:FT_Eve_Hal/FT_Gpu_Hal.c **** 		host->status = FT_GPU_HAL_WRITING;
 330:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 331:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 357              		.loc 1 331 0
 358 00dc 5AE0     		b	.L18
 359              	.L8:
 360              	.LBB6:
 271:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[1] = (char) (addr >> 8);						// middle byte
 361              		.loc 1 271 0
 362 00de 7B68     		ldr	r3, [r7, #4]
 363 00e0 1B0C     		lsrs	r3, r3, #16
 364 00e2 DBB2     		uxtb	r3, r3
 365 00e4 63F07F03 		orn	r3, r3, #127
 366 00e8 DBB2     		uxtb	r3, r3
 367 00ea 87F85E30 		strb	r3, [r7, #94]
 272:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[0] = (char) (addr);								// low byte
 368              		.loc 1 272 0
 369 00ee 7B68     		ldr	r3, [r7, #4]
 370 00f0 1B0A     		lsrs	r3, r3, #8
 371 00f2 DBB2     		uxtb	r3, r3
 372 00f4 87F85D30 		strb	r3, [r7, #93]
 273:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 373              		.loc 1 273 0
 374 00f8 7B68     		ldr	r3, [r7, #4]
 375 00fa DBB2     		uxtb	r3, r3
 376 00fc 87F85C30 		strb	r3, [r7, #92]
 275:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 377              		.loc 1 275 0
 378 0100 0022     		movs	r2, #0
 379 0102 0221     		movs	r1, #2
 380 0104 2548     		ldr	r0, .L19
 381 0106 FFF7FEFF 		bl	HAL_GPIO_WritePin
 382              	.LBB7:
 277:FT_Eve_Hal/FT_Gpu_Hal.c **** 			if (HAL_SPI_Transmit(&hspi1, (uint8_t *) &cTempAddr[i], 1,
 383              		.loc 1 277 0
 384 010a 0223     		movs	r3, #2
 385 010c C7F88030 		str	r3, [r7, #128]
 386 0110 39E0     		b	.L14
 387              	.L17:
 278:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_MAX_DELAY) != HAL_OK) {
 388              		.loc 1 278 0
 389 0112 07F15C02 		add	r2, r7, #92
 390 0116 D7F88030 		ldr	r3, [r7, #128]
 391 011a D118     		adds	r1, r2, r3
 392 011c 4FF0FF33 		mov	r3, #-1
 393 0120 0122     		movs	r2, #1
 394 0122 1F48     		ldr	r0, .L19+4
 395 0124 FFF7FEFF 		bl	HAL_SPI_Transmit
 396 0128 0346     		mov	r3, r0
 397 012a 002B     		cmp	r3, #0
 398 012c 14D0     		beq	.L15
 399              	.LBB8:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 14


 280:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1,
 400              		.loc 1 280 0
 401 012e 204B     		ldr	r3, .L19+20
 402 0130 07F11004 		add	r4, r7, #16
 403 0134 1D46     		mov	r5, r3
 404 0136 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 405 0138 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 406 013a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 407 013c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 408 013e 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 409 0142 84E80F00 		stm	r4, {r0, r1, r2, r3}
 281:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_MAX_DELAY);
 410              		.loc 1 281 0
 411 0146 07F11001 		add	r1, r7, #16
 412 014a 4FF0FF33 		mov	r3, #-1
 413 014e 2F22     		movs	r2, #47
 414 0150 1548     		ldr	r0, .L19+12
 415 0152 FFF7FEFF 		bl	HAL_UART_Transmit
 416              	.LBE8:
 417 0156 11E0     		b	.L16
 418              	.L15:
 419              	.LBB9:
 286:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1,
 420              		.loc 1 286 0
 421 0158 144B     		ldr	r3, .L19+16
 422 015a 07F14004 		add	r4, r7, #64
 423 015e 1D46     		mov	r5, r3
 424 0160 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 425 0162 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 426 0164 95E80700 		ldm	r5, {r0, r1, r2}
 427 0168 03C4     		stmia	r4!, {r0, r1}
 428 016a 2270     		strb	r2, [r4]
 287:FT_Eve_Hal/FT_Gpu_Hal.c **** 				HAL_MAX_DELAY);
 429              		.loc 1 287 0
 430 016c 07F14001 		add	r1, r7, #64
 431 0170 4FF0FF33 		mov	r3, #-1
 432 0174 1822     		movs	r2, #24
 433 0176 0C48     		ldr	r0, .L19+12
 434 0178 FFF7FEFF 		bl	HAL_UART_Transmit
 435              	.L16:
 436              	.LBE9:
 277:FT_Eve_Hal/FT_Gpu_Hal.c **** 			if (HAL_SPI_Transmit(&hspi1, (uint8_t *) &cTempAddr[i], 1,
 437              		.loc 1 277 0 discriminator 2
 438 017c D7F88030 		ldr	r3, [r7, #128]
 439 0180 013B     		subs	r3, r3, #1
 440 0182 C7F88030 		str	r3, [r7, #128]
 441              	.L14:
 277:FT_Eve_Hal/FT_Gpu_Hal.c **** 			if (HAL_SPI_Transmit(&hspi1, (uint8_t *) &cTempAddr[i], 1,
 442              		.loc 1 277 0 is_stmt 0 discriminator 1
 443 0186 D7F88030 		ldr	r3, [r7, #128]
 444 018a 002B     		cmp	r3, #0
 445 018c C1DA     		bge	.L17
 446              	.LBE7:
 329:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 447              		.loc 1 329 0 is_stmt 1
 448 018e FB68     		ldr	r3, [r7, #12]
 449 0190 0222     		movs	r2, #2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 15


 450 0192 1A73     		strb	r2, [r3, #12]
 451              	.L18:
 452              	.LBE6:
 453              		.loc 1 331 0
 454 0194 00BF     		nop
 455 0196 8837     		adds	r7, r7, #136
 456              	.LCFI25:
 457              		.cfi_def_cfa_offset 16
 458 0198 BD46     		mov	sp, r7
 459              	.LCFI26:
 460              		.cfi_def_cfa_register 13
 461              		@ sp needed
 462 019a B0BD     		pop	{r4, r5, r7, pc}
 463              	.L20:
 464              		.align	2
 465              	.L19:
 466 019c 00040240 		.word	1073873920
 467 01a0 00000000 		.word	hspi1
 468 01a4 00000000 		.word	.LC0
 469 01a8 00000000 		.word	huart6
 470 01ac 28000000 		.word	.LC1
 471 01b0 44000000 		.word	.LC2
 472              		.cfi_endproc
 473              	.LFE142:
 475              		.section	.text.Ft_Gpu_Hal_StartCmdTransfer,"ax",%progbits
 476              		.align	1
 477              		.global	Ft_Gpu_Hal_StartCmdTransfer
 478              		.syntax unified
 479              		.thumb
 480              		.thumb_func
 481              		.fpu fpv5-sp-d16
 483              	Ft_Gpu_Hal_StartCmdTransfer:
 484              	.LFB143:
 332:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 333:FT_Eve_Hal/FT_Gpu_Hal.c **** /*The APIs for writing transfer continuously only*/
 334:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_StartCmdTransfer(Ft_Gpu_Hal_Context_t *host,
 335:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_TRANSFERDIR_T rw, ft_uint16_t count) {
 485              		.loc 1 335 0
 486              		.cfi_startproc
 487              		@ args = 0, pretend = 0, frame = 8
 488              		@ frame_needed = 1, uses_anonymous_args = 0
 489 0000 80B5     		push	{r7, lr}
 490              	.LCFI27:
 491              		.cfi_def_cfa_offset 8
 492              		.cfi_offset 7, -8
 493              		.cfi_offset 14, -4
 494 0002 82B0     		sub	sp, sp, #8
 495              	.LCFI28:
 496              		.cfi_def_cfa_offset 16
 497 0004 00AF     		add	r7, sp, #0
 498              	.LCFI29:
 499              		.cfi_def_cfa_register 7
 500 0006 7860     		str	r0, [r7, #4]
 501 0008 0B46     		mov	r3, r1
 502 000a FB70     		strb	r3, [r7, #3]
 503 000c 1346     		mov	r3, r2	@ movhi
 504 000e 3B80     		strh	r3, [r7]	@ movhi
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 16


 336:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, rw, host->ft_cmd_fifo_wp + RAM_CMD);
 505              		.loc 1 336 0
 506 0010 7B68     		ldr	r3, [r7, #4]
 507 0012 1B89     		ldrh	r3, [r3, #8]
 508 0014 03F54212 		add	r2, r3, #3178496
 509 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 510 001a 1946     		mov	r1, r3
 511 001c 7868     		ldr	r0, [r7, #4]
 512 001e FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 337:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 513              		.loc 1 337 0
 514 0022 00BF     		nop
 515 0024 0837     		adds	r7, r7, #8
 516              	.LCFI30:
 517              		.cfi_def_cfa_offset 8
 518 0026 BD46     		mov	sp, r7
 519              	.LCFI31:
 520              		.cfi_def_cfa_register 13
 521              		@ sp needed
 522 0028 80BD     		pop	{r7, pc}
 523              		.cfi_endproc
 524              	.LFE143:
 526              		.section	.text.Ft_Gpu_Hal_TransferString,"ax",%progbits
 527              		.align	1
 528              		.global	Ft_Gpu_Hal_TransferString
 529              		.syntax unified
 530              		.thumb
 531              		.thumb_func
 532              		.fpu fpv5-sp-d16
 534              	Ft_Gpu_Hal_TransferString:
 535              	.LFB144:
 338:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 339:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_TransferString(Ft_Gpu_Hal_Context_t *host,
 340:FT_Eve_Hal/FT_Gpu_Hal.c **** 		const ft_char8_t *string) {
 536              		.loc 1 340 0
 537              		.cfi_startproc
 538              		@ args = 0, pretend = 0, frame = 16
 539              		@ frame_needed = 1, uses_anonymous_args = 0
 540 0000 80B5     		push	{r7, lr}
 541              	.LCFI32:
 542              		.cfi_def_cfa_offset 8
 543              		.cfi_offset 7, -8
 544              		.cfi_offset 14, -4
 545 0002 84B0     		sub	sp, sp, #16
 546              	.LCFI33:
 547              		.cfi_def_cfa_offset 24
 548 0004 00AF     		add	r7, sp, #0
 549              	.LCFI34:
 550              		.cfi_def_cfa_register 7
 551 0006 7860     		str	r0, [r7, #4]
 552 0008 3960     		str	r1, [r7]
 341:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t length = strlen(string);
 553              		.loc 1 341 0
 554 000a 3868     		ldr	r0, [r7]
 555 000c FFF7FEFF 		bl	strlen
 556 0010 0346     		mov	r3, r0
 557 0012 FB81     		strh	r3, [r7, #14]	@ movhi
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 17


 342:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 558              		.loc 1 342 0
 559 0014 08E0     		b	.L23
 560              	.L24:
 343:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, *string);
 561              		.loc 1 343 0
 562 0016 3B68     		ldr	r3, [r7]
 563 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 564 001a 1946     		mov	r1, r3
 565 001c 7868     		ldr	r0, [r7, #4]
 566 001e FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 344:FT_Eve_Hal/FT_Gpu_Hal.c **** 		string++;
 567              		.loc 1 344 0
 568 0022 3B68     		ldr	r3, [r7]
 569 0024 0133     		adds	r3, r3, #1
 570 0026 3B60     		str	r3, [r7]
 571              	.L23:
 342:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 572              		.loc 1 342 0
 573 0028 FB89     		ldrh	r3, [r7, #14]
 574 002a 5A1E     		subs	r2, r3, #1
 575 002c FA81     		strh	r2, [r7, #14]	@ movhi
 576 002e 002B     		cmp	r3, #0
 577 0030 F1D1     		bne	.L24
 345:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 346:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Append one null as ending flag
 347:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer8(host, 0);
 578              		.loc 1 347 0
 579 0032 0021     		movs	r1, #0
 580 0034 7868     		ldr	r0, [r7, #4]
 581 0036 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 348:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 582              		.loc 1 348 0
 583 003a 00BF     		nop
 584 003c 1037     		adds	r7, r7, #16
 585              	.LCFI35:
 586              		.cfi_def_cfa_offset 8
 587 003e BD46     		mov	sp, r7
 588              	.LCFI36:
 589              		.cfi_def_cfa_register 13
 590              		@ sp needed
 591 0040 80BD     		pop	{r7, pc}
 592              		.cfi_endproc
 593              	.LFE144:
 595              		.section	.text.Ft_Gpu_Hal_Transfer8,"ax",%progbits
 596              		.align	1
 597              		.global	Ft_Gpu_Hal_Transfer8
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 601              		.fpu fpv5-sp-d16
 603              	Ft_Gpu_Hal_Transfer8:
 604              	.LFB145:
 349:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 350:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint8_t Ft_Gpu_Hal_Transfer8(Ft_Gpu_Hal_Context_t *host, ft_uint8_t value) {
 605              		.loc 1 350 0
 606              		.cfi_startproc
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 18


 607              		@ args = 0, pretend = 0, frame = 16
 608              		@ frame_needed = 1, uses_anonymous_args = 0
 609 0000 80B5     		push	{r7, lr}
 610              	.LCFI37:
 611              		.cfi_def_cfa_offset 8
 612              		.cfi_offset 7, -8
 613              		.cfi_offset 14, -4
 614 0002 84B0     		sub	sp, sp, #16
 615              	.LCFI38:
 616              		.cfi_def_cfa_offset 24
 617 0004 00AF     		add	r7, sp, #0
 618              	.LCFI39:
 619              		.cfi_def_cfa_register 7
 620 0006 7860     		str	r0, [r7, #4]
 621 0008 0B46     		mov	r3, r1
 622 000a FB70     		strb	r3, [r7, #3]
 351:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 352:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t ReadByte;
 353:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING) {
 623              		.loc 1 353 0
 624 000c 7B68     		ldr	r3, [r7, #4]
 625 000e 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 626 0010 022B     		cmp	r3, #2
 627 0012 08D1     		bne	.L26
 354:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if(HAL_SPI_Transmit(&hspi1, value, 1, HAL_MAX_DELAY) != HAL_OK){
 628              		.loc 1 354 0
 629 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 630 0016 1946     		mov	r1, r3
 631 0018 4FF0FF33 		mov	r3, #-1
 632 001c 0122     		movs	r2, #1
 633 001e 0848     		ldr	r0, .L29
 634 0020 FFF7FEFF 		bl	HAL_SPI_Transmit
 635 0024 07E0     		b	.L27
 636              	.L26:
 355:FT_Eve_Hal/FT_Gpu_Hal.c **** 			
 356:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 357:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
 358:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Receive(&hspi1, &ReadByte, 1, HAL_MAX_DELAY);
 637              		.loc 1 358 0
 638 0026 07F10F01 		add	r1, r7, #15
 639 002a 4FF0FF33 		mov	r3, #-1
 640 002e 0122     		movs	r2, #1
 641 0030 0348     		ldr	r0, .L29
 642 0032 FFF7FEFF 		bl	HAL_SPI_Receive
 643              	.L27:
 359:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 360:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return ReadByte;
 644              		.loc 1 360 0
 645 0036 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 361:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 362:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 363:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t ReadByte;
 364:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 365:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING)
 366:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 367:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_write(SPIM,value);
 368:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 19


 369:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
 370:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 371:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_read(SPIM,ReadByte);
 372:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 373:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return ReadByte;
 374:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 375:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 376:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 377:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return SPI.transfer(value);
 378:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 379:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 380:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered;
 381:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING)
 382:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 383:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 384:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write(host->hal_handle,&value,sizeof(value),&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTE
 385:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 386:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 387:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 388:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, &value,sizeof(value),&SizeTransfered16,
 389:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
 390:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 391:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 392:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
 393:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 394:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 395:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Read(host->hal_handle,&value,sizeof(value),&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTES
 396:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 397:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 398:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 399:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleRead((FT_HANDLE)host->hal_handle, &value,sizeof(value),&SizeTransfered16,T
 400:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
 401:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 402:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 403:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 404:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (SizeTransfered != sizeof(value))
 405:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->status = FT_GPU_HAL_STATUS_ERROR;
 406:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 407:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 408:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 409:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 410:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return Ft_GpuEmu_SPII2C_transfer(value);
 411:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 412:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 646              		.loc 1 412 0
 647 0038 1846     		mov	r0, r3
 648 003a 1037     		adds	r7, r7, #16
 649              	.LCFI40:
 650              		.cfi_def_cfa_offset 8
 651 003c BD46     		mov	sp, r7
 652              	.LCFI41:
 653              		.cfi_def_cfa_register 13
 654              		@ sp needed
 655 003e 80BD     		pop	{r7, pc}
 656              	.L30:
 657              		.align	2
 658              	.L29:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 20


 659 0040 00000000 		.word	hspi1
 660              		.cfi_endproc
 661              	.LFE145:
 663              		.section	.text.Ft_Gpu_Hal_Transfer16,"ax",%progbits
 664              		.align	1
 665              		.global	Ft_Gpu_Hal_Transfer16
 666              		.syntax unified
 667              		.thumb
 668              		.thumb_func
 669              		.fpu fpv5-sp-d16
 671              	Ft_Gpu_Hal_Transfer16:
 672              	.LFB146:
 413:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 414:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint16_t Ft_Gpu_Hal_Transfer16(Ft_Gpu_Hal_Context_t *host, ft_uint16_t value) {
 673              		.loc 1 414 0
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 16
 676              		@ frame_needed = 1, uses_anonymous_args = 0
 677 0000 80B5     		push	{r7, lr}
 678              	.LCFI42:
 679              		.cfi_def_cfa_offset 8
 680              		.cfi_offset 7, -8
 681              		.cfi_offset 14, -4
 682 0002 84B0     		sub	sp, sp, #16
 683              	.LCFI43:
 684              		.cfi_def_cfa_offset 24
 685 0004 00AF     		add	r7, sp, #0
 686              	.LCFI44:
 687              		.cfi_def_cfa_register 7
 688 0006 7860     		str	r0, [r7, #4]
 689 0008 0B46     		mov	r3, r1
 690 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 415:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t retVal = 0;
 691              		.loc 1 415 0
 692 000c 0023     		movs	r3, #0
 693 000e FB81     		strh	r3, [r7, #14]	@ movhi
 416:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 417:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING) {
 694              		.loc 1 417 0
 695 0010 7B68     		ldr	r3, [r7, #4]
 696 0012 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 697 0014 022B     		cmp	r3, #2
 698 0016 0ED1     		bne	.L32
 418:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, value); 			//LSB first
 699              		.loc 1 418 0
 700 0018 7B88     		ldrh	r3, [r7, #2]	@ movhi
 701 001a DBB2     		uxtb	r3, r3
 702 001c 1946     		mov	r1, r3
 703 001e 7868     		ldr	r0, [r7, #4]
 704 0020 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 419:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, (value >> 8));
 705              		.loc 1 419 0
 706 0024 7B88     		ldrh	r3, [r7, #2]
 707 0026 1B0A     		lsrs	r3, r3, #8
 708 0028 9BB2     		uxth	r3, r3
 709 002a DBB2     		uxtb	r3, r3
 710 002c 1946     		mov	r1, r3
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 21


 711 002e 7868     		ldr	r0, [r7, #4]
 712 0030 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 713 0034 11E0     		b	.L33
 714              	.L32:
 420:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
 421:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal = Ft_Gpu_Hal_Transfer8(host, 0);
 715              		.loc 1 421 0
 716 0036 0021     		movs	r1, #0
 717 0038 7868     		ldr	r0, [r7, #4]
 718 003a FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 719 003e 0346     		mov	r3, r0
 720 0040 FB81     		strh	r3, [r7, #14]	@ movhi
 422:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal |= (ft_uint16_t) Ft_Gpu_Hal_Transfer8(host, 0) << 8;
 721              		.loc 1 422 0
 722 0042 0021     		movs	r1, #0
 723 0044 7868     		ldr	r0, [r7, #4]
 724 0046 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 725 004a 0346     		mov	r3, r0
 726 004c 1B02     		lsls	r3, r3, #8
 727 004e 1AB2     		sxth	r2, r3
 728 0050 B7F90E30 		ldrsh	r3, [r7, #14]
 729 0054 1343     		orrs	r3, r3, r2
 730 0056 1BB2     		sxth	r3, r3
 731 0058 FB81     		strh	r3, [r7, #14]	@ movhi
 732              	.L33:
 423:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 424:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 425:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return retVal;
 733              		.loc 1 425 0
 734 005a FB89     		ldrh	r3, [r7, #14]
 426:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 735              		.loc 1 426 0
 736 005c 1846     		mov	r0, r3
 737 005e 1037     		adds	r7, r7, #16
 738              	.LCFI45:
 739              		.cfi_def_cfa_offset 8
 740 0060 BD46     		mov	sp, r7
 741              	.LCFI46:
 742              		.cfi_def_cfa_register 13
 743              		@ sp needed
 744 0062 80BD     		pop	{r7, pc}
 745              		.cfi_endproc
 746              	.LFE146:
 748              		.section	.text.Ft_Gpu_Hal_Transfer32,"ax",%progbits
 749              		.align	1
 750              		.global	Ft_Gpu_Hal_Transfer32
 751              		.syntax unified
 752              		.thumb
 753              		.thumb_func
 754              		.fpu fpv5-sp-d16
 756              	Ft_Gpu_Hal_Transfer32:
 757              	.LFB147:
 427:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Gpu_Hal_Transfer32(Ft_Gpu_Hal_Context_t *host, ft_uint32_t value) {
 758              		.loc 1 427 0
 759              		.cfi_startproc
 760              		@ args = 0, pretend = 0, frame = 16
 761              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 22


 762 0000 80B5     		push	{r7, lr}
 763              	.LCFI47:
 764              		.cfi_def_cfa_offset 8
 765              		.cfi_offset 7, -8
 766              		.cfi_offset 14, -4
 767 0002 84B0     		sub	sp, sp, #16
 768              	.LCFI48:
 769              		.cfi_def_cfa_offset 24
 770 0004 00AF     		add	r7, sp, #0
 771              	.LCFI49:
 772              		.cfi_def_cfa_register 7
 773 0006 7860     		str	r0, [r7, #4]
 774 0008 3960     		str	r1, [r7]
 428:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t retVal = 0;
 775              		.loc 1 428 0
 776 000a 0023     		movs	r3, #0
 777 000c FB60     		str	r3, [r7, #12]
 429:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING) {
 778              		.loc 1 429 0
 779 000e 7B68     		ldr	r3, [r7, #4]
 780 0010 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 781 0012 022B     		cmp	r3, #2
 782 0014 0DD1     		bne	.L36
 430:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer16(host, value & 0xFFFF); 			//LSB first
 783              		.loc 1 430 0
 784 0016 3B68     		ldr	r3, [r7]
 785 0018 9BB2     		uxth	r3, r3
 786 001a 1946     		mov	r1, r3
 787 001c 7868     		ldr	r0, [r7, #4]
 788 001e FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 431:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer16(host, (value >> 16) & 0xFFFF);
 789              		.loc 1 431 0
 790 0022 3B68     		ldr	r3, [r7]
 791 0024 1B0C     		lsrs	r3, r3, #16
 792 0026 9BB2     		uxth	r3, r3
 793 0028 1946     		mov	r1, r3
 794 002a 7868     		ldr	r0, [r7, #4]
 795 002c FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 796 0030 0EE0     		b	.L37
 797              	.L36:
 432:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
 433:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal = Ft_Gpu_Hal_Transfer16(host, 0);
 798              		.loc 1 433 0
 799 0032 0021     		movs	r1, #0
 800 0034 7868     		ldr	r0, [r7, #4]
 801 0036 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 802 003a 0346     		mov	r3, r0
 803 003c FB60     		str	r3, [r7, #12]
 434:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal |= (ft_uint32_t) Ft_Gpu_Hal_Transfer16(host, 0) << 16;
 804              		.loc 1 434 0
 805 003e 0021     		movs	r1, #0
 806 0040 7868     		ldr	r0, [r7, #4]
 807 0042 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 808 0046 0346     		mov	r3, r0
 809 0048 1B04     		lsls	r3, r3, #16
 810 004a FA68     		ldr	r2, [r7, #12]
 811 004c 1343     		orrs	r3, r3, r2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 23


 812 004e FB60     		str	r3, [r7, #12]
 813              	.L37:
 435:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 436:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return retVal;
 814              		.loc 1 436 0
 815 0050 FB68     		ldr	r3, [r7, #12]
 437:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 816              		.loc 1 437 0
 817 0052 1846     		mov	r0, r3
 818 0054 1037     		adds	r7, r7, #16
 819              	.LCFI50:
 820              		.cfi_def_cfa_offset 8
 821 0056 BD46     		mov	sp, r7
 822              	.LCFI51:
 823              		.cfi_def_cfa_register 13
 824              		@ sp needed
 825 0058 80BD     		pop	{r7, pc}
 826              		.cfi_endproc
 827              	.LFE147:
 829              		.section	.text.Ft_Gpu_Hal_EndTransfer,"ax",%progbits
 830              		.align	1
 831              		.global	Ft_Gpu_Hal_EndTransfer
 832              		.syntax unified
 833              		.thumb
 834              		.thumb_func
 835              		.fpu fpv5-sp-d16
 837              	Ft_Gpu_Hal_EndTransfer:
 838              	.LFB148:
 438:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 439:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_EndTransfer(Ft_Gpu_Hal_Context_t *host) {
 839              		.loc 1 439 0
 840              		.cfi_startproc
 841              		@ args = 0, pretend = 0, frame = 8
 842              		@ frame_needed = 1, uses_anonymous_args = 0
 843 0000 80B5     		push	{r7, lr}
 844              	.LCFI52:
 845              		.cfi_def_cfa_offset 8
 846              		.cfi_offset 7, -8
 847              		.cfi_offset 14, -4
 848 0002 82B0     		sub	sp, sp, #8
 849              	.LCFI53:
 850              		.cfi_def_cfa_offset 16
 851 0004 00AF     		add	r7, sp, #0
 852              	.LCFI54:
 853              		.cfi_def_cfa_register 7
 854 0006 7860     		str	r0, [r7, #4]
 440:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 441:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_SET);
 855              		.loc 1 441 0
 856 0008 0122     		movs	r2, #1
 857 000a 0221     		movs	r1, #2
 858 000c 0448     		ldr	r0, .L40
 859 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 442:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 443:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 444:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_close(SPIM, host->hal_config.spi_cs_pin_no);
 445:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 24


 446:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 447:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 448:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 449:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//just disbale the CS - send 0 bytes with CS disable
 450:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_ToggleCS((FT_HANDLE)host->hal_handle,FALSE);
 451:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 452:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 453:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT2,1);
 454:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 455:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 456:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 457:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 458:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
 459:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 460:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 461:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 462:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_GpuEmu_SPII2C_csHigh();
 463:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 464:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->status = FT_GPU_HAL_OPENED;
 860              		.loc 1 464 0
 861 0012 7B68     		ldr	r3, [r7, #4]
 862 0014 0022     		movs	r2, #0
 863 0016 1A73     		strb	r2, [r3, #12]
 465:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 864              		.loc 1 465 0
 865 0018 00BF     		nop
 866 001a 0837     		adds	r7, r7, #8
 867              	.LCFI55:
 868              		.cfi_def_cfa_offset 8
 869 001c BD46     		mov	sp, r7
 870              	.LCFI56:
 871              		.cfi_def_cfa_register 13
 872              		@ sp needed
 873 001e 80BD     		pop	{r7, pc}
 874              	.L41:
 875              		.align	2
 876              	.L40:
 877 0020 00040240 		.word	1073873920
 878              		.cfi_endproc
 879              	.LFE148:
 881              		.section	.text.Ft_Gpu_Hal_Rd8,"ax",%progbits
 882              		.align	1
 883              		.global	Ft_Gpu_Hal_Rd8
 884              		.syntax unified
 885              		.thumb
 886              		.thumb_func
 887              		.fpu fpv5-sp-d16
 889              	Ft_Gpu_Hal_Rd8:
 890              	.LFB149:
 466:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 467:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint8_t Ft_Gpu_Hal_Rd8(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr) {
 891              		.loc 1 467 0
 892              		.cfi_startproc
 893              		@ args = 0, pretend = 0, frame = 16
 894              		@ frame_needed = 1, uses_anonymous_args = 0
 895 0000 80B5     		push	{r7, lr}
 896              	.LCFI57:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 25


 897              		.cfi_def_cfa_offset 8
 898              		.cfi_offset 7, -8
 899              		.cfi_offset 14, -4
 900 0002 84B0     		sub	sp, sp, #16
 901              	.LCFI58:
 902              		.cfi_def_cfa_offset 24
 903 0004 00AF     		add	r7, sp, #0
 904              	.LCFI59:
 905              		.cfi_def_cfa_register 7
 906 0006 7860     		str	r0, [r7, #4]
 907 0008 3960     		str	r1, [r7]
 468:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 469:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t value;
 470:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_READ, addr);
 908              		.loc 1 470 0
 909 000a 3A68     		ldr	r2, [r7]
 910 000c 0021     		movs	r1, #0
 911 000e 7868     		ldr	r0, [r7, #4]
 912 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 471:FT_Eve_Hal/FT_Gpu_Hal.c **** 	value = Ft_Gpu_Hal_Transfer8(host, 0);
 913              		.loc 1 471 0
 914 0014 0021     		movs	r1, #0
 915 0016 7868     		ldr	r0, [r7, #4]
 916 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 917 001c 0346     		mov	r3, r0
 918 001e FB73     		strb	r3, [r7, #15]
 472:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 919              		.loc 1 472 0
 920 0020 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 473:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 921              		.loc 1 473 0
 922 0022 1846     		mov	r0, r3
 923 0024 1037     		adds	r7, r7, #16
 924              	.LCFI60:
 925              		.cfi_def_cfa_offset 8
 926 0026 BD46     		mov	sp, r7
 927              	.LCFI61:
 928              		.cfi_def_cfa_register 13
 929              		@ sp needed
 930 0028 80BD     		pop	{r7, pc}
 931              		.cfi_endproc
 932              	.LFE149:
 934              		.section	.text.Ft_Gpu_Hal_Rd16,"ax",%progbits
 935              		.align	1
 936              		.global	Ft_Gpu_Hal_Rd16
 937              		.syntax unified
 938              		.thumb
 939              		.thumb_func
 940              		.fpu fpv5-sp-d16
 942              	Ft_Gpu_Hal_Rd16:
 943              	.LFB150:
 474:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint16_t Ft_Gpu_Hal_Rd16(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr) {
 944              		.loc 1 474 0
 945              		.cfi_startproc
 946              		@ args = 0, pretend = 0, frame = 16
 947              		@ frame_needed = 1, uses_anonymous_args = 0
 948 0000 80B5     		push	{r7, lr}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 26


 949              	.LCFI62:
 950              		.cfi_def_cfa_offset 8
 951              		.cfi_offset 7, -8
 952              		.cfi_offset 14, -4
 953 0002 84B0     		sub	sp, sp, #16
 954              	.LCFI63:
 955              		.cfi_def_cfa_offset 24
 956 0004 00AF     		add	r7, sp, #0
 957              	.LCFI64:
 958              		.cfi_def_cfa_register 7
 959 0006 7860     		str	r0, [r7, #4]
 960 0008 3960     		str	r1, [r7]
 475:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t value;
 476:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_READ, addr);
 961              		.loc 1 476 0
 962 000a 3A68     		ldr	r2, [r7]
 963 000c 0021     		movs	r1, #0
 964 000e 7868     		ldr	r0, [r7, #4]
 965 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 477:FT_Eve_Hal/FT_Gpu_Hal.c **** 	value = Ft_Gpu_Hal_Transfer16(host, 0);
 966              		.loc 1 477 0
 967 0014 0021     		movs	r1, #0
 968 0016 7868     		ldr	r0, [r7, #4]
 969 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 970 001c 0346     		mov	r3, r0
 971 001e FB81     		strh	r3, [r7, #14]	@ movhi
 478:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 972              		.loc 1 478 0
 973 0020 7868     		ldr	r0, [r7, #4]
 974 0022 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 479:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 975              		.loc 1 479 0
 976 0026 FB89     		ldrh	r3, [r7, #14]
 480:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 977              		.loc 1 480 0
 978 0028 1846     		mov	r0, r3
 979 002a 1037     		adds	r7, r7, #16
 980              	.LCFI65:
 981              		.cfi_def_cfa_offset 8
 982 002c BD46     		mov	sp, r7
 983              	.LCFI66:
 984              		.cfi_def_cfa_register 13
 985              		@ sp needed
 986 002e 80BD     		pop	{r7, pc}
 987              		.cfi_endproc
 988              	.LFE150:
 990              		.section	.text.Ft_Gpu_Hal_Rd32,"ax",%progbits
 991              		.align	1
 992              		.global	Ft_Gpu_Hal_Rd32
 993              		.syntax unified
 994              		.thumb
 995              		.thumb_func
 996              		.fpu fpv5-sp-d16
 998              	Ft_Gpu_Hal_Rd32:
 999              	.LFB151:
 481:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Gpu_Hal_Rd32(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr) {
 1000              		.loc 1 481 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 27


 1001              		.cfi_startproc
 1002              		@ args = 0, pretend = 0, frame = 16
 1003              		@ frame_needed = 1, uses_anonymous_args = 0
 1004 0000 80B5     		push	{r7, lr}
 1005              	.LCFI67:
 1006              		.cfi_def_cfa_offset 8
 1007              		.cfi_offset 7, -8
 1008              		.cfi_offset 14, -4
 1009 0002 84B0     		sub	sp, sp, #16
 1010              	.LCFI68:
 1011              		.cfi_def_cfa_offset 24
 1012 0004 00AF     		add	r7, sp, #0
 1013              	.LCFI69:
 1014              		.cfi_def_cfa_register 7
 1015 0006 7860     		str	r0, [r7, #4]
 1016 0008 3960     		str	r1, [r7]
 482:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t value;
 483:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_READ, addr);
 1017              		.loc 1 483 0
 1018 000a 3A68     		ldr	r2, [r7]
 1019 000c 0021     		movs	r1, #0
 1020 000e 7868     		ldr	r0, [r7, #4]
 1021 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 484:FT_Eve_Hal/FT_Gpu_Hal.c **** 	value = Ft_Gpu_Hal_Transfer32(host, 0);
 1022              		.loc 1 484 0
 1023 0014 0021     		movs	r1, #0
 1024 0016 7868     		ldr	r0, [r7, #4]
 1025 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer32
 1026 001c F860     		str	r0, [r7, #12]
 485:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 1027              		.loc 1 485 0
 1028 001e 7868     		ldr	r0, [r7, #4]
 1029 0020 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 486:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 1030              		.loc 1 486 0
 1031 0024 FB68     		ldr	r3, [r7, #12]
 487:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1032              		.loc 1 487 0
 1033 0026 1846     		mov	r0, r3
 1034 0028 1037     		adds	r7, r7, #16
 1035              	.LCFI70:
 1036              		.cfi_def_cfa_offset 8
 1037 002a BD46     		mov	sp, r7
 1038              	.LCFI71:
 1039              		.cfi_def_cfa_register 13
 1040              		@ sp needed
 1041 002c 80BD     		pop	{r7, pc}
 1042              		.cfi_endproc
 1043              	.LFE151:
 1045              		.section	.text.Ft_Gpu_Hal_Wr8,"ax",%progbits
 1046              		.align	1
 1047              		.global	Ft_Gpu_Hal_Wr8
 1048              		.syntax unified
 1049              		.thumb
 1050              		.thumb_func
 1051              		.fpu fpv5-sp-d16
 1053              	Ft_Gpu_Hal_Wr8:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 28


 1054              	.LFB152:
 488:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 489:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Wr8(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr,
 490:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t v) {
 1055              		.loc 1 490 0
 1056              		.cfi_startproc
 1057              		@ args = 0, pretend = 0, frame = 16
 1058              		@ frame_needed = 1, uses_anonymous_args = 0
 1059 0000 80B5     		push	{r7, lr}
 1060              	.LCFI72:
 1061              		.cfi_def_cfa_offset 8
 1062              		.cfi_offset 7, -8
 1063              		.cfi_offset 14, -4
 1064 0002 84B0     		sub	sp, sp, #16
 1065              	.LCFI73:
 1066              		.cfi_def_cfa_offset 24
 1067 0004 00AF     		add	r7, sp, #0
 1068              	.LCFI74:
 1069              		.cfi_def_cfa_register 7
 1070 0006 F860     		str	r0, [r7, #12]
 1071 0008 B960     		str	r1, [r7, #8]
 1072 000a 1346     		mov	r3, r2
 1073 000c FB71     		strb	r3, [r7, #7]
 491:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_WRITE, addr);
 1074              		.loc 1 491 0
 1075 000e BA68     		ldr	r2, [r7, #8]
 1076 0010 0121     		movs	r1, #1
 1077 0012 F868     		ldr	r0, [r7, #12]
 1078 0014 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 492:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer8(host, v);
 1079              		.loc 1 492 0
 1080 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1081 001a 1946     		mov	r1, r3
 1082 001c F868     		ldr	r0, [r7, #12]
 1083 001e FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 493:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 1084              		.loc 1 493 0
 1085 0022 F868     		ldr	r0, [r7, #12]
 1086 0024 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 494:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1087              		.loc 1 494 0
 1088 0028 00BF     		nop
 1089 002a 1037     		adds	r7, r7, #16
 1090              	.LCFI75:
 1091              		.cfi_def_cfa_offset 8
 1092 002c BD46     		mov	sp, r7
 1093              	.LCFI76:
 1094              		.cfi_def_cfa_register 13
 1095              		@ sp needed
 1096 002e 80BD     		pop	{r7, pc}
 1097              		.cfi_endproc
 1098              	.LFE152:
 1100              		.section	.text.Ft_Gpu_Hal_Wr16,"ax",%progbits
 1101              		.align	1
 1102              		.global	Ft_Gpu_Hal_Wr16
 1103              		.syntax unified
 1104              		.thumb
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 29


 1105              		.thumb_func
 1106              		.fpu fpv5-sp-d16
 1108              	Ft_Gpu_Hal_Wr16:
 1109              	.LFB153:
 495:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Wr16(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr,
 496:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t v) {
 1110              		.loc 1 496 0
 1111              		.cfi_startproc
 1112              		@ args = 0, pretend = 0, frame = 16
 1113              		@ frame_needed = 1, uses_anonymous_args = 0
 1114 0000 80B5     		push	{r7, lr}
 1115              	.LCFI77:
 1116              		.cfi_def_cfa_offset 8
 1117              		.cfi_offset 7, -8
 1118              		.cfi_offset 14, -4
 1119 0002 84B0     		sub	sp, sp, #16
 1120              	.LCFI78:
 1121              		.cfi_def_cfa_offset 24
 1122 0004 00AF     		add	r7, sp, #0
 1123              	.LCFI79:
 1124              		.cfi_def_cfa_register 7
 1125 0006 F860     		str	r0, [r7, #12]
 1126 0008 B960     		str	r1, [r7, #8]
 1127 000a 1346     		mov	r3, r2
 1128 000c FB80     		strh	r3, [r7, #6]	@ movhi
 497:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_WRITE, addr);
 1129              		.loc 1 497 0
 1130 000e BA68     		ldr	r2, [r7, #8]
 1131 0010 0121     		movs	r1, #1
 1132 0012 F868     		ldr	r0, [r7, #12]
 1133 0014 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 498:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer16(host, v);
 1134              		.loc 1 498 0
 1135 0018 FB88     		ldrh	r3, [r7, #6]
 1136 001a 1946     		mov	r1, r3
 1137 001c F868     		ldr	r0, [r7, #12]
 1138 001e FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 499:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 1139              		.loc 1 499 0
 1140 0022 F868     		ldr	r0, [r7, #12]
 1141 0024 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 500:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1142              		.loc 1 500 0
 1143 0028 00BF     		nop
 1144 002a 1037     		adds	r7, r7, #16
 1145              	.LCFI80:
 1146              		.cfi_def_cfa_offset 8
 1147 002c BD46     		mov	sp, r7
 1148              	.LCFI81:
 1149              		.cfi_def_cfa_register 13
 1150              		@ sp needed
 1151 002e 80BD     		pop	{r7, pc}
 1152              		.cfi_endproc
 1153              	.LFE153:
 1155              		.section	.text.Ft_Gpu_Hal_Wr32,"ax",%progbits
 1156              		.align	1
 1157              		.global	Ft_Gpu_Hal_Wr32
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 30


 1158              		.syntax unified
 1159              		.thumb
 1160              		.thumb_func
 1161              		.fpu fpv5-sp-d16
 1163              	Ft_Gpu_Hal_Wr32:
 1164              	.LFB154:
 501:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Wr32(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr,
 502:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t v) {
 1165              		.loc 1 502 0
 1166              		.cfi_startproc
 1167              		@ args = 0, pretend = 0, frame = 16
 1168              		@ frame_needed = 1, uses_anonymous_args = 0
 1169 0000 80B5     		push	{r7, lr}
 1170              	.LCFI82:
 1171              		.cfi_def_cfa_offset 8
 1172              		.cfi_offset 7, -8
 1173              		.cfi_offset 14, -4
 1174 0002 84B0     		sub	sp, sp, #16
 1175              	.LCFI83:
 1176              		.cfi_def_cfa_offset 24
 1177 0004 00AF     		add	r7, sp, #0
 1178              	.LCFI84:
 1179              		.cfi_def_cfa_register 7
 1180 0006 F860     		str	r0, [r7, #12]
 1181 0008 B960     		str	r1, [r7, #8]
 1182 000a 7A60     		str	r2, [r7, #4]
 503:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_WRITE, addr);
 1183              		.loc 1 503 0
 1184 000c BA68     		ldr	r2, [r7, #8]
 1185 000e 0121     		movs	r1, #1
 1186 0010 F868     		ldr	r0, [r7, #12]
 1187 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 504:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer32(host, v);
 1188              		.loc 1 504 0
 1189 0016 7968     		ldr	r1, [r7, #4]
 1190 0018 F868     		ldr	r0, [r7, #12]
 1191 001a FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer32
 505:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 1192              		.loc 1 505 0
 1193 001e F868     		ldr	r0, [r7, #12]
 1194 0020 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 506:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1195              		.loc 1 506 0
 1196 0024 00BF     		nop
 1197 0026 1037     		adds	r7, r7, #16
 1198              	.LCFI85:
 1199              		.cfi_def_cfa_offset 8
 1200 0028 BD46     		mov	sp, r7
 1201              	.LCFI86:
 1202              		.cfi_def_cfa_register 13
 1203              		@ sp needed
 1204 002a 80BD     		pop	{r7, pc}
 1205              		.cfi_endproc
 1206              	.LFE154:
 1208              		.section	.rodata
 1209              		.align	2
 1210              	.LC3:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 31


 1211 0074 4641494C 		.ascii	"FAILED TRANSMISSION in Ft_Gpu_HostCommand\015\000"
 1211      45442054 
 1211      52414E53 
 1211      4D495353 
 1211      494F4E20 
 1212 009f 00       		.align	2
 1213              	.LC4:
 1214 00a0 53554343 		.ascii	"SUCCESSFUL TRANSMISSION in Ft_Gpu_HostCommand\015\000"
 1214      45535346 
 1214      554C2054 
 1214      52414E53 
 1214      4D495353 
 1215              		.section	.text.Ft_Gpu_HostCommand,"ax",%progbits
 1216              		.align	1
 1217              		.global	Ft_Gpu_HostCommand
 1218              		.syntax unified
 1219              		.thumb
 1220              		.thumb_func
 1221              		.fpu fpv5-sp-d16
 1223              	Ft_Gpu_HostCommand:
 1224              	.LFB155:
 507:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 508:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_HostCommand(Ft_Gpu_Hal_Context_t *host, ft_uint8_t cmd) {
 1225              		.loc 1 508 0
 1226              		.cfi_startproc
 1227              		@ args = 0, pretend = 0, frame = 64
 1228              		@ frame_needed = 1, uses_anonymous_args = 0
 1229 0000 B0B5     		push	{r4, r5, r7, lr}
 1230              	.LCFI87:
 1231              		.cfi_def_cfa_offset 16
 1232              		.cfi_offset 4, -16
 1233              		.cfi_offset 5, -12
 1234              		.cfi_offset 7, -8
 1235              		.cfi_offset 14, -4
 1236 0002 90B0     		sub	sp, sp, #64
 1237              	.LCFI88:
 1238              		.cfi_def_cfa_offset 80
 1239 0004 00AF     		add	r7, sp, #0
 1240              	.LCFI89:
 1241              		.cfi_def_cfa_register 7
 1242 0006 7860     		str	r0, [r7, #4]
 1243 0008 0B46     		mov	r3, r1
 1244 000a FB70     		strb	r3, [r7, #3]
 509:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 510:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 511:FT_Eve_Hal/FT_Gpu_Hal.c **** 	unsigned char cTempAddr[3];							// FT800 Memory Address
 512:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 513:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[2] = (char) cmd;	// Compose the command and address to send
 1245              		.loc 1 513 0
 1246 000c FB78     		ldrb	r3, [r7, #3]
 1247 000e 87F83A30 		strb	r3, [r7, #58]
 514:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[1] = 0;								// middle byte
 1248              		.loc 1 514 0
 1249 0012 0023     		movs	r3, #0
 1250 0014 87F83930 		strb	r3, [r7, #57]
 515:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[0] = 0;										// low byte
 1251              		.loc 1 515 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 32


 1252 0018 0023     		movs	r3, #0
 1253 001a 87F83830 		strb	r3, [r7, #56]
 516:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 517:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);// Set chip select low
 1254              		.loc 1 517 0
 1255 001e 0022     		movs	r2, #0
 1256 0020 0221     		movs	r1, #2
 1257 0022 2848     		ldr	r0, .L56
 1258 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1259              	.LBB10:
 518:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 519:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for (int i = 2; i >= 0; i--) {
 1260              		.loc 1 519 0
 1261 0028 0223     		movs	r3, #2
 1262 002a FB63     		str	r3, [r7, #60]
 1263 002c 3EE0     		b	.L52
 1264              	.L55:
 520:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, HAL_MAX_DELAY) != HAL_OK) // Send Memory Write plu
 1265              		.loc 1 520 0
 1266 002e 07F13802 		add	r2, r7, #56
 1267 0032 FB6B     		ldr	r3, [r7, #60]
 1268 0034 D118     		adds	r1, r2, r3
 1269 0036 4FF0FF33 		mov	r3, #-1
 1270 003a 0122     		movs	r2, #1
 1271 003c 2248     		ldr	r0, .L56+4
 1272 003e FFF7FEFF 		bl	HAL_SPI_Transmit
 1273 0042 0346     		mov	r3, r0
 1274 0044 002B     		cmp	r3, #0
 1275 0046 17D0     		beq	.L53
 1276              	.LBB11:
 521:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 522:FT_Eve_Hal/FT_Gpu_Hal.c **** 			char buff[] = "FAILED TRANSMISSION in Ft_Gpu_HostCommand\r";
 1277              		.loc 1 522 0
 1278 0048 204B     		ldr	r3, .L56+8
 1279 004a 07F10804 		add	r4, r7, #8
 1280 004e 1D46     		mov	r5, r3
 1281 0050 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1282 0052 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1283 0054 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1284 0056 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1285 0058 95E80700 		ldm	r5, {r0, r1, r2}
 1286 005c 03C4     		stmia	r4!, {r0, r1}
 1287 005e 2280     		strh	r2, [r4]	@ movhi
 1288 0060 0234     		adds	r4, r4, #2
 1289 0062 130C     		lsrs	r3, r2, #16
 1290 0064 2370     		strb	r3, [r4]
 523:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1,
 1291              		.loc 1 523 0
 1292 0066 07F10801 		add	r1, r7, #8
 1293 006a 4FF0FF33 		mov	r3, #-1
 1294 006e 2A22     		movs	r2, #42
 1295 0070 1748     		ldr	r0, .L56+12
 1296 0072 FFF7FEFF 		bl	HAL_UART_Transmit
 1297              	.LBE11:
 1298 0076 16E0     		b	.L54
 1299              	.L53:
 1300              	.LBB12:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 33


 524:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_MAX_DELAY);
 525:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 526:FT_Eve_Hal/FT_Gpu_Hal.c **** 		else{
 527:FT_Eve_Hal/FT_Gpu_Hal.c **** 			char buff[] = "SUCCESSFUL TRANSMISSION in Ft_Gpu_HostCommand\r";
 1301              		.loc 1 527 0
 1302 0078 164B     		ldr	r3, .L56+16
 1303 007a 07F10804 		add	r4, r7, #8
 1304 007e 1D46     		mov	r5, r3
 1305 0080 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1306 0082 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1307 0084 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1308 0086 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1309 0088 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 1310 008c 07C4     		stmia	r4!, {r0, r1, r2}
 1311 008e 2380     		strh	r3, [r4]	@ movhi
 1312 0090 0234     		adds	r4, r4, #2
 1313 0092 1B0C     		lsrs	r3, r3, #16
 1314 0094 2370     		strb	r3, [r4]
 528:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_UART_Transmit(&huart6, (uint8_t *) buff, sizeof(buff) - 1, HAL_MAX_DELAY);
 1315              		.loc 1 528 0
 1316 0096 07F10801 		add	r1, r7, #8
 1317 009a 4FF0FF33 		mov	r3, #-1
 1318 009e 2E22     		movs	r2, #46
 1319 00a0 0B48     		ldr	r0, .L56+12
 1320 00a2 FFF7FEFF 		bl	HAL_UART_Transmit
 1321              	.L54:
 1322              	.LBE12:
 519:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, HAL_MAX_DELAY) != HAL_OK) // Send Memory Write plu
 1323              		.loc 1 519 0 discriminator 2
 1324 00a6 FB6B     		ldr	r3, [r7, #60]
 1325 00a8 013B     		subs	r3, r3, #1
 1326 00aa FB63     		str	r3, [r7, #60]
 1327              	.L52:
 519:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, HAL_MAX_DELAY) != HAL_OK) // Send Memory Write plu
 1328              		.loc 1 519 0 is_stmt 0 discriminator 1
 1329 00ac FB6B     		ldr	r3, [r7, #60]
 1330 00ae 002B     		cmp	r3, #0
 1331 00b0 BDDA     		bge	.L55
 1332              	.LBE10:
 529:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 530:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 531:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 532:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_SET);	// Set chip select high
 1333              		.loc 1 532 0 is_stmt 1
 1334 00b2 0122     		movs	r2, #1
 1335 00b4 0221     		movs	r1, #2
 1336 00b6 0348     		ldr	r0, .L56
 1337 00b8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 533:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 534:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 535:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t hcmd[4] = {0};
 536:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[0] = cmd;
 537:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[1] = 0;
 538:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[2] = 0;
 539:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[3] = 0;
 540:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 541:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_open(SPIM,host->hal_config.spi_cs_pin_no);
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 34


 542:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_writen(SPIM,hcmd,3);
 543:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_close(SPIM,host->hal_config.spi_cs_pin_no);
 544:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 545:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 546:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 547:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t Transfer_Array[3];
 548:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered;
 549:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t SizeTransfered16;
 550:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 551:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[0] = cmd;
 552:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[1] = 0;
 553:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[2] = 0;
 554:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 555:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_Write(host->hal_handle,Transfer_Array,sizeof(Transfer_Array),&SizeTransfered,SPI_TRANSFER_OPTI
 556:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 557:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 558:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 559:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 560:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&S
 561:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SizeTransfered = SizeTransfered16;
 562:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 563:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 564:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 565:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 566:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 567:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 568:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(cmd);
 569:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(0);
 570:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(0);
 571:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
 572:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 573:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 574:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Not implemented in FT800EMU
 575:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 576:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1338              		.loc 1 576 0
 1339 00bc 00BF     		nop
 1340 00be 4037     		adds	r7, r7, #64
 1341              	.LCFI90:
 1342              		.cfi_def_cfa_offset 16
 1343 00c0 BD46     		mov	sp, r7
 1344              	.LCFI91:
 1345              		.cfi_def_cfa_register 13
 1346              		@ sp needed
 1347 00c2 B0BD     		pop	{r4, r5, r7, pc}
 1348              	.L57:
 1349              		.align	2
 1350              	.L56:
 1351 00c4 00040240 		.word	1073873920
 1352 00c8 00000000 		.word	hspi1
 1353 00cc 74000000 		.word	.LC3
 1354 00d0 00000000 		.word	huart6
 1355 00d4 A0000000 		.word	.LC4
 1356              		.cfi_endproc
 1357              	.LFE155:
 1359              		.section	.text.Ft_Gpu_ClockSelect,"ax",%progbits
 1360              		.align	1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 35


 1361              		.global	Ft_Gpu_ClockSelect
 1362              		.syntax unified
 1363              		.thumb
 1364              		.thumb_func
 1365              		.fpu fpv5-sp-d16
 1367              	Ft_Gpu_ClockSelect:
 1368              	.LFB156:
 577:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 578:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_ClockSelect(Ft_Gpu_Hal_Context_t *host,
 579:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_PLL_SOURCE_T pllsource) {
 1369              		.loc 1 579 0
 1370              		.cfi_startproc
 1371              		@ args = 0, pretend = 0, frame = 8
 1372              		@ frame_needed = 1, uses_anonymous_args = 0
 1373 0000 80B5     		push	{r7, lr}
 1374              	.LCFI92:
 1375              		.cfi_def_cfa_offset 8
 1376              		.cfi_offset 7, -8
 1377              		.cfi_offset 14, -4
 1378 0002 82B0     		sub	sp, sp, #8
 1379              	.LCFI93:
 1380              		.cfi_def_cfa_offset 16
 1381 0004 00AF     		add	r7, sp, #0
 1382              	.LCFI94:
 1383              		.cfi_def_cfa_register 7
 1384 0006 7860     		str	r0, [r7, #4]
 1385 0008 0B46     		mov	r3, r1
 1386 000a FB70     		strb	r3, [r7, #3]
 580:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host, pllsource);
 1387              		.loc 1 580 0
 1388 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1389 000e 1946     		mov	r1, r3
 1390 0010 7868     		ldr	r0, [r7, #4]
 1391 0012 FFF7FEFF 		bl	Ft_Gpu_HostCommand
 581:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1392              		.loc 1 581 0
 1393 0016 00BF     		nop
 1394 0018 0837     		adds	r7, r7, #8
 1395              	.LCFI95:
 1396              		.cfi_def_cfa_offset 8
 1397 001a BD46     		mov	sp, r7
 1398              	.LCFI96:
 1399              		.cfi_def_cfa_register 13
 1400              		@ sp needed
 1401 001c 80BD     		pop	{r7, pc}
 1402              		.cfi_endproc
 1403              	.LFE156:
 1405              		.section	.text.Ft_Gpu_PLL_FreqSelect,"ax",%progbits
 1406              		.align	1
 1407              		.global	Ft_Gpu_PLL_FreqSelect
 1408              		.syntax unified
 1409              		.thumb
 1410              		.thumb_func
 1411              		.fpu fpv5-sp-d16
 1413              	Ft_Gpu_PLL_FreqSelect:
 1414              	.LFB157:
 582:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_PLL_FreqSelect(Ft_Gpu_Hal_Context_t *host,
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 36


 583:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_PLL_FREQ_T freq) {
 1415              		.loc 1 583 0
 1416              		.cfi_startproc
 1417              		@ args = 0, pretend = 0, frame = 8
 1418              		@ frame_needed = 1, uses_anonymous_args = 0
 1419 0000 80B5     		push	{r7, lr}
 1420              	.LCFI97:
 1421              		.cfi_def_cfa_offset 8
 1422              		.cfi_offset 7, -8
 1423              		.cfi_offset 14, -4
 1424 0002 82B0     		sub	sp, sp, #8
 1425              	.LCFI98:
 1426              		.cfi_def_cfa_offset 16
 1427 0004 00AF     		add	r7, sp, #0
 1428              	.LCFI99:
 1429              		.cfi_def_cfa_register 7
 1430 0006 7860     		str	r0, [r7, #4]
 1431 0008 0B46     		mov	r3, r1
 1432 000a FB70     		strb	r3, [r7, #3]
 584:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host, freq);
 1433              		.loc 1 584 0
 1434 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1435 000e 1946     		mov	r1, r3
 1436 0010 7868     		ldr	r0, [r7, #4]
 1437 0012 FFF7FEFF 		bl	Ft_Gpu_HostCommand
 585:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1438              		.loc 1 585 0
 1439 0016 00BF     		nop
 1440 0018 0837     		adds	r7, r7, #8
 1441              	.LCFI100:
 1442              		.cfi_def_cfa_offset 8
 1443 001a BD46     		mov	sp, r7
 1444              	.LCFI101:
 1445              		.cfi_def_cfa_register 13
 1446              		@ sp needed
 1447 001c 80BD     		pop	{r7, pc}
 1448              		.cfi_endproc
 1449              	.LFE157:
 1451              		.section	.text.Ft_Gpu_PowerModeSwitch,"ax",%progbits
 1452              		.align	1
 1453              		.global	Ft_Gpu_PowerModeSwitch
 1454              		.syntax unified
 1455              		.thumb
 1456              		.thumb_func
 1457              		.fpu fpv5-sp-d16
 1459              	Ft_Gpu_PowerModeSwitch:
 1460              	.LFB158:
 586:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_PowerModeSwitch(Ft_Gpu_Hal_Context_t *host,
 587:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_POWER_MODE_T pwrmode) {
 1461              		.loc 1 587 0
 1462              		.cfi_startproc
 1463              		@ args = 0, pretend = 0, frame = 8
 1464              		@ frame_needed = 1, uses_anonymous_args = 0
 1465 0000 80B5     		push	{r7, lr}
 1466              	.LCFI102:
 1467              		.cfi_def_cfa_offset 8
 1468              		.cfi_offset 7, -8
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 37


 1469              		.cfi_offset 14, -4
 1470 0002 82B0     		sub	sp, sp, #8
 1471              	.LCFI103:
 1472              		.cfi_def_cfa_offset 16
 1473 0004 00AF     		add	r7, sp, #0
 1474              	.LCFI104:
 1475              		.cfi_def_cfa_register 7
 1476 0006 7860     		str	r0, [r7, #4]
 1477 0008 0B46     		mov	r3, r1
 1478 000a FB70     		strb	r3, [r7, #3]
 588:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host, pwrmode);
 1479              		.loc 1 588 0
 1480 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1481 000e 1946     		mov	r1, r3
 1482 0010 7868     		ldr	r0, [r7, #4]
 1483 0012 FFF7FEFF 		bl	Ft_Gpu_HostCommand
 589:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1484              		.loc 1 589 0
 1485 0016 00BF     		nop
 1486 0018 0837     		adds	r7, r7, #8
 1487              	.LCFI105:
 1488              		.cfi_def_cfa_offset 8
 1489 001a BD46     		mov	sp, r7
 1490              	.LCFI106:
 1491              		.cfi_def_cfa_register 13
 1492              		@ sp needed
 1493 001c 80BD     		pop	{r7, pc}
 1494              		.cfi_endproc
 1495              	.LFE158:
 1497              		.section	.text.Ft_Gpu_CoreReset,"ax",%progbits
 1498              		.align	1
 1499              		.global	Ft_Gpu_CoreReset
 1500              		.syntax unified
 1501              		.thumb
 1502              		.thumb_func
 1503              		.fpu fpv5-sp-d16
 1505              	Ft_Gpu_CoreReset:
 1506              	.LFB159:
 590:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_CoreReset(Ft_Gpu_Hal_Context_t *host) {
 1507              		.loc 1 590 0
 1508              		.cfi_startproc
 1509              		@ args = 0, pretend = 0, frame = 8
 1510              		@ frame_needed = 1, uses_anonymous_args = 0
 1511 0000 80B5     		push	{r7, lr}
 1512              	.LCFI107:
 1513              		.cfi_def_cfa_offset 8
 1514              		.cfi_offset 7, -8
 1515              		.cfi_offset 14, -4
 1516 0002 82B0     		sub	sp, sp, #8
 1517              	.LCFI108:
 1518              		.cfi_def_cfa_offset 16
 1519 0004 00AF     		add	r7, sp, #0
 1520              	.LCFI109:
 1521              		.cfi_def_cfa_register 7
 1522 0006 7860     		str	r0, [r7, #4]
 591:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host, FT_GPU_CORE_RESET);
 1523              		.loc 1 591 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 38


 1524 0008 6821     		movs	r1, #104
 1525 000a 7868     		ldr	r0, [r7, #4]
 1526 000c FFF7FEFF 		bl	Ft_Gpu_HostCommand
 592:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1527              		.loc 1 592 0
 1528 0010 00BF     		nop
 1529 0012 0837     		adds	r7, r7, #8
 1530              	.LCFI110:
 1531              		.cfi_def_cfa_offset 8
 1532 0014 BD46     		mov	sp, r7
 1533              	.LCFI111:
 1534              		.cfi_def_cfa_register 13
 1535              		@ sp needed
 1536 0016 80BD     		pop	{r7, pc}
 1537              		.cfi_endproc
 1538              	.LFE159:
 1540              		.section	.text.Ft_Gpu_81X_SelectSysCLK,"ax",%progbits
 1541              		.align	1
 1542              		.global	Ft_Gpu_81X_SelectSysCLK
 1543              		.syntax unified
 1544              		.thumb
 1545              		.thumb_func
 1546              		.fpu fpv5-sp-d16
 1548              	Ft_Gpu_81X_SelectSysCLK:
 1549              	.LFB160:
 593:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 594:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT_81X_ENABLE
 595:FT_Eve_Hal/FT_Gpu_Hal.c **** //This API can only be called when PLL is stopped(SLEEP mode).  For compatibility, set frequency to
 596:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_81X_SelectSysCLK(Ft_Gpu_Hal_Context_t *host,
 597:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_81X_PLL_FREQ_T freq) {
 1550              		.loc 1 597 0
 1551              		.cfi_startproc
 1552              		@ args = 0, pretend = 0, frame = 8
 1553              		@ frame_needed = 1, uses_anonymous_args = 0
 1554 0000 80B5     		push	{r7, lr}
 1555              	.LCFI112:
 1556              		.cfi_def_cfa_offset 8
 1557              		.cfi_offset 7, -8
 1558              		.cfi_offset 14, -4
 1559 0002 82B0     		sub	sp, sp, #8
 1560              	.LCFI113:
 1561              		.cfi_def_cfa_offset 16
 1562 0004 00AF     		add	r7, sp, #0
 1563              	.LCFI114:
 1564              		.cfi_def_cfa_register 7
 1565 0006 7860     		str	r0, [r7, #4]
 1566 0008 0B46     		mov	r3, r1
 1567 000a FB70     		strb	r3, [r7, #3]
 598:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_GPU_SYSCLK_72M == freq)
 1568              		.loc 1 598 0
 1569 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1570 000e 062B     		cmp	r3, #6
 1571 0010 05D1     		bne	.L63
 599:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host,
 1572              		.loc 1 599 0
 1573 0012 44F26161 		movw	r1, #18017
 1574 0016 7868     		ldr	r0, [r7, #4]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 39


 1575 0018 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 600:FT_Eve_Hal/FT_Gpu_Hal.c **** 				(ft_uint32_t) 0x61 | (0x40 << 8) | (0x06 << 8));
 601:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if (FT_GPU_SYSCLK_60M == freq)
 602:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host,
 603:FT_Eve_Hal/FT_Gpu_Hal.c **** 				(ft_uint32_t) 0x61 | (0x40 << 8) | (0x05 << 8));
 604:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if (FT_GPU_SYSCLK_48M == freq)
 605:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host,
 606:FT_Eve_Hal/FT_Gpu_Hal.c **** 				(ft_uint32_t) 0x61 | (0x40 << 8) | (0x04 << 8));
 607:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if (FT_GPU_SYSCLK_36M == freq)
 608:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t) 0x61 | (0x03 << 8));
 609:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if (FT_GPU_SYSCLK_24M == freq)
 610:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t) 0x61 | (0x02 << 8));
 611:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if (FT_GPU_SYSCLK_DEFAULT == freq)		//default clock
 612:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, 0x61);
 613:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1576              		.loc 1 613 0
 1577 001c 2AE0     		b	.L69
 1578              	.L63:
 601:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host,
 1579              		.loc 1 601 0
 1580 001e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1581 0020 052B     		cmp	r3, #5
 1582 0022 05D1     		bne	.L65
 602:FT_Eve_Hal/FT_Gpu_Hal.c **** 				(ft_uint32_t) 0x61 | (0x40 << 8) | (0x05 << 8));
 1583              		.loc 1 602 0
 1584 0024 44F26151 		movw	r1, #17761
 1585 0028 7868     		ldr	r0, [r7, #4]
 1586 002a FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1587              		.loc 1 613 0
 1588 002e 21E0     		b	.L69
 1589              	.L65:
 604:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host,
 1590              		.loc 1 604 0
 1591 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1592 0032 042B     		cmp	r3, #4
 1593 0034 05D1     		bne	.L66
 605:FT_Eve_Hal/FT_Gpu_Hal.c **** 				(ft_uint32_t) 0x61 | (0x40 << 8) | (0x04 << 8));
 1594              		.loc 1 605 0
 1595 0036 44F26141 		movw	r1, #17505
 1596 003a 7868     		ldr	r0, [r7, #4]
 1597 003c FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1598              		.loc 1 613 0
 1599 0040 18E0     		b	.L69
 1600              	.L66:
 607:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t) 0x61 | (0x03 << 8));
 1601              		.loc 1 607 0
 1602 0042 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1603 0044 032B     		cmp	r3, #3
 1604 0046 05D1     		bne	.L67
 608:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if (FT_GPU_SYSCLK_24M == freq)
 1605              		.loc 1 608 0
 1606 0048 40F26131 		movw	r1, #865
 1607 004c 7868     		ldr	r0, [r7, #4]
 1608 004e FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1609              		.loc 1 613 0
 1610 0052 0FE0     		b	.L69
 1611              	.L67:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 40


 609:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t) 0x61 | (0x02 << 8));
 1612              		.loc 1 609 0
 1613 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1614 0056 022B     		cmp	r3, #2
 1615 0058 05D1     		bne	.L68
 610:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if (FT_GPU_SYSCLK_DEFAULT == freq)		//default clock
 1616              		.loc 1 610 0
 1617 005a 40F26121 		movw	r1, #609
 1618 005e 7868     		ldr	r0, [r7, #4]
 1619 0060 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1620              		.loc 1 613 0
 1621 0064 06E0     		b	.L69
 1622              	.L68:
 611:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, 0x61);
 1623              		.loc 1 611 0
 1624 0066 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1625 0068 002B     		cmp	r3, #0
 1626 006a 03D1     		bne	.L69
 612:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1627              		.loc 1 612 0
 1628 006c 6121     		movs	r1, #97
 1629 006e 7868     		ldr	r0, [r7, #4]
 1630 0070 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1631              	.L69:
 1632              		.loc 1 613 0
 1633 0074 00BF     		nop
 1634 0076 0837     		adds	r7, r7, #8
 1635              	.LCFI115:
 1636              		.cfi_def_cfa_offset 8
 1637 0078 BD46     		mov	sp, r7
 1638              	.LCFI116:
 1639              		.cfi_def_cfa_register 13
 1640              		@ sp needed
 1641 007a 80BD     		pop	{r7, pc}
 1642              		.cfi_endproc
 1643              	.LFE160:
 1645              		.section	.text.Ft_GPU_81X_PowerOffComponents,"ax",%progbits
 1646              		.align	1
 1647              		.global	Ft_GPU_81X_PowerOffComponents
 1648              		.syntax unified
 1649              		.thumb
 1650              		.thumb_func
 1651              		.fpu fpv5-sp-d16
 1653              	Ft_GPU_81X_PowerOffComponents:
 1654              	.LFB161:
 614:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 615:FT_Eve_Hal/FT_Gpu_Hal.c **** //Power down or up ROMs and ADCs.  Specified one or more elements in the FT_GPU_81X_ROM_AND_ADC_T t
 616:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_GPU_81X_PowerOffComponents(Ft_Gpu_Hal_Context_t *host,
 617:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t val) {
 1655              		.loc 1 617 0
 1656              		.cfi_startproc
 1657              		@ args = 0, pretend = 0, frame = 8
 1658              		@ frame_needed = 1, uses_anonymous_args = 0
 1659 0000 80B5     		push	{r7, lr}
 1660              	.LCFI117:
 1661              		.cfi_def_cfa_offset 8
 1662              		.cfi_offset 7, -8
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 41


 1663              		.cfi_offset 14, -4
 1664 0002 82B0     		sub	sp, sp, #8
 1665              	.LCFI118:
 1666              		.cfi_def_cfa_offset 16
 1667 0004 00AF     		add	r7, sp, #0
 1668              	.LCFI119:
 1669              		.cfi_def_cfa_register 7
 1670 0006 7860     		str	r0, [r7, #4]
 1671 0008 0B46     		mov	r3, r1
 1672 000a FB70     		strb	r3, [r7, #3]
 618:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t) 0x49 | (val << 8));
 1673              		.loc 1 618 0
 1674 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1675 000e 1B02     		lsls	r3, r3, #8
 1676 0010 43F04903 		orr	r3, r3, #73
 1677 0014 1946     		mov	r1, r3
 1678 0016 7868     		ldr	r0, [r7, #4]
 1679 0018 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 619:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1680              		.loc 1 619 0
 1681 001c 00BF     		nop
 1682 001e 0837     		adds	r7, r7, #8
 1683              	.LCFI120:
 1684              		.cfi_def_cfa_offset 8
 1685 0020 BD46     		mov	sp, r7
 1686              	.LCFI121:
 1687              		.cfi_def_cfa_register 13
 1688              		@ sp needed
 1689 0022 80BD     		pop	{r7, pc}
 1690              		.cfi_endproc
 1691              	.LFE161:
 1693              		.section	.text.Ft_GPU_81X_PadDriveStrength,"ax",%progbits
 1694              		.align	1
 1695              		.global	Ft_GPU_81X_PadDriveStrength
 1696              		.syntax unified
 1697              		.thumb
 1698              		.thumb_func
 1699              		.fpu fpv5-sp-d16
 1701              	Ft_GPU_81X_PadDriveStrength:
 1702              	.LFB162:
 620:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 621:FT_Eve_Hal/FT_Gpu_Hal.c **** //this API sets the current strength of supported GPIO/IO group(s)
 622:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_GPU_81X_PadDriveStrength(Ft_Gpu_Hal_Context_t *host,
 623:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_81X_GPIO_DRIVE_STRENGTH_T strength,
 624:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_81X_GPIO_GROUP_T group) {
 1703              		.loc 1 624 0
 1704              		.cfi_startproc
 1705              		@ args = 0, pretend = 0, frame = 8
 1706              		@ frame_needed = 1, uses_anonymous_args = 0
 1707 0000 80B5     		push	{r7, lr}
 1708              	.LCFI122:
 1709              		.cfi_def_cfa_offset 8
 1710              		.cfi_offset 7, -8
 1711              		.cfi_offset 14, -4
 1712 0002 82B0     		sub	sp, sp, #8
 1713              	.LCFI123:
 1714              		.cfi_def_cfa_offset 16
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 42


 1715 0004 00AF     		add	r7, sp, #0
 1716              	.LCFI124:
 1717              		.cfi_def_cfa_register 7
 1718 0006 7860     		str	r0, [r7, #4]
 1719 0008 0B46     		mov	r3, r1
 1720 000a FB70     		strb	r3, [r7, #3]
 1721 000c 1346     		mov	r3, r2
 1722 000e BB70     		strb	r3, [r7, #2]
 625:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host,
 626:FT_Eve_Hal/FT_Gpu_Hal.c **** 			(ft_uint32_t) 0x70 | (group << 8) | (strength << 8));
 1723              		.loc 1 626 0
 1724 0010 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 1725 0012 1B02     		lsls	r3, r3, #8
 1726 0014 1A46     		mov	r2, r3
 1727 0016 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1728 0018 1B02     		lsls	r3, r3, #8
 1729 001a 1343     		orrs	r3, r3, r2
 625:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host,
 1730              		.loc 1 625 0
 1731 001c 43F07003 		orr	r3, r3, #112
 1732 0020 1946     		mov	r1, r3
 1733 0022 7868     		ldr	r0, [r7, #4]
 1734 0024 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 627:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1735              		.loc 1 627 0
 1736 0028 00BF     		nop
 1737 002a 0837     		adds	r7, r7, #8
 1738              	.LCFI125:
 1739              		.cfi_def_cfa_offset 8
 1740 002c BD46     		mov	sp, r7
 1741              	.LCFI126:
 1742              		.cfi_def_cfa_register 13
 1743              		@ sp needed
 1744 002e 80BD     		pop	{r7, pc}
 1745              		.cfi_endproc
 1746              	.LFE162:
 1748              		.section	.text.Ft_Gpu_81X_ResetActive,"ax",%progbits
 1749              		.align	1
 1750              		.global	Ft_Gpu_81X_ResetActive
 1751              		.syntax unified
 1752              		.thumb
 1753              		.thumb_func
 1754              		.fpu fpv5-sp-d16
 1756              	Ft_Gpu_81X_ResetActive:
 1757              	.LFB163:
 628:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 629:FT_Eve_Hal/FT_Gpu_Hal.c **** //this API will hold the system reset active, Ft_Gpu_81X_ResetRemoval() must be called to release t
 630:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_81X_ResetActive(Ft_Gpu_Hal_Context_t *host) {
 1758              		.loc 1 630 0
 1759              		.cfi_startproc
 1760              		@ args = 0, pretend = 0, frame = 8
 1761              		@ frame_needed = 1, uses_anonymous_args = 0
 1762 0000 80B5     		push	{r7, lr}
 1763              	.LCFI127:
 1764              		.cfi_def_cfa_offset 8
 1765              		.cfi_offset 7, -8
 1766              		.cfi_offset 14, -4
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 43


 1767 0002 82B0     		sub	sp, sp, #8
 1768              	.LCFI128:
 1769              		.cfi_def_cfa_offset 16
 1770 0004 00AF     		add	r7, sp, #0
 1771              	.LCFI129:
 1772              		.cfi_def_cfa_register 7
 1773 0006 7860     		str	r0, [r7, #4]
 631:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, FT_GPU_81X_RESET_ACTIVE);
 1774              		.loc 1 631 0
 1775 0008 4FF41A71 		mov	r1, #616
 1776 000c 7868     		ldr	r0, [r7, #4]
 1777 000e FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 632:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1778              		.loc 1 632 0
 1779 0012 00BF     		nop
 1780 0014 0837     		adds	r7, r7, #8
 1781              	.LCFI130:
 1782              		.cfi_def_cfa_offset 8
 1783 0016 BD46     		mov	sp, r7
 1784              	.LCFI131:
 1785              		.cfi_def_cfa_register 13
 1786              		@ sp needed
 1787 0018 80BD     		pop	{r7, pc}
 1788              		.cfi_endproc
 1789              	.LFE163:
 1791              		.section	.text.Ft_Gpu_81X_ResetRemoval,"ax",%progbits
 1792              		.align	1
 1793              		.global	Ft_Gpu_81X_ResetRemoval
 1794              		.syntax unified
 1795              		.thumb
 1796              		.thumb_func
 1797              		.fpu fpv5-sp-d16
 1799              	Ft_Gpu_81X_ResetRemoval:
 1800              	.LFB164:
 633:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 634:FT_Eve_Hal/FT_Gpu_Hal.c **** //This API will release the system reset, and the system will exit reset and behave as after POR, s
 635:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_81X_ResetRemoval(Ft_Gpu_Hal_Context_t *host) {
 1801              		.loc 1 635 0
 1802              		.cfi_startproc
 1803              		@ args = 0, pretend = 0, frame = 8
 1804              		@ frame_needed = 1, uses_anonymous_args = 0
 1805 0000 80B5     		push	{r7, lr}
 1806              	.LCFI132:
 1807              		.cfi_def_cfa_offset 8
 1808              		.cfi_offset 7, -8
 1809              		.cfi_offset 14, -4
 1810 0002 82B0     		sub	sp, sp, #8
 1811              	.LCFI133:
 1812              		.cfi_def_cfa_offset 16
 1813 0004 00AF     		add	r7, sp, #0
 1814              	.LCFI134:
 1815              		.cfi_def_cfa_register 7
 1816 0006 7860     		str	r0, [r7, #4]
 636:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, FT_GPU_81X_RESET_REMOVAL);
 1817              		.loc 1 636 0
 1818 0008 42F26801 		movw	r1, #8296
 1819 000c 7868     		ldr	r0, [r7, #4]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 44


 1820 000e FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 637:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1821              		.loc 1 637 0
 1822 0012 00BF     		nop
 1823 0014 0837     		adds	r7, r7, #8
 1824              	.LCFI135:
 1825              		.cfi_def_cfa_offset 8
 1826 0016 BD46     		mov	sp, r7
 1827              	.LCFI136:
 1828              		.cfi_def_cfa_register 13
 1829              		@ sp needed
 1830 0018 80BD     		pop	{r7, pc}
 1831              		.cfi_endproc
 1832              	.LFE164:
 1834              		.section	.text.Ft_Gpu_HostCommand_Ext3,"ax",%progbits
 1835              		.align	1
 1836              		.global	Ft_Gpu_HostCommand_Ext3
 1837              		.syntax unified
 1838              		.thumb
 1839              		.thumb_func
 1840              		.fpu fpv5-sp-d16
 1842              	Ft_Gpu_HostCommand_Ext3:
 1843              	.LFB165:
 638:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 639:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 640:FT_Eve_Hal/FT_Gpu_Hal.c **** //This API sends a 3byte command to the host
 641:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_HostCommand_Ext3(Ft_Gpu_Hal_Context_t *host, ft_uint32_t cmd) {
 1844              		.loc 1 641 0
 1845              		.cfi_startproc
 1846              		@ args = 0, pretend = 0, frame = 16
 1847              		@ frame_needed = 1, uses_anonymous_args = 0
 1848 0000 80B5     		push	{r7, lr}
 1849              	.LCFI137:
 1850              		.cfi_def_cfa_offset 8
 1851              		.cfi_offset 7, -8
 1852              		.cfi_offset 14, -4
 1853 0002 84B0     		sub	sp, sp, #16
 1854              	.LCFI138:
 1855              		.cfi_def_cfa_offset 24
 1856 0004 00AF     		add	r7, sp, #0
 1857              	.LCFI139:
 1858              		.cfi_def_cfa_register 7
 1859 0006 7860     		str	r0, [r7, #4]
 1860 0008 3960     		str	r1, [r7]
 642:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 643:FT_Eve_Hal/FT_Gpu_Hal.c **** 	unsigned char cTempAddr[3];							// FT800 Memory Address
 644:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 645:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[2] = (char) (cmd | 0xff);	// Compose the command and address to send
 1861              		.loc 1 645 0
 1862 000a FF23     		movs	r3, #255
 1863 000c BB72     		strb	r3, [r7, #10]
 646:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[1] = (char) ((cmd >> 8) & 0xff);					// middle byte
 1864              		.loc 1 646 0
 1865 000e 3B68     		ldr	r3, [r7]
 1866 0010 1B0A     		lsrs	r3, r3, #8
 1867 0012 DBB2     		uxtb	r3, r3
 1868 0014 7B72     		strb	r3, [r7, #9]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 45


 647:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[0] = (char) ((cmd >> 16) & 0xff);						// low byte
 1869              		.loc 1 647 0
 1870 0016 3B68     		ldr	r3, [r7]
 1871 0018 1B0C     		lsrs	r3, r3, #16
 1872 001a DBB2     		uxtb	r3, r3
 1873 001c 3B72     		strb	r3, [r7, #8]
 648:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 649:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);// Set chip select low
 1874              		.loc 1 649 0
 1875 001e 0022     		movs	r2, #0
 1876 0020 0221     		movs	r1, #2
 1877 0022 0F48     		ldr	r0, .L77
 1878 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1879              	.LBB13:
 650:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 651:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for (int i = 2; i >= 0; i--) {
 1880              		.loc 1 651 0
 1881 0028 0223     		movs	r3, #2
 1882 002a FB60     		str	r3, [r7, #12]
 1883 002c 0CE0     		b	.L75
 1884              	.L76:
 652:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, HAL_MAX_DELAY); // Send Memory Write plus high address
 1885              		.loc 1 652 0 discriminator 3
 1886 002e 07F10802 		add	r2, r7, #8
 1887 0032 FB68     		ldr	r3, [r7, #12]
 1888 0034 D118     		adds	r1, r2, r3
 1889 0036 4FF0FF33 		mov	r3, #-1
 1890 003a 0122     		movs	r2, #1
 1891 003c 0948     		ldr	r0, .L77+4
 1892 003e FFF7FEFF 		bl	HAL_SPI_Transmit
 651:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, HAL_MAX_DELAY); // Send Memory Write plus high address
 1893              		.loc 1 651 0 discriminator 3
 1894 0042 FB68     		ldr	r3, [r7, #12]
 1895 0044 013B     		subs	r3, r3, #1
 1896 0046 FB60     		str	r3, [r7, #12]
 1897              	.L75:
 651:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, HAL_MAX_DELAY); // Send Memory Write plus high address
 1898              		.loc 1 651 0 is_stmt 0 discriminator 1
 1899 0048 FB68     		ldr	r3, [r7, #12]
 1900 004a 002B     		cmp	r3, #0
 1901 004c EFDA     		bge	.L76
 1902              	.LBE13:
 653:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 654:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 655:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_SET);	// Set chip select high
 1903              		.loc 1 655 0 is_stmt 1
 1904 004e 0122     		movs	r2, #1
 1905 0050 0221     		movs	r1, #2
 1906 0052 0348     		ldr	r0, .L77
 1907 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 656:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 657:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 658:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t hcmd[4] = {0};
 659:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[0] = cmd & 0xff;
 660:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[1] = (cmd>>8) & 0xff;
 661:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[2] = (cmd>>16) & 0xff;
 662:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[3] = 0;
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 46


 663:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_open(SPIM,host->hal_config.spi_cs_pin_no);
 664:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_writen(SPIM,hcmd,3);
 665:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_close(SPIM,host->hal_config.spi_cs_pin_no);
 666:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 667:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 668:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 669:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t Transfer_Array[3];
 670:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered;
 671:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t SizeTransfered16;
 672:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 673:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[0] = cmd;
 674:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[1] = (cmd>>8) & 0xff;
 675:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[2] = (cmd>>16) & 0xff;
 676:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 677:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_Write(host->hal_handle,Transfer_Array,sizeof(Transfer_Array),&SizeTransfered,SPI_TRANSFER_OPTI
 678:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 679:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 680:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 681:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 682:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&S
 683:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SizeTransfered = SizeTransfered16;
 684:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 685:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 686:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 687:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 688:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 689:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(cmd);
 690:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer((cmd>>8) & 0xff);
 691:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer((cmd>>16) & 0xff);
 692:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
 693:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 694:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 695:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Not implemented in FT800EMU
 696:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 697:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1908              		.loc 1 697 0
 1909 0058 00BF     		nop
 1910 005a 1037     		adds	r7, r7, #16
 1911              	.LCFI140:
 1912              		.cfi_def_cfa_offset 8
 1913 005c BD46     		mov	sp, r7
 1914              	.LCFI141:
 1915              		.cfi_def_cfa_register 13
 1916              		@ sp needed
 1917 005e 80BD     		pop	{r7, pc}
 1918              	.L78:
 1919              		.align	2
 1920              	.L77:
 1921 0060 00040240 		.word	1073873920
 1922 0064 00000000 		.word	hspi1
 1923              		.cfi_endproc
 1924              	.LFE165:
 1926              		.section	.text.Ft_Gpu_Hal_Updatecmdfifo,"ax",%progbits
 1927              		.align	1
 1928              		.global	Ft_Gpu_Hal_Updatecmdfifo
 1929              		.syntax unified
 1930              		.thumb
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 47


 1931              		.thumb_func
 1932              		.fpu fpv5-sp-d16
 1934              	Ft_Gpu_Hal_Updatecmdfifo:
 1935              	.LFB166:
 698:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 699:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Updatecmdfifo(Ft_Gpu_Hal_Context_t *host,
 700:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t count) {
 1936              		.loc 1 700 0
 1937              		.cfi_startproc
 1938              		@ args = 0, pretend = 0, frame = 8
 1939              		@ frame_needed = 1, uses_anonymous_args = 0
 1940 0000 80B5     		push	{r7, lr}
 1941              	.LCFI142:
 1942              		.cfi_def_cfa_offset 8
 1943              		.cfi_offset 7, -8
 1944              		.cfi_offset 14, -4
 1945 0002 82B0     		sub	sp, sp, #8
 1946              	.LCFI143:
 1947              		.cfi_def_cfa_offset 16
 1948 0004 00AF     		add	r7, sp, #0
 1949              	.LCFI144:
 1950              		.cfi_def_cfa_register 7
 1951 0006 7860     		str	r0, [r7, #4]
 1952 0008 3960     		str	r1, [r7]
 701:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = (host->ft_cmd_fifo_wp + count) & 4095;
 1953              		.loc 1 701 0
 1954 000a 7B68     		ldr	r3, [r7, #4]
 1955 000c 1A89     		ldrh	r2, [r3, #8]
 1956 000e 3B68     		ldr	r3, [r7]
 1957 0010 9BB2     		uxth	r3, r3
 1958 0012 1344     		add	r3, r3, r2
 1959 0014 9BB2     		uxth	r3, r3
 1960 0016 C3F30B03 		ubfx	r3, r3, #0, #12
 1961 001a 9AB2     		uxth	r2, r3
 1962 001c 7B68     		ldr	r3, [r7, #4]
 1963 001e 1A81     		strh	r2, [r3, #8]	@ movhi
 702:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 703:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//4 byte alignment
 704:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = (host->ft_cmd_fifo_wp + 3) & 0xffc;
 1964              		.loc 1 704 0
 1965 0020 7B68     		ldr	r3, [r7, #4]
 1966 0022 1B89     		ldrh	r3, [r3, #8]
 1967 0024 0333     		adds	r3, r3, #3
 1968 0026 9AB2     		uxth	r2, r3
 1969 0028 40F6FC73 		movw	r3, #4092
 1970 002c 1340     		ands	r3, r3, r2
 1971 002e 9AB2     		uxth	r2, r3
 1972 0030 7B68     		ldr	r3, [r7, #4]
 1973 0032 1A81     		strh	r2, [r3, #8]	@ movhi
 705:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr16(host, REG_CMD_WRITE, host->ft_cmd_fifo_wp);
 1974              		.loc 1 705 0
 1975 0034 7B68     		ldr	r3, [r7, #4]
 1976 0036 1B89     		ldrh	r3, [r3, #8]
 1977 0038 1A46     		mov	r2, r3
 1978 003a 0449     		ldr	r1, .L80
 1979 003c 7868     		ldr	r0, [r7, #4]
 1980 003e FFF7FEFF 		bl	Ft_Gpu_Hal_Wr16
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 48


 706:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1981              		.loc 1 706 0
 1982 0042 00BF     		nop
 1983 0044 0837     		adds	r7, r7, #8
 1984              	.LCFI145:
 1985              		.cfi_def_cfa_offset 8
 1986 0046 BD46     		mov	sp, r7
 1987              	.LCFI146:
 1988              		.cfi_def_cfa_register 13
 1989              		@ sp needed
 1990 0048 80BD     		pop	{r7, pc}
 1991              	.L81:
 1992 004a 00BF     		.align	2
 1993              	.L80:
 1994 004c FC203000 		.word	3154172
 1995              		.cfi_endproc
 1996              	.LFE166:
 1998              		.section	.text.Ft_Gpu_Cmdfifo_Freespace,"ax",%progbits
 1999              		.align	1
 2000              		.global	Ft_Gpu_Cmdfifo_Freespace
 2001              		.syntax unified
 2002              		.thumb
 2003              		.thumb_func
 2004              		.fpu fpv5-sp-d16
 2006              	Ft_Gpu_Cmdfifo_Freespace:
 2007              	.LFB167:
 707:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 708:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint16_t Ft_Gpu_Cmdfifo_Freespace(Ft_Gpu_Hal_Context_t *host) {
 2008              		.loc 1 708 0
 2009              		.cfi_startproc
 2010              		@ args = 0, pretend = 0, frame = 16
 2011              		@ frame_needed = 1, uses_anonymous_args = 0
 2012 0000 90B5     		push	{r4, r7, lr}
 2013              	.LCFI147:
 2014              		.cfi_def_cfa_offset 12
 2015              		.cfi_offset 4, -12
 2016              		.cfi_offset 7, -8
 2017              		.cfi_offset 14, -4
 2018 0002 85B0     		sub	sp, sp, #20
 2019              	.LCFI148:
 2020              		.cfi_def_cfa_offset 32
 2021 0004 00AF     		add	r7, sp, #0
 2022              	.LCFI149:
 2023              		.cfi_def_cfa_register 7
 2024 0006 7860     		str	r0, [r7, #4]
 709:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t fullness, retval;
 710:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 711:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//host->ft_cmd_fifo_wp = Ft_Gpu_Hal_Rd16(host,REG_CMD_WRITE);
 712:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 713:FT_Eve_Hal/FT_Gpu_Hal.c **** 	fullness = (host->ft_cmd_fifo_wp - Ft_Gpu_Hal_Rd16(host, REG_CMD_READ))
 2025              		.loc 1 713 0
 2026 0008 7B68     		ldr	r3, [r7, #4]
 2027 000a 1C89     		ldrh	r4, [r3, #8]
 2028 000c 0949     		ldr	r1, .L84
 2029 000e 7868     		ldr	r0, [r7, #4]
 2030 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2031 0014 0346     		mov	r3, r0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 49


 714:FT_Eve_Hal/FT_Gpu_Hal.c **** 			& 4095;
 2032              		.loc 1 714 0
 2033 0016 E31A     		subs	r3, r4, r3
 2034 0018 9BB2     		uxth	r3, r3
 713:FT_Eve_Hal/FT_Gpu_Hal.c **** 			& 4095;
 2035              		.loc 1 713 0
 2036 001a C3F30B03 		ubfx	r3, r3, #0, #12
 2037 001e FB81     		strh	r3, [r7, #14]	@ movhi
 715:FT_Eve_Hal/FT_Gpu_Hal.c **** 	retval = (FT_CMD_FIFO_SIZE - 4) - fullness;
 2038              		.loc 1 715 0
 2039 0020 FB89     		ldrh	r3, [r7, #14]	@ movhi
 2040 0022 C3F57F63 		rsb	r3, r3, #4080
 2041 0026 0C33     		adds	r3, r3, #12
 2042 0028 BB81     		strh	r3, [r7, #12]	@ movhi
 716:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return (retval);
 2043              		.loc 1 716 0
 2044 002a BB89     		ldrh	r3, [r7, #12]
 717:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2045              		.loc 1 717 0
 2046 002c 1846     		mov	r0, r3
 2047 002e 1437     		adds	r7, r7, #20
 2048              	.LCFI150:
 2049              		.cfi_def_cfa_offset 12
 2050 0030 BD46     		mov	sp, r7
 2051              	.LCFI151:
 2052              		.cfi_def_cfa_register 13
 2053              		@ sp needed
 2054 0032 90BD     		pop	{r4, r7, pc}
 2055              	.L85:
 2056              		.align	2
 2057              	.L84:
 2058 0034 F8203000 		.word	3154168
 2059              		.cfi_endproc
 2060              	.LFE167:
 2062              		.section	.text.Ft_Gpu_Hal_WrCmdBuf,"ax",%progbits
 2063              		.align	1
 2064              		.global	Ft_Gpu_Hal_WrCmdBuf
 2065              		.syntax unified
 2066              		.thumb
 2067              		.thumb_func
 2068              		.fpu fpv5-sp-d16
 2070              	Ft_Gpu_Hal_WrCmdBuf:
 2071              	.LFB168:
 718:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 719:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmdBuf(Ft_Gpu_Hal_Context_t *host, ft_uint8_t *buffer,
 720:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t count) {
 2072              		.loc 1 720 0
 2073              		.cfi_startproc
 2074              		@ args = 0, pretend = 0, frame = 32
 2075              		@ frame_needed = 1, uses_anonymous_args = 0
 2076 0000 80B5     		push	{r7, lr}
 2077              	.LCFI152:
 2078              		.cfi_def_cfa_offset 8
 2079              		.cfi_offset 7, -8
 2080              		.cfi_offset 14, -4
 2081 0002 88B0     		sub	sp, sp, #32
 2082              	.LCFI153:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 50


 2083              		.cfi_def_cfa_offset 40
 2084 0004 00AF     		add	r7, sp, #0
 2085              	.LCFI154:
 2086              		.cfi_def_cfa_register 7
 2087 0006 F860     		str	r0, [r7, #12]
 2088 0008 B960     		str	r1, [r7, #8]
 2089 000a 7A60     		str	r2, [r7, #4]
 721:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int32_t length = 0, SizeTransfered = 0, availablefreesize;
 2090              		.loc 1 721 0
 2091 000c 0023     		movs	r3, #0
 2092 000e FB61     		str	r3, [r7, #28]
 2093 0010 0023     		movs	r3, #0
 2094 0012 BB61     		str	r3, [r7, #24]
 2095              	.L90:
 722:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 723:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MAX_CMD_FIFO_TRANSFER   Ft_Gpu_Cmdfifo_Freespace(host)
 724:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {
 725:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = count;
 2096              		.loc 1 725 0
 2097 0014 7B68     		ldr	r3, [r7, #4]
 2098 0016 FB61     		str	r3, [r7, #28]
 726:FT_Eve_Hal/FT_Gpu_Hal.c **** 		availablefreesize = MAX_CMD_FIFO_TRANSFER;
 2099              		.loc 1 726 0
 2100 0018 F868     		ldr	r0, [r7, #12]
 2101 001a FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 2102 001e 0346     		mov	r3, r0
 2103 0020 7B61     		str	r3, [r7, #20]
 727:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 728:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (length > availablefreesize) {
 2104              		.loc 1 728 0
 2105 0022 FA69     		ldr	r2, [r7, #28]
 2106 0024 7B69     		ldr	r3, [r7, #20]
 2107 0026 9A42     		cmp	r2, r3
 2108 0028 01DD     		ble	.L87
 729:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = availablefreesize;
 2109              		.loc 1 729 0
 2110 002a 7B69     		ldr	r3, [r7, #20]
 2111 002c FB61     		str	r3, [r7, #28]
 2112              	.L87:
 730:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 731:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_CheckCmdBuffer(host, length);
 2113              		.loc 1 731 0
 2114 002e FB69     		ldr	r3, [r7, #28]
 2115 0030 1946     		mov	r1, r3
 2116 0032 F868     		ldr	r0, [r7, #12]
 2117 0034 FFF7FEFF 		bl	Ft_Gpu_Hal_CheckCmdBuffer
 732:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 733:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_StartCmdTransfer(host, FT_GPU_WRITE, length);
 2118              		.loc 1 733 0
 2119 0038 FB69     		ldr	r3, [r7, #28]
 2120 003a 9BB2     		uxth	r3, r3
 2121 003c 1A46     		mov	r2, r3
 2122 003e 0121     		movs	r1, #1
 2123 0040 F868     		ldr	r0, [r7, #12]
 2124 0042 FFF7FEFF 		bl	Ft_Gpu_Hal_StartCmdTransfer
 734:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 735:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 51


 2125              		.loc 1 735 0
 2126 0046 0023     		movs	r3, #0
 2127 0048 BB61     		str	r3, [r7, #24]
 736:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 2128              		.loc 1 736 0
 2129 004a 0BE0     		b	.L88
 2130              	.L89:
 737:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host, *buffer);
 2131              		.loc 1 737 0
 2132 004c BB68     		ldr	r3, [r7, #8]
 2133 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2134 0050 1946     		mov	r1, r3
 2135 0052 F868     		ldr	r0, [r7, #12]
 2136 0054 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 738:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 2137              		.loc 1 738 0
 2138 0058 BB68     		ldr	r3, [r7, #8]
 2139 005a 0133     		adds	r3, r3, #1
 2140 005c BB60     		str	r3, [r7, #8]
 739:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered++;
 2141              		.loc 1 739 0
 2142 005e BB69     		ldr	r3, [r7, #24]
 2143 0060 0133     		adds	r3, r3, #1
 2144 0062 BB61     		str	r3, [r7, #24]
 2145              	.L88:
 736:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host, *buffer);
 2146              		.loc 1 736 0
 2147 0064 FB69     		ldr	r3, [r7, #28]
 2148 0066 5A1E     		subs	r2, r3, #1
 2149 0068 FA61     		str	r2, [r7, #28]
 2150 006a 002B     		cmp	r3, #0
 2151 006c EED1     		bne	.L89
 740:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 741:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 2152              		.loc 1 741 0
 2153 006e BB69     		ldr	r3, [r7, #24]
 2154 0070 FB61     		str	r3, [r7, #28]
 742:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 743:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 744:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,buffer,length);
 745:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer += length;
 746:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 747:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
 748:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 749:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 750:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 751:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 752:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 753:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 754:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 755:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 756:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 757:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 758:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 759:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 760:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SPI_Write(host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTES);
 761:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 52


 762:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 763:FT_Eve_Hal/FT_Gpu_Hal.c **** 			ft_uint16_t SizeTransfered16;
 764:FT_Eve_Hal/FT_Gpu_Hal.c **** 			FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, buffer,length,&SizeTransfered16,TRUE);
 765:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered = SizeTransfered16;
 766:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 767:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 768:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = SizeTransfered;
 769:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer += SizeTransfered;
 770:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 771:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 772:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 773:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_EndTransfer(host);
 2155              		.loc 1 773 0
 2156 0072 F868     		ldr	r0, [r7, #12]
 2157 0074 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 774:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Updatecmdfifo(host, length);
 2158              		.loc 1 774 0
 2159 0078 FB69     		ldr	r3, [r7, #28]
 2160 007a 1946     		mov	r1, r3
 2161 007c F868     		ldr	r0, [r7, #12]
 2162 007e FFF7FEFF 		bl	Ft_Gpu_Hal_Updatecmdfifo
 775:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 776:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WaitCmdfifo_empty(host);
 2163              		.loc 1 776 0
 2164 0082 F868     		ldr	r0, [r7, #12]
 2165 0084 FFF7FEFF 		bl	Ft_Gpu_Hal_WaitCmdfifo_empty
 777:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 778:FT_Eve_Hal/FT_Gpu_Hal.c **** 		count -= length;
 2166              		.loc 1 778 0
 2167 0088 FB69     		ldr	r3, [r7, #28]
 2168 008a 7A68     		ldr	r2, [r7, #4]
 2169 008c D31A     		subs	r3, r2, r3
 2170 008e 7B60     		str	r3, [r7, #4]
 779:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} while (count > 0);
 2171              		.loc 1 779 0
 2172 0090 7B68     		ldr	r3, [r7, #4]
 2173 0092 002B     		cmp	r3, #0
 2174 0094 BED1     		bne	.L90
 780:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2175              		.loc 1 780 0
 2176 0096 00BF     		nop
 2177 0098 2037     		adds	r7, r7, #32
 2178              	.LCFI155:
 2179              		.cfi_def_cfa_offset 8
 2180 009a BD46     		mov	sp, r7
 2181              	.LCFI156:
 2182              		.cfi_def_cfa_register 13
 2183              		@ sp needed
 2184 009c 80BD     		pop	{r7, pc}
 2185              		.cfi_endproc
 2186              	.LFE168:
 2188              		.section	.text.Ft_Gpu_Hal_CheckCmdBuffer,"ax",%progbits
 2189              		.align	1
 2190              		.global	Ft_Gpu_Hal_CheckCmdBuffer
 2191              		.syntax unified
 2192              		.thumb
 2193              		.thumb_func
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 53


 2194              		.fpu fpv5-sp-d16
 2196              	Ft_Gpu_Hal_CheckCmdBuffer:
 2197              	.LFB169:
 781:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 782:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined (ARDUINO_PLATFORM_SPI) || defined (FT900_PLATFORM)
 783:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmdBufFromFlash(Ft_Gpu_Hal_Context_t *host,FT_PROGMEM ft_prog_uchar8_t *buff
 784:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 785:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t length =0, SizeTransfered = 0;
 786:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 787:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MAX_CMD_FIFO_TRANSFER   Ft_Gpu_Cmdfifo_Freespace(host)
 788:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {
 789:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = count;
 790:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (length > MAX_CMD_FIFO_TRANSFER) {
 791:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = MAX_CMD_FIFO_TRANSFER;
 792:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 793:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_CheckCmdBuffer(host,length);
 794:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 795:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_StartCmdTransfer(host,FT_GPU_WRITE,length);
 796:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 797:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 798:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 799:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,ft_pgm_read_byte_near(buffer));
 800:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 801:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 802:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 803:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 804:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 805:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_EndTransfer(host);
 806:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Updatecmdfifo(host,length);
 807:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 808:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WaitCmdfifo_empty(host);
 809:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 810:FT_Eve_Hal/FT_Gpu_Hal.c **** 		count -= length;
 811:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}while (count > 0);
 812:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 813:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 814:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 815:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_CheckCmdBuffer(Ft_Gpu_Hal_Context_t *host,
 816:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t count) {
 2198              		.loc 1 816 0
 2199              		.cfi_startproc
 2200              		@ args = 0, pretend = 0, frame = 16
 2201              		@ frame_needed = 1, uses_anonymous_args = 0
 2202 0000 80B5     		push	{r7, lr}
 2203              	.LCFI157:
 2204              		.cfi_def_cfa_offset 8
 2205              		.cfi_offset 7, -8
 2206              		.cfi_offset 14, -4
 2207 0002 84B0     		sub	sp, sp, #16
 2208              	.LCFI158:
 2209              		.cfi_def_cfa_offset 24
 2210 0004 00AF     		add	r7, sp, #0
 2211              	.LCFI159:
 2212              		.cfi_def_cfa_register 7
 2213 0006 7860     		str	r0, [r7, #4]
 2214 0008 3960     		str	r1, [r7]
 2215              	.L92:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 54


 817:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t getfreespace;
 818:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {
 819:FT_Eve_Hal/FT_Gpu_Hal.c **** 		// FIXME: This can get stuck, non-even is returned in case of coprocessor issue
 820:FT_Eve_Hal/FT_Gpu_Hal.c **** 		getfreespace = Ft_Gpu_Cmdfifo_Freespace(host);
 2216              		.loc 1 820 0 discriminator 1
 2217 000a 7868     		ldr	r0, [r7, #4]
 2218 000c FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 2219 0010 0346     		mov	r3, r0
 2220 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 821:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} while (getfreespace < count);
 2221              		.loc 1 821 0 discriminator 1
 2222 0014 FB89     		ldrh	r3, [r7, #14]
 2223 0016 3A68     		ldr	r2, [r7]
 2224 0018 9A42     		cmp	r2, r3
 2225 001a F6D8     		bhi	.L92
 822:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2226              		.loc 1 822 0
 2227 001c 00BF     		nop
 2228 001e 1037     		adds	r7, r7, #16
 2229              	.LCFI160:
 2230              		.cfi_def_cfa_offset 8
 2231 0020 BD46     		mov	sp, r7
 2232              	.LCFI161:
 2233              		.cfi_def_cfa_register 13
 2234              		@ sp needed
 2235 0022 80BD     		pop	{r7, pc}
 2236              		.cfi_endproc
 2237              	.LFE169:
 2239              		.section	.text.Ft_Gpu_Hal_WaitCmdfifo_empty,"ax",%progbits
 2240              		.align	1
 2241              		.global	Ft_Gpu_Hal_WaitCmdfifo_empty
 2242              		.syntax unified
 2243              		.thumb
 2244              		.thumb_func
 2245              		.fpu fpv5-sp-d16
 2247              	Ft_Gpu_Hal_WaitCmdfifo_empty:
 2248              	.LFB170:
 823:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WaitCmdfifo_empty(Ft_Gpu_Hal_Context_t *host) {
 2249              		.loc 1 823 0
 2250              		.cfi_startproc
 2251              		@ args = 0, pretend = 0, frame = 8
 2252              		@ frame_needed = 1, uses_anonymous_args = 0
 2253 0000 90B5     		push	{r4, r7, lr}
 2254              	.LCFI162:
 2255              		.cfi_def_cfa_offset 12
 2256              		.cfi_offset 4, -12
 2257              		.cfi_offset 7, -8
 2258              		.cfi_offset 14, -4
 2259 0002 83B0     		sub	sp, sp, #12
 2260              	.LCFI163:
 2261              		.cfi_def_cfa_offset 24
 2262 0004 00AF     		add	r7, sp, #0
 2263              	.LCFI164:
 2264              		.cfi_def_cfa_register 7
 2265 0006 7860     		str	r0, [r7, #4]
 824:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (Ft_Gpu_Hal_Rd16(host, REG_CMD_READ)
 2266              		.loc 1 824 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 55


 2267 0008 00BF     		nop
 2268              	.L94:
 2269              		.loc 1 824 0 is_stmt 0 discriminator 1
 2270 000a 0C49     		ldr	r1, .L95
 2271 000c 7868     		ldr	r0, [r7, #4]
 2272 000e FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2273 0012 0346     		mov	r3, r0
 2274 0014 1C46     		mov	r4, r3
 825:FT_Eve_Hal/FT_Gpu_Hal.c **** 			!= Ft_Gpu_Hal_Rd16(host, REG_CMD_WRITE))
 2275              		.loc 1 825 0 is_stmt 1 discriminator 1
 2276 0016 0A49     		ldr	r1, .L95+4
 2277 0018 7868     		ldr	r0, [r7, #4]
 2278 001a FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2279 001e 0346     		mov	r3, r0
 824:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (Ft_Gpu_Hal_Rd16(host, REG_CMD_READ)
 2280              		.loc 1 824 0 discriminator 1
 2281 0020 9C42     		cmp	r4, r3
 2282 0022 F2D1     		bne	.L94
 826:FT_Eve_Hal/FT_Gpu_Hal.c **** 		;
 827:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 828:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = Ft_Gpu_Hal_Rd16(host, REG_CMD_WRITE);
 2283              		.loc 1 828 0
 2284 0024 0649     		ldr	r1, .L95+4
 2285 0026 7868     		ldr	r0, [r7, #4]
 2286 0028 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2287 002c 0346     		mov	r3, r0
 2288 002e 1A46     		mov	r2, r3
 2289 0030 7B68     		ldr	r3, [r7, #4]
 2290 0032 1A81     		strh	r2, [r3, #8]	@ movhi
 829:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2291              		.loc 1 829 0
 2292 0034 00BF     		nop
 2293 0036 0C37     		adds	r7, r7, #12
 2294              	.LCFI165:
 2295              		.cfi_def_cfa_offset 12
 2296 0038 BD46     		mov	sp, r7
 2297              	.LCFI166:
 2298              		.cfi_def_cfa_register 13
 2299              		@ sp needed
 2300 003a 90BD     		pop	{r4, r7, pc}
 2301              	.L96:
 2302              		.align	2
 2303              	.L95:
 2304 003c F8203000 		.word	3154168
 2305 0040 FC203000 		.word	3154172
 2306              		.cfi_endproc
 2307              	.LFE170:
 2309              		.section	.text.Ft_Gpu_Hal_WrCmdBuf_nowait,"ax",%progbits
 2310              		.align	1
 2311              		.global	Ft_Gpu_Hal_WrCmdBuf_nowait
 2312              		.syntax unified
 2313              		.thumb
 2314              		.thumb_func
 2315              		.fpu fpv5-sp-d16
 2317              	Ft_Gpu_Hal_WrCmdBuf_nowait:
 2318              	.LFB171:
 830:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 56


 831:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmdBuf_nowait(Ft_Gpu_Hal_Context_t *host,
 832:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t *buffer, ft_uint32_t count) {
 2319              		.loc 1 832 0
 2320              		.cfi_startproc
 2321              		@ args = 0, pretend = 0, frame = 24
 2322              		@ frame_needed = 1, uses_anonymous_args = 0
 2323 0000 80B5     		push	{r7, lr}
 2324              	.LCFI167:
 2325              		.cfi_def_cfa_offset 8
 2326              		.cfi_offset 7, -8
 2327              		.cfi_offset 14, -4
 2328 0002 86B0     		sub	sp, sp, #24
 2329              	.LCFI168:
 2330              		.cfi_def_cfa_offset 32
 2331 0004 00AF     		add	r7, sp, #0
 2332              	.LCFI169:
 2333              		.cfi_def_cfa_register 7
 2334 0006 F860     		str	r0, [r7, #12]
 2335 0008 B960     		str	r1, [r7, #8]
 2336 000a 7A60     		str	r2, [r7, #4]
 833:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t length = 0, SizeTransfered = 0;
 2337              		.loc 1 833 0
 2338 000c 0023     		movs	r3, #0
 2339 000e 7B61     		str	r3, [r7, #20]
 2340 0010 0023     		movs	r3, #0
 2341 0012 3B61     		str	r3, [r7, #16]
 2342              	.L101:
 834:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 835:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MAX_CMD_FIFO_TRANSFER   Ft_Gpu_Cmdfifo_Freespace(host)
 836:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {
 837:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = count;
 2343              		.loc 1 837 0
 2344 0014 7B68     		ldr	r3, [r7, #4]
 2345 0016 7B61     		str	r3, [r7, #20]
 838:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (length > MAX_CMD_FIFO_TRANSFER) {
 2346              		.loc 1 838 0
 2347 0018 F868     		ldr	r0, [r7, #12]
 2348 001a FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 2349 001e 0346     		mov	r3, r0
 2350 0020 1A46     		mov	r2, r3
 2351 0022 7B69     		ldr	r3, [r7, #20]
 2352 0024 9342     		cmp	r3, r2
 2353 0026 04D9     		bls	.L98
 839:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = MAX_CMD_FIFO_TRANSFER;
 2354              		.loc 1 839 0
 2355 0028 F868     		ldr	r0, [r7, #12]
 2356 002a FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 2357 002e 0346     		mov	r3, r0
 2358 0030 7B61     		str	r3, [r7, #20]
 2359              	.L98:
 840:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 841:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_CheckCmdBuffer(host, length);
 2360              		.loc 1 841 0
 2361 0032 7969     		ldr	r1, [r7, #20]
 2362 0034 F868     		ldr	r0, [r7, #12]
 2363 0036 FFF7FEFF 		bl	Ft_Gpu_Hal_CheckCmdBuffer
 842:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 57


 843:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_StartCmdTransfer(host, FT_GPU_WRITE, length);
 2364              		.loc 1 843 0
 2365 003a 7B69     		ldr	r3, [r7, #20]
 2366 003c 9BB2     		uxth	r3, r3
 2367 003e 1A46     		mov	r2, r3
 2368 0040 0121     		movs	r1, #1
 2369 0042 F868     		ldr	r0, [r7, #12]
 2370 0044 FFF7FEFF 		bl	Ft_Gpu_Hal_StartCmdTransfer
 844:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 845:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 2371              		.loc 1 845 0
 2372 0048 0023     		movs	r3, #0
 2373 004a 3B61     		str	r3, [r7, #16]
 846:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 2374              		.loc 1 846 0
 2375 004c 0BE0     		b	.L99
 2376              	.L100:
 847:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host, *buffer);
 2377              		.loc 1 847 0
 2378 004e BB68     		ldr	r3, [r7, #8]
 2379 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2380 0052 1946     		mov	r1, r3
 2381 0054 F868     		ldr	r0, [r7, #12]
 2382 0056 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 848:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 2383              		.loc 1 848 0
 2384 005a BB68     		ldr	r3, [r7, #8]
 2385 005c 0133     		adds	r3, r3, #1
 2386 005e BB60     		str	r3, [r7, #8]
 849:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered++;
 2387              		.loc 1 849 0
 2388 0060 3B69     		ldr	r3, [r7, #16]
 2389 0062 0133     		adds	r3, r3, #1
 2390 0064 3B61     		str	r3, [r7, #16]
 2391              	.L99:
 846:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host, *buffer);
 2392              		.loc 1 846 0
 2393 0066 7B69     		ldr	r3, [r7, #20]
 2394 0068 5A1E     		subs	r2, r3, #1
 2395 006a 7A61     		str	r2, [r7, #20]
 2396 006c 002B     		cmp	r3, #0
 2397 006e EED1     		bne	.L100
 850:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 851:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 2398              		.loc 1 851 0
 2399 0070 3B69     		ldr	r3, [r7, #16]
 2400 0072 7B61     		str	r3, [r7, #20]
 852:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 853:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 854:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,buffer,length);
 855:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer += length;
 856:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 857:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 858:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//#ifdef ARDUINO_PLATFORM_SPI
 859:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
 860:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 861:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 58


 862:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 863:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 864:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 865:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 866:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 867:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 868:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 869:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 870:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 871:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 872:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SPI_Write(host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTES);
 873:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 874:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 875:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 876:FT_Eve_Hal/FT_Gpu_Hal.c **** 			ft_uint16_t SizeTransfered16;
 877:FT_Eve_Hal/FT_Gpu_Hal.c **** 			FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, buffer,length,&SizeTransfered16,TRUE);
 878:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered = SizeTransfered16;
 879:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 880:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 881:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = SizeTransfered;
 882:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer += SizeTransfered;
 883:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 884:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 885:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 886:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_EndTransfer(host);
 2401              		.loc 1 886 0
 2402 0074 F868     		ldr	r0, [r7, #12]
 2403 0076 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 887:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Updatecmdfifo(host, length);
 2404              		.loc 1 887 0
 2405 007a 7969     		ldr	r1, [r7, #20]
 2406 007c F868     		ldr	r0, [r7, #12]
 2407 007e FFF7FEFF 		bl	Ft_Gpu_Hal_Updatecmdfifo
 888:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 889:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//	Ft_Gpu_Hal_WaitCmdfifo_empty(host);
 890:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 891:FT_Eve_Hal/FT_Gpu_Hal.c **** 		count -= length;
 2408              		.loc 1 891 0
 2409 0082 7A68     		ldr	r2, [r7, #4]
 2410 0084 7B69     		ldr	r3, [r7, #20]
 2411 0086 D31A     		subs	r3, r2, r3
 2412 0088 7B60     		str	r3, [r7, #4]
 892:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} while (count > 0);
 2413              		.loc 1 892 0
 2414 008a 7B68     		ldr	r3, [r7, #4]
 2415 008c 002B     		cmp	r3, #0
 2416 008e C1D1     		bne	.L101
 893:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2417              		.loc 1 893 0
 2418 0090 00BF     		nop
 2419 0092 1837     		adds	r7, r7, #24
 2420              	.LCFI170:
 2421              		.cfi_def_cfa_offset 8
 2422 0094 BD46     		mov	sp, r7
 2423              	.LCFI171:
 2424              		.cfi_def_cfa_register 13
 2425              		@ sp needed
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 59


 2426 0096 80BD     		pop	{r7, pc}
 2427              		.cfi_endproc
 2428              	.LFE171:
 2430              		.section	.text.Ft_Gpu_Hal_WaitCmdfifo_empty_status,"ax",%progbits
 2431              		.align	1
 2432              		.global	Ft_Gpu_Hal_WaitCmdfifo_empty_status
 2433              		.syntax unified
 2434              		.thumb
 2435              		.thumb_func
 2436              		.fpu fpv5-sp-d16
 2438              	Ft_Gpu_Hal_WaitCmdfifo_empty_status:
 2439              	.LFB172:
 894:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 895:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint8_t Ft_Gpu_Hal_WaitCmdfifo_empty_status(Ft_Gpu_Hal_Context_t *host) {
 2440              		.loc 1 895 0
 2441              		.cfi_startproc
 2442              		@ args = 0, pretend = 0, frame = 8
 2443              		@ frame_needed = 1, uses_anonymous_args = 0
 2444 0000 90B5     		push	{r4, r7, lr}
 2445              	.LCFI172:
 2446              		.cfi_def_cfa_offset 12
 2447              		.cfi_offset 4, -12
 2448              		.cfi_offset 7, -8
 2449              		.cfi_offset 14, -4
 2450 0002 83B0     		sub	sp, sp, #12
 2451              	.LCFI173:
 2452              		.cfi_def_cfa_offset 24
 2453 0004 00AF     		add	r7, sp, #0
 2454              	.LCFI174:
 2455              		.cfi_def_cfa_register 7
 2456 0006 7860     		str	r0, [r7, #4]
 896:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (Ft_Gpu_Hal_Rd16(host, REG_CMD_READ)
 2457              		.loc 1 896 0
 2458 0008 0D49     		ldr	r1, .L105
 2459 000a 7868     		ldr	r0, [r7, #4]
 2460 000c FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2461 0010 0346     		mov	r3, r0
 2462 0012 1C46     		mov	r4, r3
 897:FT_Eve_Hal/FT_Gpu_Hal.c **** 			!= Ft_Gpu_Hal_Rd16(host, REG_CMD_WRITE)) {
 2463              		.loc 1 897 0
 2464 0014 0B49     		ldr	r1, .L105+4
 2465 0016 7868     		ldr	r0, [r7, #4]
 2466 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2467 001c 0346     		mov	r3, r0
 896:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (Ft_Gpu_Hal_Rd16(host, REG_CMD_READ)
 2468              		.loc 1 896 0
 2469 001e 9C42     		cmp	r4, r3
 2470 0020 01D0     		beq	.L103
 898:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 2471              		.loc 1 898 0
 2472 0022 0023     		movs	r3, #0
 2473 0024 08E0     		b	.L104
 2474              	.L103:
 899:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
 900:FT_Eve_Hal/FT_Gpu_Hal.c **** 		host->ft_cmd_fifo_wp = Ft_Gpu_Hal_Rd16(host, REG_CMD_WRITE);
 2475              		.loc 1 900 0
 2476 0026 0749     		ldr	r1, .L105+4
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 60


 2477 0028 7868     		ldr	r0, [r7, #4]
 2478 002a FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2479 002e 0346     		mov	r3, r0
 2480 0030 1A46     		mov	r2, r3
 2481 0032 7B68     		ldr	r3, [r7, #4]
 2482 0034 1A81     		strh	r2, [r3, #8]	@ movhi
 901:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 1;
 2483              		.loc 1 901 0
 2484 0036 0123     		movs	r3, #1
 2485              	.L104:
 902:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 903:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2486              		.loc 1 903 0
 2487 0038 1846     		mov	r0, r3
 2488 003a 0C37     		adds	r7, r7, #12
 2489              	.LCFI175:
 2490              		.cfi_def_cfa_offset 12
 2491 003c BD46     		mov	sp, r7
 2492              	.LCFI176:
 2493              		.cfi_def_cfa_register 13
 2494              		@ sp needed
 2495 003e 90BD     		pop	{r4, r7, pc}
 2496              	.L106:
 2497              		.align	2
 2498              	.L105:
 2499 0040 F8203000 		.word	3154168
 2500 0044 FC203000 		.word	3154172
 2501              		.cfi_endproc
 2502              	.LFE172:
 2504              		.section	.text.Ft_Gpu_Hal_WaitLogo_Finish,"ax",%progbits
 2505              		.align	1
 2506              		.global	Ft_Gpu_Hal_WaitLogo_Finish
 2507              		.syntax unified
 2508              		.thumb
 2509              		.thumb_func
 2510              		.fpu fpv5-sp-d16
 2512              	Ft_Gpu_Hal_WaitLogo_Finish:
 2513              	.LFB173:
 904:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 905:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WaitLogo_Finish(Ft_Gpu_Hal_Context_t *host) {
 2514              		.loc 1 905 0
 2515              		.cfi_startproc
 2516              		@ args = 0, pretend = 0, frame = 16
 2517              		@ frame_needed = 1, uses_anonymous_args = 0
 2518 0000 80B5     		push	{r7, lr}
 2519              	.LCFI177:
 2520              		.cfi_def_cfa_offset 8
 2521              		.cfi_offset 7, -8
 2522              		.cfi_offset 14, -4
 2523 0002 84B0     		sub	sp, sp, #16
 2524              	.LCFI178:
 2525              		.cfi_def_cfa_offset 24
 2526 0004 00AF     		add	r7, sp, #0
 2527              	.LCFI179:
 2528              		.cfi_def_cfa_register 7
 2529 0006 7860     		str	r0, [r7, #4]
 2530              	.L108:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 61


 906:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int16_t cmdrdptr, cmdwrptr;
 907:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 908:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {
 909:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cmdrdptr = Ft_Gpu_Hal_Rd16(host, REG_CMD_READ);
 2531              		.loc 1 909 0 discriminator 3
 2532 0008 0E49     		ldr	r1, .L109
 2533 000a 7868     		ldr	r0, [r7, #4]
 2534 000c FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2535 0010 0346     		mov	r3, r0
 2536 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 910:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cmdwrptr = Ft_Gpu_Hal_Rd16(host, REG_CMD_WRITE);
 2537              		.loc 1 910 0 discriminator 3
 2538 0014 0C49     		ldr	r1, .L109+4
 2539 0016 7868     		ldr	r0, [r7, #4]
 2540 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 2541 001c 0346     		mov	r3, r0
 2542 001e BB81     		strh	r3, [r7, #12]	@ movhi
 911:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} while ((cmdwrptr != cmdrdptr) || (cmdrdptr != 0));
 2543              		.loc 1 911 0 discriminator 3
 2544 0020 B7F90C20 		ldrsh	r2, [r7, #12]
 2545 0024 B7F90E30 		ldrsh	r3, [r7, #14]
 2546 0028 9A42     		cmp	r2, r3
 2547 002a EDD1     		bne	.L108
 2548              		.loc 1 911 0 is_stmt 0 discriminator 2
 2549 002c B7F90E30 		ldrsh	r3, [r7, #14]
 2550 0030 002B     		cmp	r3, #0
 2551 0032 E9D1     		bne	.L108
 912:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = 0;
 2552              		.loc 1 912 0 is_stmt 1
 2553 0034 7B68     		ldr	r3, [r7, #4]
 2554 0036 0022     		movs	r2, #0
 2555 0038 1A81     		strh	r2, [r3, #8]	@ movhi
 913:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2556              		.loc 1 913 0
 2557 003a 00BF     		nop
 2558 003c 1037     		adds	r7, r7, #16
 2559              	.LCFI180:
 2560              		.cfi_def_cfa_offset 8
 2561 003e BD46     		mov	sp, r7
 2562              	.LCFI181:
 2563              		.cfi_def_cfa_register 13
 2564              		@ sp needed
 2565 0040 80BD     		pop	{r7, pc}
 2566              	.L110:
 2567 0042 00BF     		.align	2
 2568              	.L109:
 2569 0044 F8203000 		.word	3154168
 2570 0048 FC203000 		.word	3154172
 2571              		.cfi_endproc
 2572              	.LFE173:
 2574              		.section	.text.Ft_Gpu_Hal_ResetCmdFifo,"ax",%progbits
 2575              		.align	1
 2576              		.global	Ft_Gpu_Hal_ResetCmdFifo
 2577              		.syntax unified
 2578              		.thumb
 2579              		.thumb_func
 2580              		.fpu fpv5-sp-d16
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 62


 2582              	Ft_Gpu_Hal_ResetCmdFifo:
 2583              	.LFB174:
 914:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 915:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_ResetCmdFifo(Ft_Gpu_Hal_Context_t *host) {
 2584              		.loc 1 915 0
 2585              		.cfi_startproc
 2586              		@ args = 0, pretend = 0, frame = 8
 2587              		@ frame_needed = 1, uses_anonymous_args = 0
 2588              		@ link register save eliminated.
 2589 0000 80B4     		push	{r7}
 2590              	.LCFI182:
 2591              		.cfi_def_cfa_offset 4
 2592              		.cfi_offset 7, -4
 2593 0002 83B0     		sub	sp, sp, #12
 2594              	.LCFI183:
 2595              		.cfi_def_cfa_offset 16
 2596 0004 00AF     		add	r7, sp, #0
 2597              	.LCFI184:
 2598              		.cfi_def_cfa_register 7
 2599 0006 7860     		str	r0, [r7, #4]
 916:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = 0;
 2600              		.loc 1 916 0
 2601 0008 7B68     		ldr	r3, [r7, #4]
 2602 000a 0022     		movs	r2, #0
 2603 000c 1A81     		strh	r2, [r3, #8]	@ movhi
 917:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2604              		.loc 1 917 0
 2605 000e 00BF     		nop
 2606 0010 0C37     		adds	r7, r7, #12
 2607              	.LCFI185:
 2608              		.cfi_def_cfa_offset 4
 2609 0012 BD46     		mov	sp, r7
 2610              	.LCFI186:
 2611              		.cfi_def_cfa_register 13
 2612              		@ sp needed
 2613 0014 5DF8047B 		ldr	r7, [sp], #4
 2614              	.LCFI187:
 2615              		.cfi_restore 7
 2616              		.cfi_def_cfa_offset 0
 2617 0018 7047     		bx	lr
 2618              		.cfi_endproc
 2619              	.LFE174:
 2621              		.section	.text.Ft_Gpu_Hal_WrCmd32,"ax",%progbits
 2622              		.align	1
 2623              		.global	Ft_Gpu_Hal_WrCmd32
 2624              		.syntax unified
 2625              		.thumb
 2626              		.thumb_func
 2627              		.fpu fpv5-sp-d16
 2629              	Ft_Gpu_Hal_WrCmd32:
 2630              	.LFB175:
 918:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 919:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmd32(Ft_Gpu_Hal_Context_t *host, ft_uint32_t cmd) {
 2631              		.loc 1 919 0
 2632              		.cfi_startproc
 2633              		@ args = 0, pretend = 0, frame = 8
 2634              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 63


 2635 0000 80B5     		push	{r7, lr}
 2636              	.LCFI188:
 2637              		.cfi_def_cfa_offset 8
 2638              		.cfi_offset 7, -8
 2639              		.cfi_offset 14, -4
 2640 0002 82B0     		sub	sp, sp, #8
 2641              	.LCFI189:
 2642              		.cfi_def_cfa_offset 16
 2643 0004 00AF     		add	r7, sp, #0
 2644              	.LCFI190:
 2645              		.cfi_def_cfa_register 7
 2646 0006 7860     		str	r0, [r7, #4]
 2647 0008 3960     		str	r1, [r7]
 920:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_CheckCmdBuffer(host, sizeof(cmd));
 2648              		.loc 1 920 0
 2649 000a 0421     		movs	r1, #4
 2650 000c 7868     		ldr	r0, [r7, #4]
 2651 000e FFF7FEFF 		bl	Ft_Gpu_Hal_CheckCmdBuffer
 921:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 922:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr32(host, RAM_CMD + host->ft_cmd_fifo_wp, cmd);
 2652              		.loc 1 922 0
 2653 0012 7B68     		ldr	r3, [r7, #4]
 2654 0014 1B89     		ldrh	r3, [r3, #8]
 2655 0016 03F54213 		add	r3, r3, #3178496
 2656 001a 3A68     		ldr	r2, [r7]
 2657 001c 1946     		mov	r1, r3
 2658 001e 7868     		ldr	r0, [r7, #4]
 2659 0020 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr32
 923:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 924:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Updatecmdfifo(host, sizeof(cmd));
 2660              		.loc 1 924 0
 2661 0024 0421     		movs	r1, #4
 2662 0026 7868     		ldr	r0, [r7, #4]
 2663 0028 FFF7FEFF 		bl	Ft_Gpu_Hal_Updatecmdfifo
 925:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2664              		.loc 1 925 0
 2665 002c 00BF     		nop
 2666 002e 0837     		adds	r7, r7, #8
 2667              	.LCFI191:
 2668              		.cfi_def_cfa_offset 8
 2669 0030 BD46     		mov	sp, r7
 2670              	.LCFI192:
 2671              		.cfi_def_cfa_register 13
 2672              		@ sp needed
 2673 0032 80BD     		pop	{r7, pc}
 2674              		.cfi_endproc
 2675              	.LFE175:
 2677              		.section	.text.Ft_Gpu_Hal_ResetDLBuffer,"ax",%progbits
 2678              		.align	1
 2679              		.global	Ft_Gpu_Hal_ResetDLBuffer
 2680              		.syntax unified
 2681              		.thumb
 2682              		.thumb_func
 2683              		.fpu fpv5-sp-d16
 2685              	Ft_Gpu_Hal_ResetDLBuffer:
 2686              	.LFB176:
 926:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 64


 927:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_ResetDLBuffer(Ft_Gpu_Hal_Context_t *host) {
 2687              		.loc 1 927 0
 2688              		.cfi_startproc
 2689              		@ args = 0, pretend = 0, frame = 8
 2690              		@ frame_needed = 1, uses_anonymous_args = 0
 2691              		@ link register save eliminated.
 2692 0000 80B4     		push	{r7}
 2693              	.LCFI193:
 2694              		.cfi_def_cfa_offset 4
 2695              		.cfi_offset 7, -4
 2696 0002 83B0     		sub	sp, sp, #12
 2697              	.LCFI194:
 2698              		.cfi_def_cfa_offset 16
 2699 0004 00AF     		add	r7, sp, #0
 2700              	.LCFI195:
 2701              		.cfi_def_cfa_register 7
 2702 0006 7860     		str	r0, [r7, #4]
 928:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_dl_buff_wp = 0;
 2703              		.loc 1 928 0
 2704 0008 7B68     		ldr	r3, [r7, #4]
 2705 000a 0022     		movs	r2, #0
 2706 000c 5A81     		strh	r2, [r3, #10]	@ movhi
 929:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2707              		.loc 1 929 0
 2708 000e 00BF     		nop
 2709 0010 0C37     		adds	r7, r7, #12
 2710              	.LCFI196:
 2711              		.cfi_def_cfa_offset 4
 2712 0012 BD46     		mov	sp, r7
 2713              	.LCFI197:
 2714              		.cfi_def_cfa_register 13
 2715              		@ sp needed
 2716 0014 5DF8047B 		ldr	r7, [sp], #4
 2717              	.LCFI198:
 2718              		.cfi_restore 7
 2719              		.cfi_def_cfa_offset 0
 2720 0018 7047     		bx	lr
 2721              		.cfi_endproc
 2722              	.LFE176:
 2724              		.section	.text.Ft_Gpu_Hal_Powercycle,"ax",%progbits
 2725              		.align	1
 2726              		.global	Ft_Gpu_Hal_Powercycle
 2727              		.syntax unified
 2728              		.thumb
 2729              		.thumb_func
 2730              		.fpu fpv5-sp-d16
 2732              	Ft_Gpu_Hal_Powercycle:
 2733              	.LFB177:
 930:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Toggle PD_N pin of FT800 board for a power cycle*/
 931:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Powercycle(Ft_Gpu_Hal_Context_t *host, ft_bool_t up) {
 2734              		.loc 1 931 0
 2735              		.cfi_startproc
 2736              		@ args = 0, pretend = 0, frame = 8
 2737              		@ frame_needed = 1, uses_anonymous_args = 0
 2738 0000 80B5     		push	{r7, lr}
 2739              	.LCFI199:
 2740              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 65


 2741              		.cfi_offset 7, -8
 2742              		.cfi_offset 14, -4
 2743 0002 82B0     		sub	sp, sp, #8
 2744              	.LCFI200:
 2745              		.cfi_def_cfa_offset 16
 2746 0004 00AF     		add	r7, sp, #0
 2747              	.LCFI201:
 2748              		.cfi_def_cfa_register 7
 2749 0006 7860     		str	r0, [r7, #4]
 2750 0008 0B46     		mov	r3, r1
 2751 000a FB70     		strb	r3, [r7, #3]
 932:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (up) {
 2752              		.loc 1 932 0
 2753 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2754 000e 002B     		cmp	r3, #0
 2755 0010 10D0     		beq	.L115
 933:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 934:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_RESET); // Reset FT800
 2756              		.loc 1 934 0
 2757 0012 0022     		movs	r2, #0
 2758 0014 0121     		movs	r1, #1
 2759 0016 1148     		ldr	r0, .L118
 2760 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 935:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);												// Wait 20ms
 2761              		.loc 1 935 0
 2762 001c 1420     		movs	r0, #20
 2763 001e FFF7FEFF 		bl	HAL_Delay
 936:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_SET); // FT800 is awake
 2764              		.loc 1 936 0
 2765 0022 0122     		movs	r2, #1
 2766 0024 0121     		movs	r1, #1
 2767 0026 0D48     		ldr	r0, .L118
 2768 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 937:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);
 2769              		.loc 1 937 0
 2770 002c 1420     		movs	r0, #20
 2771 002e FFF7FEFF 		bl	HAL_Delay
 938:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 939:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM
 940:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 941:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x08);//PDN set to 0 ,connect BLUE wire of MPSSE to PDN# o
 942:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (0<<host->hal_config.pd
 943:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 944:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 945:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 946:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x88);//PDN set to 1
 947:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (1<<host->hal_config.pd
 948:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 949:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 950:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 951:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_STATUS status;
 952:FT_Eve_Hal/FT_Gpu_Hal.c **** 		status = FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,0);
 953:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 954:FT_Eve_Hal/FT_Gpu_Hal.c **** 		status = FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,1);
 955:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 956:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 957:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 66


 958:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 959:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 960:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM
 961:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, LOW);
 962:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 963:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 964:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, HIGH);
 965:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 966:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 967:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 968:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 0);
 969:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
 970:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 1);
 971:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
 972:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 973:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
 974:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 975:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_SET); // FT800 is awake
 976:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);
 977:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_RESET); // Reset FT800
 978:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);												// Wait 20ms
 979:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 980:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM
 981:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 982:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x88);//PDN set to 1
 983:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (1<<host->hal_config.pd
 984:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 985:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 986:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x08);//PDN set to 0 ,connect BLUE wire of MPSSE to PDN# o
 987:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (0<<host->hal_config.pd
 988:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 989:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 990:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 991:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 992:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,1);
 993:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 994:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,0);
 995:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 996:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 997:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 998:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 999:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM
1000:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, HIGH);
1001:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
1002:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1003:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, LOW);
1004:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
1005:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1006:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1007:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 1);
1008:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
1009:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 0);
1010:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
1011:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1012:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1013:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1014:FT_Eve_Hal/FT_Gpu_Hal.c **** }
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 67


 2772              		.loc 1 1014 0
 2773 0032 0FE0     		b	.L117
 2774              	.L115:
 975:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);
 2775              		.loc 1 975 0
 2776 0034 0122     		movs	r2, #1
 2777 0036 0121     		movs	r1, #1
 2778 0038 0848     		ldr	r0, .L118
 2779 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 976:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_RESET); // Reset FT800
 2780              		.loc 1 976 0
 2781 003e 1420     		movs	r0, #20
 2782 0040 FFF7FEFF 		bl	HAL_Delay
 977:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);												// Wait 20ms
 2783              		.loc 1 977 0
 2784 0044 0022     		movs	r2, #0
 2785 0046 0121     		movs	r1, #1
 2786 0048 0448     		ldr	r0, .L118
 2787 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
 978:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 2788              		.loc 1 978 0
 2789 004e 1420     		movs	r0, #20
 2790 0050 FFF7FEFF 		bl	HAL_Delay
 2791              	.L117:
 2792              		.loc 1 1014 0
 2793 0054 00BF     		nop
 2794 0056 0837     		adds	r7, r7, #8
 2795              	.LCFI202:
 2796              		.cfi_def_cfa_offset 8
 2797 0058 BD46     		mov	sp, r7
 2798              	.LCFI203:
 2799              		.cfi_def_cfa_register 13
 2800              		@ sp needed
 2801 005a 80BD     		pop	{r7, pc}
 2802              	.L119:
 2803              		.align	2
 2804              	.L118:
 2805 005c 00040240 		.word	1073873920
 2806              		.cfi_endproc
 2807              	.LFE177:
 2809              		.section	.text.Ft_Gpu_Hal_WrMemFromFlash,"ax",%progbits
 2810              		.align	1
 2811              		.global	Ft_Gpu_Hal_WrMemFromFlash
 2812              		.syntax unified
 2813              		.thumb
 2814              		.thumb_func
 2815              		.fpu fpv5-sp-d16
 2817              	Ft_Gpu_Hal_WrMemFromFlash:
 2818              	.LFB178:
1015:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrMemFromFlash(Ft_Gpu_Hal_Context_t *host,
1016:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t addr, const ft_uint8_t *buffer, ft_uint32_t length) {
 2819              		.loc 1 1016 0
 2820              		.cfi_startproc
 2821              		@ args = 0, pretend = 0, frame = 24
 2822              		@ frame_needed = 1, uses_anonymous_args = 0
 2823 0000 80B5     		push	{r7, lr}
 2824              	.LCFI204:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 68


 2825              		.cfi_def_cfa_offset 8
 2826              		.cfi_offset 7, -8
 2827              		.cfi_offset 14, -4
 2828 0002 86B0     		sub	sp, sp, #24
 2829              	.LCFI205:
 2830              		.cfi_def_cfa_offset 32
 2831 0004 00AF     		add	r7, sp, #0
 2832              	.LCFI206:
 2833              		.cfi_def_cfa_register 7
 2834 0006 F860     		str	r0, [r7, #12]
 2835 0008 B960     		str	r1, [r7, #8]
 2836 000a 7A60     		str	r2, [r7, #4]
 2837 000c 3B60     		str	r3, [r7]
1017:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered = 0;
 2838              		.loc 1 1017 0
 2839 000e 0023     		movs	r3, #0
 2840 0010 7B61     		str	r3, [r7, #20]
1018:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1019:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_WRITE, addr);
 2841              		.loc 1 1019 0
 2842 0012 BA68     		ldr	r2, [r7, #8]
 2843 0014 0121     		movs	r1, #1
 2844 0016 F868     		ldr	r0, [r7, #12]
 2845 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
1020:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1021:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 2846              		.loc 1 1021 0
 2847 001c 08E0     		b	.L121
 2848              	.L122:
1022:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, *buffer);
 2849              		.loc 1 1022 0
 2850 001e 7B68     		ldr	r3, [r7, #4]
 2851 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2852 0022 1946     		mov	r1, r3
 2853 0024 F868     		ldr	r0, [r7, #12]
 2854 0026 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
1023:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
 2855              		.loc 1 1023 0
 2856 002a 7B68     		ldr	r3, [r7, #4]
 2857 002c 0133     		adds	r3, r3, #1
 2858 002e 7B60     		str	r3, [r7, #4]
 2859              	.L121:
1021:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, *buffer);
 2860              		.loc 1 1021 0
 2861 0030 3B68     		ldr	r3, [r7]
 2862 0032 5A1E     		subs	r2, r3, #1
 2863 0034 3A60     		str	r2, [r7]
 2864 0036 002B     		cmp	r3, #0
 2865 0038 F1D1     		bne	.L122
1024:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1025:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1026:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU) || defined(FT900_PLATFORM)
1027:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
1028:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,ft_pgm_read_byte_near(buffer));
1029:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1030:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1031:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 69


1032:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1033:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
1034:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1035:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
1036:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_
1037:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1038:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
1039:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* TBD - check for chunks of 64kb */
1040:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
1041:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, (uint8 *)buffer,length,&SizeTransfered1
1042:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
1043:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1044:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1045:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1046:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1047:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 2866              		.loc 1 1047 0
 2867 003a F868     		ldr	r0, [r7, #12]
 2868 003c FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
1048:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2869              		.loc 1 1048 0
 2870 0040 00BF     		nop
 2871 0042 1837     		adds	r7, r7, #24
 2872              	.LCFI207:
 2873              		.cfi_def_cfa_offset 8
 2874 0044 BD46     		mov	sp, r7
 2875              	.LCFI208:
 2876              		.cfi_def_cfa_register 13
 2877              		@ sp needed
 2878 0046 80BD     		pop	{r7, pc}
 2879              		.cfi_endproc
 2880              	.LFE178:
 2882              		.section	.text.Ft_Gpu_Hal_WrMem,"ax",%progbits
 2883              		.align	1
 2884              		.global	Ft_Gpu_Hal_WrMem
 2885              		.syntax unified
 2886              		.thumb
 2887              		.thumb_func
 2888              		.fpu fpv5-sp-d16
 2890              	Ft_Gpu_Hal_WrMem:
 2891              	.LFB179:
1049:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1050:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrMem(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr,
1051:FT_Eve_Hal/FT_Gpu_Hal.c **** 		const ft_uint8_t *buffer, ft_uint32_t length) {
 2892              		.loc 1 1051 0
 2893              		.cfi_startproc
 2894              		@ args = 0, pretend = 0, frame = 24
 2895              		@ frame_needed = 1, uses_anonymous_args = 0
 2896 0000 80B5     		push	{r7, lr}
 2897              	.LCFI209:
 2898              		.cfi_def_cfa_offset 8
 2899              		.cfi_offset 7, -8
 2900              		.cfi_offset 14, -4
 2901 0002 86B0     		sub	sp, sp, #24
 2902              	.LCFI210:
 2903              		.cfi_def_cfa_offset 32
 2904 0004 00AF     		add	r7, sp, #0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 70


 2905              	.LCFI211:
 2906              		.cfi_def_cfa_register 7
 2907 0006 F860     		str	r0, [r7, #12]
 2908 0008 B960     		str	r1, [r7, #8]
 2909 000a 7A60     		str	r2, [r7, #4]
 2910 000c 3B60     		str	r3, [r7]
1052:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered = 0;
 2911              		.loc 1 1052 0
 2912 000e 0023     		movs	r3, #0
 2913 0010 7B61     		str	r3, [r7, #20]
1053:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1054:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_WRITE, addr);
 2914              		.loc 1 1054 0
 2915 0012 BA68     		ldr	r2, [r7, #8]
 2916 0014 0121     		movs	r1, #1
 2917 0016 F868     		ldr	r0, [r7, #12]
 2918 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
1055:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1056:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 2919              		.loc 1 1056 0
 2920 001c 08E0     		b	.L124
 2921              	.L125:
1057:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, *buffer);
 2922              		.loc 1 1057 0
 2923 001e 7B68     		ldr	r3, [r7, #4]
 2924 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2925 0022 1946     		mov	r1, r3
 2926 0024 F868     		ldr	r0, [r7, #12]
 2927 0026 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
1058:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
 2928              		.loc 1 1058 0
 2929 002a 7B68     		ldr	r3, [r7, #4]
 2930 002c 0133     		adds	r3, r3, #1
 2931 002e 7B60     		str	r3, [r7, #4]
 2932              	.L124:
1056:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, *buffer);
 2933              		.loc 1 1056 0
 2934 0030 3B68     		ldr	r3, [r7]
 2935 0032 5A1E     		subs	r2, r3, #1
 2936 0034 3A60     		str	r2, [r7]
 2937 0036 002B     		cmp	r3, #0
 2938 0038 F1D1     		bne	.L125
1059:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1060:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1061:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1062:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1063:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_writen(SPIM,buffer,length);
1064:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1065:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1066:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
1067:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
1068:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,*buffer);
1069:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1070:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1071:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1072:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1073:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 71


1074:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1075:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1076:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
1077:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_
1078:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1079:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1080:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
1081:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* TBD - chunk them into 64kb */
1082:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
1083:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, (uint8 *)buffer,length,&SizeTransfered1
1084:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
1085:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1086:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1087:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1088:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1089:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1090:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 2939              		.loc 1 1090 0
 2940 003a F868     		ldr	r0, [r7, #12]
 2941 003c FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
1091:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2942              		.loc 1 1091 0
 2943 0040 00BF     		nop
 2944 0042 1837     		adds	r7, r7, #24
 2945              	.LCFI212:
 2946              		.cfi_def_cfa_offset 8
 2947 0044 BD46     		mov	sp, r7
 2948              	.LCFI213:
 2949              		.cfi_def_cfa_register 13
 2950              		@ sp needed
 2951 0046 80BD     		pop	{r7, pc}
 2952              		.cfi_endproc
 2953              	.LFE179:
 2955              		.section	.text.Ft_Gpu_Hal_RdMem,"ax",%progbits
 2956              		.align	1
 2957              		.global	Ft_Gpu_Hal_RdMem
 2958              		.syntax unified
 2959              		.thumb
 2960              		.thumb_func
 2961              		.fpu fpv5-sp-d16
 2963              	Ft_Gpu_Hal_RdMem:
 2964              	.LFB180:
1092:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1093:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_RdMem(Ft_Gpu_Hal_Context_t *host, ft_uint32_t addr,
1094:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t *buffer, ft_uint32_t length) {
 2965              		.loc 1 1094 0
 2966              		.cfi_startproc
 2967              		@ args = 0, pretend = 0, frame = 24
 2968              		@ frame_needed = 1, uses_anonymous_args = 0
 2969 0000 80B5     		push	{r7, lr}
 2970              	.LCFI214:
 2971              		.cfi_def_cfa_offset 8
 2972              		.cfi_offset 7, -8
 2973              		.cfi_offset 14, -4
 2974 0002 86B0     		sub	sp, sp, #24
 2975              	.LCFI215:
 2976              		.cfi_def_cfa_offset 32
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 72


 2977 0004 00AF     		add	r7, sp, #0
 2978              	.LCFI216:
 2979              		.cfi_def_cfa_register 7
 2980 0006 F860     		str	r0, [r7, #12]
 2981 0008 B960     		str	r1, [r7, #8]
 2982 000a 7A60     		str	r2, [r7, #4]
 2983 000c 3B60     		str	r3, [r7]
1095:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered = 0;
 2984              		.loc 1 1095 0
 2985 000e 0023     		movs	r3, #0
 2986 0010 7B61     		str	r3, [r7, #20]
1096:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1097:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host, FT_GPU_READ, addr);
 2987              		.loc 1 1097 0
 2988 0012 BA68     		ldr	r2, [r7, #8]
 2989 0014 0021     		movs	r1, #0
 2990 0016 F868     		ldr	r0, [r7, #12]
 2991 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
1098:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1099:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 2992              		.loc 1 1099 0
 2993 001c 0AE0     		b	.L127
 2994              	.L128:
1100:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*buffer = Ft_Gpu_Hal_Transfer8(host, 0);
 2995              		.loc 1 1100 0
 2996 001e 0021     		movs	r1, #0
 2997 0020 F868     		ldr	r0, [r7, #12]
 2998 0022 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 2999 0026 0346     		mov	r3, r0
 3000 0028 1A46     		mov	r2, r3
 3001 002a 7B68     		ldr	r3, [r7, #4]
 3002 002c 1A70     		strb	r2, [r3]
1101:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
 3003              		.loc 1 1101 0
 3004 002e 7B68     		ldr	r3, [r7, #4]
 3005 0030 0133     		adds	r3, r3, #1
 3006 0032 7B60     		str	r3, [r7, #4]
 3007              	.L127:
1099:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*buffer = Ft_Gpu_Hal_Transfer8(host, 0);
 3008              		.loc 1 1099 0
 3009 0034 3B68     		ldr	r3, [r7]
 3010 0036 5A1E     		subs	r2, r3, #1
 3011 0038 3A60     		str	r2, [r7]
 3012 003a 002B     		cmp	r3, #0
 3013 003c EFD1     		bne	.L128
1102:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1103:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1104:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1105:FT_Eve_Hal/FT_Gpu_Hal.c **** 	unsigned char spiData[2] = {0};
1106:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_readn(SPIM,spiData,host->spinumdummy);
1107:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_readn(SPIM,buffer,length);
1108:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1109:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
1110:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
1111:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*buffer = Ft_Gpu_Hal_Transfer8(host,0);
1112:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1113:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 73


1114:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1115:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1116:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
1117:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1118:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
1119:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Read((FT_HANDLE)host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_B
1120:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1121:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1122:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
1123:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* TBD - chunk into 64kb */
1124:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
1125:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleRead((FT_HANDLE)host->hal_handle, (uint8 *)buffer,length,&SizeTransfered16
1126:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
1127:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1128:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1129:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1130:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1131:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1132:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 3014              		.loc 1 1132 0
 3015 003e F868     		ldr	r0, [r7, #12]
 3016 0040 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
1133:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3017              		.loc 1 1133 0
 3018 0044 00BF     		nop
 3019 0046 1837     		adds	r7, r7, #24
 3020              	.LCFI217:
 3021              		.cfi_def_cfa_offset 8
 3022 0048 BD46     		mov	sp, r7
 3023              	.LCFI218:
 3024              		.cfi_def_cfa_register 13
 3025              		@ sp needed
 3026 004a 80BD     		pop	{r7, pc}
 3027              		.cfi_endproc
 3028              	.LFE180:
 3030              		.section	.text.Ft_Gpu_Hal_Dec2Ascii,"ax",%progbits
 3031              		.align	1
 3032              		.global	Ft_Gpu_Hal_Dec2Ascii
 3033              		.syntax unified
 3034              		.thumb
 3035              		.thumb_func
 3036              		.fpu fpv5-sp-d16
 3038              	Ft_Gpu_Hal_Dec2Ascii:
 3039              	.LFB181:
1134:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1135:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Helper api for dec to ascii */
1136:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_int32_t Ft_Gpu_Hal_Dec2Ascii(ft_char8_t *pSrc, ft_int32_t value) {
 3040              		.loc 1 1136 0
 3041              		.cfi_startproc
 3042              		@ args = 0, pretend = 0, frame = 48
 3043              		@ frame_needed = 1, uses_anonymous_args = 0
 3044 0000 80B5     		push	{r7, lr}
 3045              	.LCFI219:
 3046              		.cfi_def_cfa_offset 8
 3047              		.cfi_offset 7, -8
 3048              		.cfi_offset 14, -4
 3049 0002 8CB0     		sub	sp, sp, #48
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 74


 3050              	.LCFI220:
 3051              		.cfi_def_cfa_offset 56
 3052 0004 00AF     		add	r7, sp, #0
 3053              	.LCFI221:
 3054              		.cfi_def_cfa_register 7
 3055 0006 7860     		str	r0, [r7, #4]
 3056 0008 3960     		str	r1, [r7]
1137:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int16_t Length;
1138:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_char8_t *pdst, charval;
1139:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int32_t CurrVal = value, tmpval, i;
 3057              		.loc 1 1139 0
 3058 000a 3B68     		ldr	r3, [r7]
 3059 000c BB62     		str	r3, [r7, #40]
1140:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_char8_t tmparray[16], idx = 0;
 3060              		.loc 1 1140 0
 3061 000e 0023     		movs	r3, #0
 3062 0010 87F82330 		strb	r3, [r7, #35]
1141:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1142:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Length = strlen(pSrc);
 3063              		.loc 1 1142 0
 3064 0014 7868     		ldr	r0, [r7, #4]
 3065 0016 FFF7FEFF 		bl	strlen
 3066 001a 0346     		mov	r3, r0
 3067 001c 3B84     		strh	r3, [r7, #32]	@ movhi
1143:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pdst = pSrc + Length;
 3068              		.loc 1 1143 0
 3069 001e B7F92030 		ldrsh	r3, [r7, #32]
 3070 0022 7A68     		ldr	r2, [r7, #4]
 3071 0024 1344     		add	r3, r3, r2
 3072 0026 FB62     		str	r3, [r7, #44]
1144:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1145:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (0 == value) {
 3073              		.loc 1 1145 0
 3074 0028 3B68     		ldr	r3, [r7]
 3075 002a 002B     		cmp	r3, #0
 3076 002c 0BD1     		bne	.L130
1146:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = '0';
 3077              		.loc 1 1146 0
 3078 002e FB6A     		ldr	r3, [r7, #44]
 3079 0030 5A1C     		adds	r2, r3, #1
 3080 0032 FA62     		str	r2, [r7, #44]
 3081 0034 3022     		movs	r2, #48
 3082 0036 1A70     		strb	r2, [r3]
1147:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = '\0';
 3083              		.loc 1 1147 0
 3084 0038 FB6A     		ldr	r3, [r7, #44]
 3085 003a 5A1C     		adds	r2, r3, #1
 3086 003c FA62     		str	r2, [r7, #44]
 3087 003e 0022     		movs	r2, #0
 3088 0040 1A70     		strb	r2, [r3]
1148:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 3089              		.loc 1 1148 0
 3090 0042 0023     		movs	r3, #0
 3091 0044 4EE0     		b	.L137
 3092              	.L130:
1149:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1150:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 75


1151:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (CurrVal < 0) {
 3093              		.loc 1 1151 0
 3094 0046 BB6A     		ldr	r3, [r7, #40]
 3095 0048 002B     		cmp	r3, #0
 3096 004a 29DA     		bge	.L133
1152:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = '-';
 3097              		.loc 1 1152 0
 3098 004c FB6A     		ldr	r3, [r7, #44]
 3099 004e 5A1C     		adds	r2, r3, #1
 3100 0050 FA62     		str	r2, [r7, #44]
 3101 0052 2D22     		movs	r2, #45
 3102 0054 1A70     		strb	r2, [r3]
1153:FT_Eve_Hal/FT_Gpu_Hal.c **** 		CurrVal = -CurrVal;
 3103              		.loc 1 1153 0
 3104 0056 BB6A     		ldr	r3, [r7, #40]
 3105 0058 5B42     		negs	r3, r3
 3106 005a BB62     		str	r3, [r7, #40]
1154:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1155:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* insert the value */
1156:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (CurrVal > 0) {
 3107              		.loc 1 1156 0
 3108 005c 20E0     		b	.L133
 3109              	.L134:
1157:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmpval = CurrVal;
 3110              		.loc 1 1157 0
 3111 005e BB6A     		ldr	r3, [r7, #40]
 3112 0060 FB61     		str	r3, [r7, #28]
1158:FT_Eve_Hal/FT_Gpu_Hal.c **** 		CurrVal /= 10;
 3113              		.loc 1 1158 0
 3114 0062 BB6A     		ldr	r3, [r7, #40]
 3115 0064 214A     		ldr	r2, .L138
 3116 0066 82FB0312 		smull	r1, r2, r2, r3
 3117 006a 9210     		asrs	r2, r2, #2
 3118 006c DB17     		asrs	r3, r3, #31
 3119 006e D31A     		subs	r3, r2, r3
 3120 0070 BB62     		str	r3, [r7, #40]
1159:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmpval = tmpval - CurrVal * 10;
 3121              		.loc 1 1159 0
 3122 0072 BB6A     		ldr	r3, [r7, #40]
 3123 0074 6FF00902 		mvn	r2, #9
 3124 0078 02FB03F3 		mul	r3, r2, r3
 3125 007c FA69     		ldr	r2, [r7, #28]
 3126 007e 1344     		add	r3, r3, r2
 3127 0080 FB61     		str	r3, [r7, #28]
1160:FT_Eve_Hal/FT_Gpu_Hal.c **** 		charval = '0' + tmpval;
 3128              		.loc 1 1160 0
 3129 0082 FB69     		ldr	r3, [r7, #28]
 3130 0084 DBB2     		uxtb	r3, r3
 3131 0086 3033     		adds	r3, r3, #48
 3132 0088 FB76     		strb	r3, [r7, #27]
1161:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmparray[idx++] = charval;
 3133              		.loc 1 1161 0
 3134 008a 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 3135 008e 5A1C     		adds	r2, r3, #1
 3136 0090 87F82320 		strb	r2, [r7, #35]
 3137 0094 07F13002 		add	r2, r7, #48
 3138 0098 1344     		add	r3, r3, r2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 76


 3139 009a FA7E     		ldrb	r2, [r7, #27]
 3140 009c 03F8282C 		strb	r2, [r3, #-40]
 3141              	.L133:
1156:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmpval = CurrVal;
 3142              		.loc 1 1156 0
 3143 00a0 BB6A     		ldr	r3, [r7, #40]
 3144 00a2 002B     		cmp	r3, #0
 3145 00a4 DBDC     		bgt	.L134
1162:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1163:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1164:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for (i = 0; i < idx; i++) {
 3146              		.loc 1 1164 0
 3147 00a6 0023     		movs	r3, #0
 3148 00a8 7B62     		str	r3, [r7, #36]
 3149 00aa 10E0     		b	.L135
 3150              	.L136:
1165:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = tmparray[idx - i - 1];
 3151              		.loc 1 1165 0 discriminator 3
 3152 00ac 97F82320 		ldrb	r2, [r7, #35]	@ zero_extendqisi2
 3153 00b0 7B6A     		ldr	r3, [r7, #36]
 3154 00b2 D31A     		subs	r3, r2, r3
 3155 00b4 5A1E     		subs	r2, r3, #1
 3156 00b6 FB6A     		ldr	r3, [r7, #44]
 3157 00b8 591C     		adds	r1, r3, #1
 3158 00ba F962     		str	r1, [r7, #44]
 3159 00bc 07F13001 		add	r1, r7, #48
 3160 00c0 0A44     		add	r2, r2, r1
 3161 00c2 12F8282C 		ldrb	r2, [r2, #-40]	@ zero_extendqisi2
 3162 00c6 1A70     		strb	r2, [r3]
1164:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = tmparray[idx - i - 1];
 3163              		.loc 1 1164 0 discriminator 3
 3164 00c8 7B6A     		ldr	r3, [r7, #36]
 3165 00ca 0133     		adds	r3, r3, #1
 3166 00cc 7B62     		str	r3, [r7, #36]
 3167              	.L135:
1164:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = tmparray[idx - i - 1];
 3168              		.loc 1 1164 0 is_stmt 0 discriminator 1
 3169 00ce 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 3170 00d2 7A6A     		ldr	r2, [r7, #36]
 3171 00d4 9A42     		cmp	r2, r3
 3172 00d6 E9DB     		blt	.L136
1166:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1167:FT_Eve_Hal/FT_Gpu_Hal.c **** 	*pdst++ = '\0';
 3173              		.loc 1 1167 0 is_stmt 1
 3174 00d8 FB6A     		ldr	r3, [r7, #44]
 3175 00da 5A1C     		adds	r2, r3, #1
 3176 00dc FA62     		str	r2, [r7, #44]
 3177 00de 0022     		movs	r2, #0
 3178 00e0 1A70     		strb	r2, [r3]
1168:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1169:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return 0;
 3179              		.loc 1 1169 0
 3180 00e2 0023     		movs	r3, #0
 3181              	.L137:
1170:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3182              		.loc 1 1170 0 discriminator 1
 3183 00e4 1846     		mov	r0, r3
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 77


 3184 00e6 3037     		adds	r7, r7, #48
 3185              	.LCFI222:
 3186              		.cfi_def_cfa_offset 8
 3187 00e8 BD46     		mov	sp, r7
 3188              	.LCFI223:
 3189              		.cfi_def_cfa_register 13
 3190              		@ sp needed
 3191 00ea 80BD     		pop	{r7, pc}
 3192              	.L139:
 3193              		.align	2
 3194              	.L138:
 3195 00ec 67666666 		.word	1717986919
 3196              		.cfi_endproc
 3197              	.LFE181:
 3199              		.section	.text.Ft_Gpu_Hal_Sleep,"ax",%progbits
 3200              		.align	1
 3201              		.global	Ft_Gpu_Hal_Sleep
 3202              		.syntax unified
 3203              		.thumb
 3204              		.thumb_func
 3205              		.fpu fpv5-sp-d16
 3207              	Ft_Gpu_Hal_Sleep:
 3208              	.LFB182:
1171:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1172:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Sleep(ft_uint32_t ms) {
 3209              		.loc 1 1172 0
 3210              		.cfi_startproc
 3211              		@ args = 0, pretend = 0, frame = 8
 3212              		@ frame_needed = 1, uses_anonymous_args = 0
 3213 0000 80B5     		push	{r7, lr}
 3214              	.LCFI224:
 3215              		.cfi_def_cfa_offset 8
 3216              		.cfi_offset 7, -8
 3217              		.cfi_offset 14, -4
 3218 0002 82B0     		sub	sp, sp, #8
 3219              	.LCFI225:
 3220              		.cfi_def_cfa_offset 16
 3221 0004 00AF     		add	r7, sp, #0
 3222              	.LCFI226:
 3223              		.cfi_def_cfa_register 7
 3224 0006 7860     		str	r0, [r7, #4]
1173:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1174:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_Delay(ms);
 3225              		.loc 1 1174 0
 3226 0008 7868     		ldr	r0, [r7, #4]
 3227 000a FFF7FEFF 		bl	HAL_Delay
1175:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1176:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1177:FT_Eve_Hal/FT_Gpu_Hal.c **** 	delayms(ms);
1178:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1179:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(MSVC_PLATFORM) || defined(MSVC_FT800EMU)
1180:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Sleep(ms);
1181:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1182:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM
1183:FT_Eve_Hal/FT_Gpu_Hal.c **** 	delay(ms);
1184:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1185:FT_Eve_Hal/FT_Gpu_Hal.c **** }
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 78


 3228              		.loc 1 1185 0
 3229 000e 00BF     		nop
 3230 0010 0837     		adds	r7, r7, #8
 3231              	.LCFI227:
 3232              		.cfi_def_cfa_offset 8
 3233 0012 BD46     		mov	sp, r7
 3234              	.LCFI228:
 3235              		.cfi_def_cfa_register 13
 3236              		@ sp needed
 3237 0014 80BD     		pop	{r7, pc}
 3238              		.cfi_endproc
 3239              	.LFE182:
 3241              		.section	.text.Ft_Gpu_Hal_SetSPI,"ax",%progbits
 3242              		.align	1
 3243              		.global	Ft_Gpu_Hal_SetSPI
 3244              		.syntax unified
 3245              		.thumb
 3246              		.thumb_func
 3247              		.fpu fpv5-sp-d16
 3249              	Ft_Gpu_Hal_SetSPI:
 3250              	.LFB183:
1186:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT_81X_ENABLE
1187:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_int16_t Ft_Gpu_Hal_SetSPI(Ft_Gpu_Hal_Context_t *host,
1188:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_GPU_SPI_NUMCHANNELS_T numchnls, FT_GPU_SPI_NUMDUMMYBYTES numdummy) {
 3251              		.loc 1 1188 0
 3252              		.cfi_startproc
 3253              		@ args = 0, pretend = 0, frame = 16
 3254              		@ frame_needed = 1, uses_anonymous_args = 0
 3255 0000 80B5     		push	{r7, lr}
 3256              	.LCFI229:
 3257              		.cfi_def_cfa_offset 8
 3258              		.cfi_offset 7, -8
 3259              		.cfi_offset 14, -4
 3260 0002 84B0     		sub	sp, sp, #16
 3261              	.LCFI230:
 3262              		.cfi_def_cfa_offset 24
 3263 0004 00AF     		add	r7, sp, #0
 3264              	.LCFI231:
 3265              		.cfi_def_cfa_register 7
 3266 0006 7860     		str	r0, [r7, #4]
 3267 0008 0B46     		mov	r3, r1
 3268 000a FB70     		strb	r3, [r7, #3]
 3269 000c 1346     		mov	r3, r2
 3270 000e BB70     		strb	r3, [r7, #2]
1189:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t writebyte = 0;
 3271              		.loc 1 1189 0
 3272 0010 0023     		movs	r3, #0
 3273 0012 FB73     		strb	r3, [r7, #15]
1190:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* error check */
1191:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if ((numchnls > FT_GPU_SPI_QUAD_CHANNEL) || (numdummy > FT_GPU_SPI_TWODUMMY)
 3274              		.loc 1 1191 0
 3275 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3276 0016 022B     		cmp	r3, #2
 3277 0018 05D8     		bhi	.L142
 3278              		.loc 1 1191 0 is_stmt 0 discriminator 1
 3279 001a BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 3280 001c 022B     		cmp	r3, #2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 79


 3281 001e 02D8     		bhi	.L142
1192:FT_Eve_Hal/FT_Gpu_Hal.c **** 			|| (numdummy < FT_GPU_SPI_ONEDUMMY)) {
 3282              		.loc 1 1192 0 is_stmt 1
 3283 0020 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 3284 0022 002B     		cmp	r3, #0
 3285 0024 02D1     		bne	.L143
 3286              	.L142:
1193:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return -1;														//error
 3287              		.loc 1 1193 0
 3288 0026 4FF0FF33 		mov	r3, #-1
 3289 002a 17E0     		b	.L144
 3290              	.L143:
1194:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1195:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1196:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spichannel = numchnls;
 3291              		.loc 1 1196 0
 3292 002c 7B68     		ldr	r3, [r7, #4]
 3293 002e FA78     		ldrb	r2, [r7, #3]
 3294 0030 1A75     		strb	r2, [r3, #20]
1197:FT_Eve_Hal/FT_Gpu_Hal.c **** 	writebyte = host->spichannel;
 3295              		.loc 1 1197 0
 3296 0032 7B68     		ldr	r3, [r7, #4]
 3297 0034 1B7D     		ldrb	r3, [r3, #20]
 3298 0036 FB73     		strb	r3, [r7, #15]
1198:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spinumdummy = numdummy;
 3299              		.loc 1 1198 0
 3300 0038 7B68     		ldr	r3, [r7, #4]
 3301 003a BA78     		ldrb	r2, [r7, #2]
 3302 003c 5A75     		strb	r2, [r3, #21]
1199:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1200:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_GPU_SPI_TWODUMMY == host->spinumdummy) {
 3303              		.loc 1 1200 0
 3304 003e 7B68     		ldr	r3, [r7, #4]
 3305 0040 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
 3306 0042 022B     		cmp	r3, #2
 3307 0044 03D1     		bne	.L145
1201:FT_Eve_Hal/FT_Gpu_Hal.c **** 		writebyte |= FT_SPI_TWO_DUMMY_BYTE;
 3308              		.loc 1 1201 0
 3309 0046 FB7B     		ldrb	r3, [r7, #15]
 3310 0048 43F00403 		orr	r3, r3, #4
 3311 004c FB73     		strb	r3, [r7, #15]
 3312              	.L145:
1202:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1203:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr8(host, REG_SPI_WIDTH, writebyte);
 3313              		.loc 1 1203 0
 3314 004e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3315 0050 1A46     		mov	r2, r3
 3316 0052 0449     		ldr	r1, .L146
 3317 0054 7868     		ldr	r0, [r7, #4]
 3318 0056 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr8
1204:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* set the parameters in hal context and also set into ft81x */
1205:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return 0;
 3319              		.loc 1 1205 0
 3320 005a 0023     		movs	r3, #0
 3321              	.L144:
1206:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3322              		.loc 1 1206 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 80


 3323 005c 1846     		mov	r0, r3
 3324 005e 1037     		adds	r7, r7, #16
 3325              	.LCFI232:
 3326              		.cfi_def_cfa_offset 8
 3327 0060 BD46     		mov	sp, r7
 3328              	.LCFI233:
 3329              		.cfi_def_cfa_register 13
 3330              		@ sp needed
 3331 0062 80BD     		pop	{r7, pc}
 3332              	.L147:
 3333              		.align	2
 3334              	.L146:
 3335 0064 88213000 		.word	3154312
 3336              		.cfi_endproc
 3337              	.LFE183:
 3339              		.section	.text.ft_millis,"ax",%progbits
 3340              		.align	1
 3341              		.global	ft_millis
 3342              		.syntax unified
 3343              		.thumb
 3344              		.thumb_func
 3345              		.fpu fpv5-sp-d16
 3347              	ft_millis:
 3348              	.LFB184:
1207:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1208:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1209:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1210:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Helper api for millis */
1211:FT_Eve_Hal/FT_Gpu_Hal.c **** /* api to return the time in ms. 0 after reset */
1212:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1213:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Globals for polling implementation */
1214:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t ft_millis_curr = 0,ft_millis_prev = 0;
1215:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1216:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Globals for interrupt implementation */
1217:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t ft_TotalMilliseconds = 0;
1218:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1219:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t ft_millis_ticker()
1220:FT_Eve_Hal/FT_Gpu_Hal.c **** {
1221:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_disable_interrupt(FT900_FT_MILLIS_TIMER);
1222:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Clear the interrupt and increment the counter */
1223:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_is_interrupted(FT900_FT_MILLIS_TIMER);
1224:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1225:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_TotalMilliseconds += 1;
1226:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_enable_interrupt(FT900_FT_MILLIS_TIMER);
1227:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1228:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t ft_millis_init()
1229:FT_Eve_Hal/FT_Gpu_Hal.c **** {
1230:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1231:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_millis_curr = 0;
1232:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_millis_prev = 0;
1233:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1234:FT_Eve_Hal/FT_Gpu_Hal.c **** 	sys_enable(sys_device_timer_wdt);
1235:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_prescaler(FT900_TIMER_PRESCALE_VALUE);
1236:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_init(FT900_FT_MILLIS_TIMER,FT900_TIMER_OVERFLOW_VALUE,timer_direction_up,timer_prescaler_sel
1237:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1238:FT_Eve_Hal/FT_Gpu_Hal.c **** 	interrupt_attach(interrupt_timers, 17, ft_millis_ticker);
1239:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 81


1240:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* enabling the interrupts for timer */
1241:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_enable_interrupt(FT900_FT_MILLIS_TIMER);
1242:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1243:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_start(FT900_FT_MILLIS_TIMER);
1244:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1245:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1246:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Need to ensure that below api is called at least once in 6.5 seconds duration for FT900 platform
1247:FT_Eve_Hal/FT_Gpu_Hal.c **** /* global counter to loopback after ~49.71 days */
1248:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1249:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1250:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t ft_millis() {
 3349              		.loc 1 1250 0
 3350              		.cfi_startproc
 3351              		@ args = 0, pretend = 0, frame = 0
 3352              		@ frame_needed = 1, uses_anonymous_args = 0
 3353 0000 80B5     		push	{r7, lr}
 3354              	.LCFI234:
 3355              		.cfi_def_cfa_offset 8
 3356              		.cfi_offset 7, -8
 3357              		.cfi_offset 14, -4
 3358 0002 00AF     		add	r7, sp, #0
 3359              	.LCFI235:
 3360              		.cfi_def_cfa_register 7
1251:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1252:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return HAL_GetTick();
 3361              		.loc 1 1252 0
 3362 0004 FFF7FEFF 		bl	HAL_GetTick
 3363 0008 0346     		mov	r3, r0
1253:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1254:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3364              		.loc 1 1254 0
 3365 000a 1846     		mov	r0, r3
 3366 000c 80BD     		pop	{r7, pc}
 3367              		.cfi_endproc
 3368              	.LFE184:
 3370              		.section	.text.ft_millis_exit,"ax",%progbits
 3371              		.align	1
 3372              		.global	ft_millis_exit
 3373              		.syntax unified
 3374              		.thumb
 3375              		.thumb_func
 3376              		.fpu fpv5-sp-d16
 3378              	ft_millis_exit:
 3379              	.LFB185:
1255:FT_Eve_Hal/FT_Gpu_Hal.c **** //#if defined(ARDUINO_PLATFORM) ||defined(MSVC_PLATFORM) || defined(MSVC_FT800EMU)
1256:FT_Eve_Hal/FT_Gpu_Hal.c **** //	return millis();
1257:FT_Eve_Hal/FT_Gpu_Hal.c **** //#endif
1258:FT_Eve_Hal/FT_Gpu_Hal.c **** //#ifdef FT900_PLATFORM
1259:FT_Eve_Hal/FT_Gpu_Hal.c **** //
1260:FT_Eve_Hal/FT_Gpu_Hal.c **** //	/* Polling implementation */
1261:FT_Eve_Hal/FT_Gpu_Hal.c **** //#if 0
1262:FT_Eve_Hal/FT_Gpu_Hal.c **** //	ft_uint32_t currtime;
1263:FT_Eve_Hal/FT_Gpu_Hal.c **** //	currtime = ft900_timer_get_value(FT900_FT_MILLIS_TIMER);
1264:FT_Eve_Hal/FT_Gpu_Hal.c **** //
1265:FT_Eve_Hal/FT_Gpu_Hal.c **** //	if(ft_millis_prev > currtime)
1266:FT_Eve_Hal/FT_Gpu_Hal.c **** //	{
1267:FT_Eve_Hal/FT_Gpu_Hal.c **** //		/* loop back condition */
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 82


1268:FT_Eve_Hal/FT_Gpu_Hal.c **** //		ft_millis_curr += ((FT900_TIMER_MAX_VALUE - ft_millis_prev + currtime)/10);
1269:FT_Eve_Hal/FT_Gpu_Hal.c **** //	}
1270:FT_Eve_Hal/FT_Gpu_Hal.c **** //	else
1271:FT_Eve_Hal/FT_Gpu_Hal.c **** //	{
1272:FT_Eve_Hal/FT_Gpu_Hal.c **** //		ft_millis_curr += ((currtime - ft_millis_prev)/10);
1273:FT_Eve_Hal/FT_Gpu_Hal.c **** //	}
1274:FT_Eve_Hal/FT_Gpu_Hal.c **** //	ft_millis_prev = currtime;
1275:FT_Eve_Hal/FT_Gpu_Hal.c **** //	//printf("current time %d \n",ft_millis_curr);
1276:FT_Eve_Hal/FT_Gpu_Hal.c **** //	return ft_millis_curr;
1277:FT_Eve_Hal/FT_Gpu_Hal.c **** //#endif
1278:FT_Eve_Hal/FT_Gpu_Hal.c **** //
1279:FT_Eve_Hal/FT_Gpu_Hal.c **** //	/* Interrupt implementation */
1280:FT_Eve_Hal/FT_Gpu_Hal.c **** //	return (ft_TotalMilliseconds);
1281:FT_Eve_Hal/FT_Gpu_Hal.c **** //#endif
1282:FT_Eve_Hal/FT_Gpu_Hal.c **** //}
1283:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1284:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t ft_millis_exit() {
 3380              		.loc 1 1284 0
 3381              		.cfi_startproc
 3382              		@ args = 0, pretend = 0, frame = 0
 3383              		@ frame_needed = 1, uses_anonymous_args = 0
 3384              		@ link register save eliminated.
 3385 0000 80B4     		push	{r7}
 3386              	.LCFI236:
 3387              		.cfi_def_cfa_offset 4
 3388              		.cfi_offset 7, -4
 3389 0002 00AF     		add	r7, sp, #0
 3390              	.LCFI237:
 3391              		.cfi_def_cfa_register 7
1285:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1286:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_stop(FT900_FT_MILLIS_TIMER);
1287:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_disable_interrupt(FT900_FT_MILLIS_TIMER);
1288:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1289:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3392              		.loc 1 1289 0
 3393 0004 00BF     		nop
 3394 0006 BD46     		mov	sp, r7
 3395              	.LCFI238:
 3396              		.cfi_def_cfa_register 13
 3397              		@ sp needed
 3398 0008 5DF8047B 		ldr	r7, [sp], #4
 3399              	.LCFI239:
 3400              		.cfi_restore 7
 3401              		.cfi_def_cfa_offset 0
 3402 000c 7047     		bx	lr
 3403              		.cfi_endproc
 3404              	.LFE185:
 3406              		.section	.text.Ft_Fifo_Init,"ax",%progbits
 3407              		.align	1
 3408              		.global	Ft_Fifo_Init
 3409              		.syntax unified
 3410              		.thumb
 3411              		.thumb_func
 3412              		.fpu fpv5-sp-d16
 3414              	Ft_Fifo_Init:
 3415              	.LFB186:
1290:FT_Eve_Hal/FT_Gpu_Hal.c **** /* FIFO related apis */
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 83


1291:FT_Eve_Hal/FT_Gpu_Hal.c **** //Init all the parameters of fifo buffer
1292:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_Init(Ft_Fifo_t *pFifo, ft_uint32_t StartAddress,
1293:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t Length, ft_uint32_t HWReadRegAddress,
1294:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t HWWriteRegAddress) {
 3416              		.loc 1 1294 0
 3417              		.cfi_startproc
 3418              		@ args = 4, pretend = 0, frame = 16
 3419              		@ frame_needed = 1, uses_anonymous_args = 0
 3420              		@ link register save eliminated.
 3421 0000 80B4     		push	{r7}
 3422              	.LCFI240:
 3423              		.cfi_def_cfa_offset 4
 3424              		.cfi_offset 7, -4
 3425 0002 85B0     		sub	sp, sp, #20
 3426              	.LCFI241:
 3427              		.cfi_def_cfa_offset 24
 3428 0004 00AF     		add	r7, sp, #0
 3429              	.LCFI242:
 3430              		.cfi_def_cfa_register 7
 3431 0006 F860     		str	r0, [r7, #12]
 3432 0008 B960     		str	r1, [r7, #8]
 3433 000a 7A60     		str	r2, [r7, #4]
 3434 000c 3B60     		str	r3, [r7]
1295:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* update the context parameters */
1296:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_buff = StartAddress;
 3435              		.loc 1 1296 0
 3436 000e FB68     		ldr	r3, [r7, #12]
 3437 0010 BA68     		ldr	r2, [r7, #8]
 3438 0012 1A60     		str	r2, [r3]
1297:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_len = Length;
 3439              		.loc 1 1297 0
 3440 0014 7A68     		ldr	r2, [r7, #4]
 3441 0016 FB68     		ldr	r3, [r7, #12]
 3442 0018 5A60     		str	r2, [r3, #4]
1298:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_rp = pFifo->fifo_wp = 0;
 3443              		.loc 1 1298 0
 3444 001a FB68     		ldr	r3, [r7, #12]
 3445 001c 0022     		movs	r2, #0
 3446 001e 9A60     		str	r2, [r3, #8]
 3447 0020 FB68     		ldr	r3, [r7, #12]
 3448 0022 9A68     		ldr	r2, [r3, #8]
 3449 0024 FB68     		ldr	r3, [r7, #12]
 3450 0026 DA60     		str	r2, [r3, #12]
1299:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1300:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* update the hardware register addresses - specific to FT800 series chips */
1301:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->HW_Read_Reg = HWReadRegAddress;
 3451              		.loc 1 1301 0
 3452 0028 FB68     		ldr	r3, [r7, #12]
 3453 002a 3A68     		ldr	r2, [r7]
 3454 002c 1A61     		str	r2, [r3, #16]
1302:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->HW_Write_Reg = HWWriteRegAddress;
 3455              		.loc 1 1302 0
 3456 002e FB68     		ldr	r3, [r7, #12]
 3457 0030 BA69     		ldr	r2, [r7, #24]
 3458 0032 5A61     		str	r2, [r3, #20]
1303:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3459              		.loc 1 1303 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 84


 3460 0034 00BF     		nop
 3461 0036 1437     		adds	r7, r7, #20
 3462              	.LCFI243:
 3463              		.cfi_def_cfa_offset 4
 3464 0038 BD46     		mov	sp, r7
 3465              	.LCFI244:
 3466              		.cfi_def_cfa_register 13
 3467              		@ sp needed
 3468 003a 5DF8047B 		ldr	r7, [sp], #4
 3469              	.LCFI245:
 3470              		.cfi_restore 7
 3471              		.cfi_def_cfa_offset 0
 3472 003e 7047     		bx	lr
 3473              		.cfi_endproc
 3474              	.LFE186:
 3476              		.section	.text.Ft_Fifo_Update,"ax",%progbits
 3477              		.align	1
 3478              		.global	Ft_Fifo_Update
 3479              		.syntax unified
 3480              		.thumb
 3481              		.thumb_func
 3482              		.fpu fpv5-sp-d16
 3484              	Ft_Fifo_Update:
 3485              	.LFB187:
1304:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1305:FT_Eve_Hal/FT_Gpu_Hal.c **** //update both the read and write pointers
1306:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_Update(Ft_Gpu_Hal_Context_t *host, Ft_Fifo_t *pFifo) {
 3486              		.loc 1 1306 0
 3487              		.cfi_startproc
 3488              		@ args = 0, pretend = 0, frame = 8
 3489              		@ frame_needed = 1, uses_anonymous_args = 0
 3490 0000 80B5     		push	{r7, lr}
 3491              	.LCFI246:
 3492              		.cfi_def_cfa_offset 8
 3493              		.cfi_offset 7, -8
 3494              		.cfi_offset 14, -4
 3495 0002 82B0     		sub	sp, sp, #8
 3496              	.LCFI247:
 3497              		.cfi_def_cfa_offset 16
 3498 0004 00AF     		add	r7, sp, #0
 3499              	.LCFI248:
 3500              		.cfi_def_cfa_register 7
 3501 0006 7860     		str	r0, [r7, #4]
 3502 0008 3960     		str	r1, [r7]
1307:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_rp = Ft_Gpu_Hal_Rd32(host, pFifo->HW_Read_Reg);
 3503              		.loc 1 1307 0
 3504 000a 3B68     		ldr	r3, [r7]
 3505 000c 1B69     		ldr	r3, [r3, #16]
 3506 000e 1946     		mov	r1, r3
 3507 0010 7868     		ldr	r0, [r7, #4]
 3508 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd32
 3509 0016 0346     		mov	r3, r0
 3510 0018 1A46     		mov	r2, r3
 3511 001a 3B68     		ldr	r3, [r7]
 3512 001c DA60     		str	r2, [r3, #12]
1308:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Ft_Gpu_Hal_Wr32(host,pFifo->HW_Write_Reg,pFifo->fifo_wp);
1309:FT_Eve_Hal/FT_Gpu_Hal.c **** }
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 85


 3513              		.loc 1 1309 0
 3514 001e 00BF     		nop
 3515 0020 0837     		adds	r7, r7, #8
 3516              	.LCFI249:
 3517              		.cfi_def_cfa_offset 8
 3518 0022 BD46     		mov	sp, r7
 3519              	.LCFI250:
 3520              		.cfi_def_cfa_register 13
 3521              		@ sp needed
 3522 0024 80BD     		pop	{r7, pc}
 3523              		.cfi_endproc
 3524              	.LFE187:
 3526              		.section	.text.Ft_Fifo_Write,"ax",%progbits
 3527              		.align	1
 3528              		.global	Ft_Fifo_Write
 3529              		.syntax unified
 3530              		.thumb
 3531              		.thumb_func
 3532              		.fpu fpv5-sp-d16
 3534              	Ft_Fifo_Write:
 3535              	.LFB188:
1310:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1311:FT_Eve_Hal/FT_Gpu_Hal.c **** //just write and update the write register
1312:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Fifo_Write(Ft_Gpu_Hal_Context_t *host, Ft_Fifo_t *pFifo,
1313:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t *buffer, ft_uint32_t NumbytetoWrite) {
 3536              		.loc 1 1313 0
 3537              		.cfi_startproc
 3538              		@ args = 0, pretend = 0, frame = 32
 3539              		@ frame_needed = 1, uses_anonymous_args = 0
 3540 0000 80B5     		push	{r7, lr}
 3541              	.LCFI251:
 3542              		.cfi_def_cfa_offset 8
 3543              		.cfi_offset 7, -8
 3544              		.cfi_offset 14, -4
 3545 0002 88B0     		sub	sp, sp, #32
 3546              	.LCFI252:
 3547              		.cfi_def_cfa_offset 40
 3548 0004 00AF     		add	r7, sp, #0
 3549              	.LCFI253:
 3550              		.cfi_def_cfa_register 7
 3551 0006 F860     		str	r0, [r7, #12]
 3552 0008 B960     		str	r1, [r7, #8]
 3553 000a 7A60     		str	r2, [r7, #4]
 3554 000c 3B60     		str	r3, [r7]
1314:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t FreeSpace = Ft_Fifo_GetFreeSpace(host, pFifo), TotalBytes =
 3555              		.loc 1 1314 0
 3556 000e B968     		ldr	r1, [r7, #8]
 3557 0010 F868     		ldr	r0, [r7, #12]
 3558 0012 FFF7FEFF 		bl	Ft_Fifo_GetFreeSpace
 3559 0016 B861     		str	r0, [r7, #24]
 3560 0018 3B68     		ldr	r3, [r7]
 3561 001a FB61     		str	r3, [r7, #28]
1315:FT_Eve_Hal/FT_Gpu_Hal.c **** 			NumbytetoWrite;
1316:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1317:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (NumbytetoWrite > FreeSpace) {
 3562              		.loc 1 1317 0
 3563 001c 3A68     		ldr	r2, [r7]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 86


 3564 001e BB69     		ldr	r3, [r7, #24]
 3565 0020 9A42     		cmp	r2, r3
 3566 0022 0ED9     		bls	.L154
1318:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* update the read pointer and get the free space */
1319:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Fifo_Update(host, pFifo);
 3567              		.loc 1 1319 0
 3568 0024 B968     		ldr	r1, [r7, #8]
 3569 0026 F868     		ldr	r0, [r7, #12]
 3570 0028 FFF7FEFF 		bl	Ft_Fifo_Update
1320:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = Ft_Fifo_GetFreeSpace(host, pFifo);
 3571              		.loc 1 1320 0
 3572 002c B968     		ldr	r1, [r7, #8]
 3573 002e F868     		ldr	r0, [r7, #12]
 3574 0030 FFF7FEFF 		bl	Ft_Fifo_GetFreeSpace
 3575 0034 B861     		str	r0, [r7, #24]
1321:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1322:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (NumbytetoWrite > FreeSpace) {
 3576              		.loc 1 1322 0
 3577 0036 3A68     		ldr	r2, [r7]
 3578 0038 BB69     		ldr	r3, [r7, #24]
 3579 003a 9A42     		cmp	r2, r3
 3580 003c 01D9     		bls	.L154
1323:FT_Eve_Hal/FT_Gpu_Hal.c **** 			TotalBytes = FreeSpace;
 3581              		.loc 1 1323 0
 3582 003e BB69     		ldr	r3, [r7, #24]
 3583 0040 FB61     		str	r3, [r7, #28]
 3584              	.L154:
1324:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
1325:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1326:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1327:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* sanity check */
1328:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (TotalBytes <= 0) {
 3585              		.loc 1 1328 0
 3586 0042 FB69     		ldr	r3, [r7, #28]
 3587 0044 002B     		cmp	r3, #0
 3588 0046 01D1     		bne	.L155
1329:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//printf("no space in fifo write %d %d %d %d\n",TotalBytes,FreeSpace,pFifo->fifo_wp,pFifo->fifo_r
1330:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;											//error condition
 3589              		.loc 1 1330 0
 3590 0048 0023     		movs	r3, #0
 3591 004a 47E0     		b	.L156
 3592              	.L155:
1331:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1332:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* check for the loopback conditions */
1333:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (pFifo->fifo_wp + TotalBytes >= pFifo->fifo_len) {
 3593              		.loc 1 1333 0
 3594 004c BB68     		ldr	r3, [r7, #8]
 3595 004e 9B68     		ldr	r3, [r3, #8]
 3596 0050 1A46     		mov	r2, r3
 3597 0052 FB69     		ldr	r3, [r7, #28]
 3598 0054 1344     		add	r3, r3, r2
 3599 0056 BA68     		ldr	r2, [r7, #8]
 3600 0058 5268     		ldr	r2, [r2, #4]
 3601 005a 9342     		cmp	r3, r2
 3602 005c 23D3     		bcc	.L157
 3603              	.LBB14:
1334:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t partialchunk = pFifo->fifo_len - pFifo->fifo_wp,
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 87


 3604              		.loc 1 1334 0
 3605 005e BB68     		ldr	r3, [r7, #8]
 3606 0060 5A68     		ldr	r2, [r3, #4]
 3607 0062 BB68     		ldr	r3, [r7, #8]
 3608 0064 9B68     		ldr	r3, [r3, #8]
 3609 0066 D31A     		subs	r3, r2, r3
 3610 0068 7B61     		str	r3, [r7, #20]
1335:FT_Eve_Hal/FT_Gpu_Hal.c **** 				secpartialchunk = TotalBytes - partialchunk;
 3611              		.loc 1 1335 0
 3612 006a FA69     		ldr	r2, [r7, #28]
 3613 006c 7B69     		ldr	r3, [r7, #20]
 3614 006e D31A     		subs	r3, r2, r3
 3615 0070 3B61     		str	r3, [r7, #16]
1336:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1337:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WrMem(host, pFifo->fifo_buff + pFifo->fifo_wp, buffer,
 3616              		.loc 1 1337 0
 3617 0072 BB68     		ldr	r3, [r7, #8]
 3618 0074 1B68     		ldr	r3, [r3]
 3619 0076 BA68     		ldr	r2, [r7, #8]
 3620 0078 9268     		ldr	r2, [r2, #8]
 3621 007a 9918     		adds	r1, r3, r2
 3622 007c 7B69     		ldr	r3, [r7, #20]
 3623 007e 7A68     		ldr	r2, [r7, #4]
 3624 0080 F868     		ldr	r0, [r7, #12]
 3625 0082 FFF7FEFF 		bl	Ft_Gpu_Hal_WrMem
1338:FT_Eve_Hal/FT_Gpu_Hal.c **** 				partialchunk);
1339:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (secpartialchunk > 0) {
 3626              		.loc 1 1339 0
 3627 0086 3B69     		ldr	r3, [r7, #16]
 3628 0088 002B     		cmp	r3, #0
 3629 008a 08D0     		beq	.L158
1340:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_WrMem(host, pFifo->fifo_buff, buffer + partialchunk,
 3630              		.loc 1 1340 0
 3631 008c BB68     		ldr	r3, [r7, #8]
 3632 008e 1968     		ldr	r1, [r3]
 3633 0090 7A68     		ldr	r2, [r7, #4]
 3634 0092 7B69     		ldr	r3, [r7, #20]
 3635 0094 1A44     		add	r2, r2, r3
 3636 0096 3B69     		ldr	r3, [r7, #16]
 3637 0098 F868     		ldr	r0, [r7, #12]
 3638 009a FFF7FEFF 		bl	Ft_Gpu_Hal_WrMem
 3639              	.L158:
1341:FT_Eve_Hal/FT_Gpu_Hal.c **** 					secpartialchunk);
1342:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
1343:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pFifo->fifo_wp = secpartialchunk;
 3640              		.loc 1 1343 0
 3641 009e 3A69     		ldr	r2, [r7, #16]
 3642 00a0 BB68     		ldr	r3, [r7, #8]
 3643 00a2 9A60     		str	r2, [r3, #8]
 3644              	.LBE14:
 3645 00a4 11E0     		b	.L159
 3646              	.L157:
1344:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//printf("partial chunks %d %d %d %d\n",partialchunk,secpartialchunk,pFifo->fifo_wp,pFifo->fifo_r
1345:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1346:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
1347:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WrMem(host, pFifo->fifo_buff + pFifo->fifo_wp, buffer,
 3647              		.loc 1 1347 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 88


 3648 00a6 BB68     		ldr	r3, [r7, #8]
 3649 00a8 1B68     		ldr	r3, [r3]
 3650 00aa BA68     		ldr	r2, [r7, #8]
 3651 00ac 9268     		ldr	r2, [r2, #8]
 3652 00ae 9918     		adds	r1, r3, r2
 3653 00b0 FB69     		ldr	r3, [r7, #28]
 3654 00b2 7A68     		ldr	r2, [r7, #4]
 3655 00b4 F868     		ldr	r0, [r7, #12]
 3656 00b6 FFF7FEFF 		bl	Ft_Gpu_Hal_WrMem
1348:FT_Eve_Hal/FT_Gpu_Hal.c **** 				TotalBytes);
1349:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pFifo->fifo_wp += TotalBytes;
 3657              		.loc 1 1349 0
 3658 00ba BB68     		ldr	r3, [r7, #8]
 3659 00bc 9B68     		ldr	r3, [r3, #8]
 3660 00be 1A46     		mov	r2, r3
 3661 00c0 FB69     		ldr	r3, [r7, #28]
 3662 00c2 1344     		add	r3, r3, r2
 3663 00c4 1A46     		mov	r2, r3
 3664 00c6 BB68     		ldr	r3, [r7, #8]
 3665 00c8 9A60     		str	r2, [r3, #8]
 3666              	.L159:
1350:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1351:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1352:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* update the write pointer address in write register */
1353:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr32(host, pFifo->HW_Write_Reg, pFifo->fifo_wp);
 3667              		.loc 1 1353 0
 3668 00ca BB68     		ldr	r3, [r7, #8]
 3669 00cc 5969     		ldr	r1, [r3, #20]
 3670 00ce BB68     		ldr	r3, [r7, #8]
 3671 00d0 9B68     		ldr	r3, [r3, #8]
 3672 00d2 1A46     		mov	r2, r3
 3673 00d4 F868     		ldr	r0, [r7, #12]
 3674 00d6 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr32
1354:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1355:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return TotalBytes;
 3675              		.loc 1 1355 0
 3676 00da FB69     		ldr	r3, [r7, #28]
 3677              	.L156:
1356:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3678              		.loc 1 1356 0
 3679 00dc 1846     		mov	r0, r3
 3680 00de 2037     		adds	r7, r7, #32
 3681              	.LCFI254:
 3682              		.cfi_def_cfa_offset 8
 3683 00e0 BD46     		mov	sp, r7
 3684              	.LCFI255:
 3685              		.cfi_def_cfa_register 13
 3686              		@ sp needed
 3687 00e2 80BD     		pop	{r7, pc}
 3688              		.cfi_endproc
 3689              	.LFE188:
 3691              		.section	.text.Ft_Fifo_Write32,"ax",%progbits
 3692              		.align	1
 3693              		.global	Ft_Fifo_Write32
 3694              		.syntax unified
 3695              		.thumb
 3696              		.thumb_func
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 89


 3697              		.fpu fpv5-sp-d16
 3699              	Ft_Fifo_Write32:
 3700              	.LFB189:
1357:FT_Eve_Hal/FT_Gpu_Hal.c **** //just write one word and update the write register
1358:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_Write32(Ft_Gpu_Hal_Context_t *host, Ft_Fifo_t *pFifo,
1359:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t WriteWord) {
 3701              		.loc 1 1359 0
 3702              		.cfi_startproc
 3703              		@ args = 0, pretend = 0, frame = 16
 3704              		@ frame_needed = 1, uses_anonymous_args = 0
 3705 0000 80B5     		push	{r7, lr}
 3706              	.LCFI256:
 3707              		.cfi_def_cfa_offset 8
 3708              		.cfi_offset 7, -8
 3709              		.cfi_offset 14, -4
 3710 0002 84B0     		sub	sp, sp, #16
 3711              	.LCFI257:
 3712              		.cfi_def_cfa_offset 24
 3713 0004 00AF     		add	r7, sp, #0
 3714              	.LCFI258:
 3715              		.cfi_def_cfa_register 7
 3716 0006 F860     		str	r0, [r7, #12]
 3717 0008 B960     		str	r1, [r7, #8]
 3718 000a 7A60     		str	r2, [r7, #4]
1360:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Fifo_Write(host, pFifo, (ft_uint8_t *) &WriteWord, 4);
 3719              		.loc 1 1360 0
 3720 000c 3A1D     		adds	r2, r7, #4
 3721 000e 0423     		movs	r3, #4
 3722 0010 B968     		ldr	r1, [r7, #8]
 3723 0012 F868     		ldr	r0, [r7, #12]
 3724 0014 FFF7FEFF 		bl	Ft_Fifo_Write
1361:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3725              		.loc 1 1361 0
 3726 0018 00BF     		nop
 3727 001a 1037     		adds	r7, r7, #16
 3728              	.LCFI259:
 3729              		.cfi_def_cfa_offset 8
 3730 001c BD46     		mov	sp, r7
 3731              	.LCFI260:
 3732              		.cfi_def_cfa_register 13
 3733              		@ sp needed
 3734 001e 80BD     		pop	{r7, pc}
 3735              		.cfi_endproc
 3736              	.LFE189:
 3738              		.section	.text.Ft_Fifo_WriteWait,"ax",%progbits
 3739              		.align	1
 3740              		.global	Ft_Fifo_WriteWait
 3741              		.syntax unified
 3742              		.thumb
 3743              		.thumb_func
 3744              		.fpu fpv5-sp-d16
 3746              	Ft_Fifo_WriteWait:
 3747              	.LFB190:
1362:FT_Eve_Hal/FT_Gpu_Hal.c **** //write and wait for the fifo to be empty. handle cases even if the Numbytes are more than freespac
1363:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_WriteWait(Ft_Gpu_Hal_Context_t *host, Ft_Fifo_t *pFifo,
1364:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t *buffer, ft_uint32_t Numbyte) {
 3748              		.loc 1 1364 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 90


 3749              		.cfi_startproc
 3750              		@ args = 0, pretend = 0, frame = 32
 3751              		@ frame_needed = 1, uses_anonymous_args = 0
 3752 0000 80B5     		push	{r7, lr}
 3753              	.LCFI261:
 3754              		.cfi_def_cfa_offset 8
 3755              		.cfi_offset 7, -8
 3756              		.cfi_offset 14, -4
 3757 0002 88B0     		sub	sp, sp, #32
 3758              	.LCFI262:
 3759              		.cfi_def_cfa_offset 40
 3760 0004 00AF     		add	r7, sp, #0
 3761              	.LCFI263:
 3762              		.cfi_def_cfa_register 7
 3763 0006 F860     		str	r0, [r7, #12]
 3764 0008 B960     		str	r1, [r7, #8]
 3765 000a 7A60     		str	r2, [r7, #4]
 3766 000c 3B60     		str	r3, [r7]
1365:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t TotalBytes = Numbyte, currchunk = 0, FreeSpace;
 3767              		.loc 1 1365 0
 3768 000e 3B68     		ldr	r3, [r7]
 3769 0010 FB61     		str	r3, [r7, #28]
 3770 0012 0023     		movs	r3, #0
 3771 0014 BB61     		str	r3, [r7, #24]
1366:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t *pbuff = buffer;
 3772              		.loc 1 1366 0
 3773 0016 7B68     		ldr	r3, [r7, #4]
 3774 0018 7B61     		str	r3, [r7, #20]
1367:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* blocking call, manage to check for the error case and break in case of error */
1368:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (TotalBytes > 0) {
 3775              		.loc 1 1368 0
 3776 001a 1AE0     		b	.L162
 3777              	.L164:
1369:FT_Eve_Hal/FT_Gpu_Hal.c **** 		currchunk = TotalBytes;
 3778              		.loc 1 1369 0
 3779 001c FB69     		ldr	r3, [r7, #28]
 3780 001e BB61     		str	r3, [r7, #24]
1370:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = Ft_Fifo_GetFreeSpace(host, pFifo);
 3781              		.loc 1 1370 0
 3782 0020 B968     		ldr	r1, [r7, #8]
 3783 0022 F868     		ldr	r0, [r7, #12]
 3784 0024 FFF7FEFF 		bl	Ft_Fifo_GetFreeSpace
 3785 0028 3861     		str	r0, [r7, #16]
1371:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (currchunk > FreeSpace) {
 3786              		.loc 1 1371 0
 3787 002a BA69     		ldr	r2, [r7, #24]
 3788 002c 3B69     		ldr	r3, [r7, #16]
 3789 002e 9A42     		cmp	r2, r3
 3790 0030 01D9     		bls	.L163
1372:FT_Eve_Hal/FT_Gpu_Hal.c **** 			currchunk = FreeSpace;
 3791              		.loc 1 1372 0
 3792 0032 3B69     		ldr	r3, [r7, #16]
 3793 0034 BB61     		str	r3, [r7, #24]
 3794              	.L163:
1373:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
1374:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1375:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Fifo_Write(host, pFifo, pbuff, currchunk);
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 91


 3795              		.loc 1 1375 0
 3796 0036 BB69     		ldr	r3, [r7, #24]
 3797 0038 7A69     		ldr	r2, [r7, #20]
 3798 003a B968     		ldr	r1, [r7, #8]
 3799 003c F868     		ldr	r0, [r7, #12]
 3800 003e FFF7FEFF 		bl	Ft_Fifo_Write
1376:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pbuff += currchunk;
 3801              		.loc 1 1376 0
 3802 0042 7A69     		ldr	r2, [r7, #20]
 3803 0044 BB69     		ldr	r3, [r7, #24]
 3804 0046 1344     		add	r3, r3, r2
 3805 0048 7B61     		str	r3, [r7, #20]
1377:FT_Eve_Hal/FT_Gpu_Hal.c **** 		TotalBytes -= currchunk;
 3806              		.loc 1 1377 0
 3807 004a FA69     		ldr	r2, [r7, #28]
 3808 004c BB69     		ldr	r3, [r7, #24]
 3809 004e D31A     		subs	r3, r2, r3
 3810 0050 FB61     		str	r3, [r7, #28]
 3811              	.L162:
1368:FT_Eve_Hal/FT_Gpu_Hal.c **** 		currchunk = TotalBytes;
 3812              		.loc 1 1368 0
 3813 0052 FB69     		ldr	r3, [r7, #28]
 3814 0054 002B     		cmp	r3, #0
 3815 0056 E1D1     		bne	.L164
1378:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1379:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1380:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3816              		.loc 1 1380 0
 3817 0058 00BF     		nop
 3818 005a 2037     		adds	r7, r7, #32
 3819              	.LCFI264:
 3820              		.cfi_def_cfa_offset 8
 3821 005c BD46     		mov	sp, r7
 3822              	.LCFI265:
 3823              		.cfi_def_cfa_register 13
 3824              		@ sp needed
 3825 005e 80BD     		pop	{r7, pc}
 3826              		.cfi_endproc
 3827              	.LFE190:
 3829              		.section	.text.Ft_Fifo_GetFreeSpace,"ax",%progbits
 3830              		.align	1
 3831              		.global	Ft_Fifo_GetFreeSpace
 3832              		.syntax unified
 3833              		.thumb
 3834              		.thumb_func
 3835              		.fpu fpv5-sp-d16
 3837              	Ft_Fifo_GetFreeSpace:
 3838              	.LFB191:
1381:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1382:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(FT900_PLATFORM)
1383:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t getFlashTextString(char __flash__ *str, ft_uchar8_t *destArray, ft_uint16_t numOfChars) {
1384:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t i;
1385:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for(i=0;i<numOfChars;i++)
1386:FT_Eve_Hal/FT_Gpu_Hal.c **** 	destArray[i] = str[i];
1387:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1388:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1389:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 92


1390:FT_Eve_Hal/FT_Gpu_Hal.c **** //get the free space in the fifo - make sure the return value is maximum of (LENGTH - 4)
1391:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Fifo_GetFreeSpace(Ft_Gpu_Hal_Context_t *host, Ft_Fifo_t *pFifo) {
 3839              		.loc 1 1391 0
 3840              		.cfi_startproc
 3841              		@ args = 0, pretend = 0, frame = 16
 3842              		@ frame_needed = 1, uses_anonymous_args = 0
 3843 0000 80B5     		push	{r7, lr}
 3844              	.LCFI266:
 3845              		.cfi_def_cfa_offset 8
 3846              		.cfi_offset 7, -8
 3847              		.cfi_offset 14, -4
 3848 0002 84B0     		sub	sp, sp, #16
 3849              	.LCFI267:
 3850              		.cfi_def_cfa_offset 24
 3851 0004 00AF     		add	r7, sp, #0
 3852              	.LCFI268:
 3853              		.cfi_def_cfa_register 7
 3854 0006 7860     		str	r0, [r7, #4]
 3855 0008 3960     		str	r1, [r7]
1392:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t FreeSpace = 0;
 3856              		.loc 1 1392 0
 3857 000a 0023     		movs	r3, #0
 3858 000c FB60     		str	r3, [r7, #12]
1393:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1394:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Fifo_Update(host, pFifo);
 3859              		.loc 1 1394 0
 3860 000e 3968     		ldr	r1, [r7]
 3861 0010 7868     		ldr	r0, [r7, #4]
 3862 0012 FFF7FEFF 		bl	Ft_Fifo_Update
1395:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1396:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (pFifo->fifo_wp >= pFifo->fifo_rp) {
 3863              		.loc 1 1396 0
 3864 0016 3B68     		ldr	r3, [r7]
 3865 0018 9A68     		ldr	r2, [r3, #8]
 3866 001a 3B68     		ldr	r3, [r7]
 3867 001c DB68     		ldr	r3, [r3, #12]
 3868 001e 9A42     		cmp	r2, r3
 3869 0020 09DB     		blt	.L166
1397:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = pFifo->fifo_len - pFifo->fifo_wp + pFifo->fifo_rp;
 3870              		.loc 1 1397 0
 3871 0022 3B68     		ldr	r3, [r7]
 3872 0024 5A68     		ldr	r2, [r3, #4]
 3873 0026 3B68     		ldr	r3, [r7]
 3874 0028 9B68     		ldr	r3, [r3, #8]
 3875 002a D21A     		subs	r2, r2, r3
 3876 002c 3B68     		ldr	r3, [r7]
 3877 002e DB68     		ldr	r3, [r3, #12]
 3878 0030 1344     		add	r3, r3, r2
 3879 0032 FB60     		str	r3, [r7, #12]
 3880 0034 05E0     		b	.L167
 3881              	.L166:
1398:FT_Eve_Hal/FT_Gpu_Hal.c **** 	} else {
1399:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = pFifo->fifo_rp - pFifo->fifo_wp;
 3882              		.loc 1 1399 0
 3883 0036 3B68     		ldr	r3, [r7]
 3884 0038 DA68     		ldr	r2, [r3, #12]
 3885 003a 3B68     		ldr	r3, [r7]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 93


 3886 003c 9B68     		ldr	r3, [r3, #8]
 3887 003e D31A     		subs	r3, r2, r3
 3888 0040 FB60     		str	r3, [r7, #12]
 3889              	.L167:
1400:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1401:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1402:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FreeSpace >= 4) {
 3890              		.loc 1 1402 0
 3891 0042 FB68     		ldr	r3, [r7, #12]
 3892 0044 032B     		cmp	r3, #3
 3893 0046 02D9     		bls	.L168
1403:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace -= 4;	//make sure 1 word space is maintained between rd and wr pointers
 3894              		.loc 1 1403 0
 3895 0048 FB68     		ldr	r3, [r7, #12]
 3896 004a 043B     		subs	r3, r3, #4
 3897 004c FB60     		str	r3, [r7, #12]
 3898              	.L168:
1404:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1405:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return FreeSpace;
 3899              		.loc 1 1405 0
 3900 004e FB68     		ldr	r3, [r7, #12]
1406:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3901              		.loc 1 1406 0
 3902 0050 1846     		mov	r0, r3
 3903 0052 1037     		adds	r7, r7, #16
 3904              	.LCFI269:
 3905              		.cfi_def_cfa_offset 8
 3906 0054 BD46     		mov	sp, r7
 3907              	.LCFI270:
 3908              		.cfi_def_cfa_register 13
 3909              		@ sp needed
 3910 0056 80BD     		pop	{r7, pc}
 3911              		.cfi_endproc
 3912              	.LFE191:
 3914              		.section	.text.Ft_Gpu_CurrentFrequency,"ax",%progbits
 3915              		.align	1
 3916              		.global	Ft_Gpu_CurrentFrequency
 3917              		.syntax unified
 3918              		.thumb
 3919              		.thumb_func
 3920              		.fpu fpv5-sp-d16
 3922              	Ft_Gpu_CurrentFrequency:
 3923              	.LFB192:
1407:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1408:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Gpu_CurrentFrequency(Ft_Gpu_Hal_Context_t *host) {
 3924              		.loc 1 1408 0
 3925              		.cfi_startproc
 3926              		@ args = 0, pretend = 0, frame = 32
 3927              		@ frame_needed = 1, uses_anonymous_args = 0
 3928 0000 80B5     		push	{r7, lr}
 3929              	.LCFI271:
 3930              		.cfi_def_cfa_offset 8
 3931              		.cfi_offset 7, -8
 3932              		.cfi_offset 14, -4
 3933 0002 88B0     		sub	sp, sp, #32
 3934              	.LCFI272:
 3935              		.cfi_def_cfa_offset 40
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 94


 3936 0004 00AF     		add	r7, sp, #0
 3937              	.LCFI273:
 3938              		.cfi_def_cfa_register 7
 3939 0006 7860     		str	r0, [r7, #4]
1409:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t t0, t1;
1410:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t addr = REG_CLOCK;
 3940              		.loc 1 1410 0
 3941 0008 0B4B     		ldr	r3, .L172
 3942 000a FB61     		str	r3, [r7, #28]
1411:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t spidata[4];
1412:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int32_t r = 15625;
 3943              		.loc 1 1412 0
 3944 000c 43F60953 		movw	r3, #15625
 3945 0010 BB61     		str	r3, [r7, #24]
1413:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1414:FT_Eve_Hal/FT_Gpu_Hal.c **** 	t0 = Ft_Gpu_Hal_Rd32(host, REG_CLOCK); /* t0 read */
 3946              		.loc 1 1414 0
 3947 0012 0949     		ldr	r1, .L172
 3948 0014 7868     		ldr	r0, [r7, #4]
 3949 0016 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd32
 3950 001a 7861     		str	r0, [r7, #20]
1415:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1416:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1417:FT_Eve_Hal/FT_Gpu_Hal.c **** 	__asm__
1418:FT_Eve_Hal/FT_Gpu_Hal.c **** 	(
1419:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   move.l  $r0,%0" "\n\t"
1420:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   mul.l   $r0,$r0,100" "\n\t"
1421:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"1:" "\n\t"
1422:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   sub.l   $r0,$r0,3" "\n\t" /* Subtract the loop time = 4 cycles */
1423:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   cmp.l   $r0,0" "\n\t" /* Check that the counter is equal to 0 */
1424:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   jmpc    gt, 1b" "\n\t"
1425:FT_Eve_Hal/FT_Gpu_Hal.c **** 			/* Outputs */:
1426:FT_Eve_Hal/FT_Gpu_Hal.c **** 			/* Inputs */: "r"(r)
1427:FT_Eve_Hal/FT_Gpu_Hal.c **** 			/* Using */: "$r0"
1428:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1429:FT_Eve_Hal/FT_Gpu_Hal.c **** 	);
1430:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1431:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//usleep(15625);
1432:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//ft_delay(15625);
1433:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1434:FT_Eve_Hal/FT_Gpu_Hal.c **** #if (defined(MSVC_PLATFORM) || defined(MSVC_FT800EMU))
1435:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//may not be precise
1436:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Sleep(15625/1000);
1437:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1438:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM
1439:FT_Eve_Hal/FT_Gpu_Hal.c **** 	delayMicroseconds(15625);
1440:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1441:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1442:FT_Eve_Hal/FT_Gpu_Hal.c **** 	t1 = Ft_Gpu_Hal_Rd32(host, REG_CLOCK); /* t1 read */
 3951              		.loc 1 1442 0
 3952 001c 0649     		ldr	r1, .L172
 3953 001e 7868     		ldr	r0, [r7, #4]
 3954 0020 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd32
 3955 0024 3861     		str	r0, [r7, #16]
1443:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return ((t1 - t0) * 64); /* bitshift 6 places is the same as multiplying 64 */
 3956              		.loc 1 1443 0
 3957 0026 3A69     		ldr	r2, [r7, #16]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 95


 3958 0028 7B69     		ldr	r3, [r7, #20]
 3959 002a D31A     		subs	r3, r2, r3
 3960 002c 9B01     		lsls	r3, r3, #6
1444:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 3961              		.loc 1 1444 0
 3962 002e 1846     		mov	r0, r3
 3963 0030 2037     		adds	r7, r7, #32
 3964              	.LCFI274:
 3965              		.cfi_def_cfa_offset 8
 3966 0032 BD46     		mov	sp, r7
 3967              	.LCFI275:
 3968              		.cfi_def_cfa_register 13
 3969              		@ sp needed
 3970 0034 80BD     		pop	{r7, pc}
 3971              	.L173:
 3972 0036 00BF     		.align	2
 3973              	.L172:
 3974 0038 08203000 		.word	3153928
 3975              		.cfi_endproc
 3976              	.LFE192:
 3978              		.section	.text.Ft_Gpu_ClockTrimming,"ax",%progbits
 3979              		.align	1
 3980              		.global	Ft_Gpu_ClockTrimming
 3981              		.syntax unified
 3982              		.thumb
 3983              		.thumb_func
 3984              		.fpu fpv5-sp-d16
 3986              	Ft_Gpu_ClockTrimming:
 3987              	.LFB193:
1445:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1446:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_int32_t Ft_Gpu_ClockTrimming(Ft_Gpu_Hal_Context_t *host, ft_int32_t LowFreq) {
 3988              		.loc 1 1446 0
 3989              		.cfi_startproc
 3990              		@ args = 0, pretend = 0, frame = 16
 3991              		@ frame_needed = 1, uses_anonymous_args = 0
 3992 0000 80B5     		push	{r7, lr}
 3993              	.LCFI276:
 3994              		.cfi_def_cfa_offset 8
 3995              		.cfi_offset 7, -8
 3996              		.cfi_offset 14, -4
 3997 0002 84B0     		sub	sp, sp, #16
 3998              	.LCFI277:
 3999              		.cfi_def_cfa_offset 24
 4000 0004 00AF     		add	r7, sp, #0
 4001              	.LCFI278:
 4002              		.cfi_def_cfa_register 7
 4003 0006 7860     		str	r0, [r7, #4]
 4004 0008 3960     		str	r1, [r7]
1447:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t f;
1448:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t i;
1449:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1450:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Trim the internal clock by increase the REG_TRIM register till the measured frequency is within
1451:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for (i = 0; (i < 31) && ((f = Ft_Gpu_CurrentFrequency(host)) < LowFreq);
 4005              		.loc 1 1451 0
 4006 000a 0023     		movs	r3, #0
 4007 000c FB72     		strb	r3, [r7, #11]
 4008 000e 08E0     		b	.L175
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 96


 4009              	.L177:
1452:FT_Eve_Hal/FT_Gpu_Hal.c **** 			i++) {
1453:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Wr8(host, REG_TRIM, i); /* increase the REG_TRIM register value automatically increase
 4010              		.loc 1 1453 0
 4011 0010 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4012 0012 1A46     		mov	r2, r3
 4013 0014 0D49     		ldr	r1, .L179
 4014 0016 7868     		ldr	r0, [r7, #4]
 4015 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr8
1452:FT_Eve_Hal/FT_Gpu_Hal.c **** 			i++) {
 4016              		.loc 1 1452 0
 4017 001c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4018 001e 0133     		adds	r3, r3, #1
 4019 0020 FB72     		strb	r3, [r7, #11]
 4020              	.L175:
1451:FT_Eve_Hal/FT_Gpu_Hal.c **** 			i++) {
 4021              		.loc 1 1451 0 discriminator 1
 4022 0022 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4023 0024 1E2B     		cmp	r3, #30
 4024 0026 07D8     		bhi	.L176
1451:FT_Eve_Hal/FT_Gpu_Hal.c **** 			i++) {
 4025              		.loc 1 1451 0 is_stmt 0 discriminator 2
 4026 0028 7868     		ldr	r0, [r7, #4]
 4027 002a FFF7FEFF 		bl	Ft_Gpu_CurrentFrequency
 4028 002e F860     		str	r0, [r7, #12]
 4029 0030 3B68     		ldr	r3, [r7]
 4030 0032 FA68     		ldr	r2, [r7, #12]
 4031 0034 9A42     		cmp	r2, r3
 4032 0036 EBD3     		bcc	.L177
 4033              	.L176:
1454:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1455:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1456:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1457:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr32(host, REG_FREQUENCY, f); /* Set the final frequency to be used for internal operat
 4034              		.loc 1 1457 0 is_stmt 1
 4035 0038 FA68     		ldr	r2, [r7, #12]
 4036 003a 0549     		ldr	r1, .L179+4
 4037 003c 7868     		ldr	r0, [r7, #4]
 4038 003e FFF7FEFF 		bl	Ft_Gpu_Hal_Wr32
1458:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1459:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return f;
 4039              		.loc 1 1459 0
 4040 0042 FB68     		ldr	r3, [r7, #12]
1460:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 4041              		.loc 1 1460 0
 4042 0044 1846     		mov	r0, r3
 4043 0046 1037     		adds	r7, r7, #16
 4044              	.LCFI279:
 4045              		.cfi_def_cfa_offset 8
 4046 0048 BD46     		mov	sp, r7
 4047              	.LCFI280:
 4048              		.cfi_def_cfa_register 13
 4049              		@ sp needed
 4050 004a 80BD     		pop	{r7, pc}
 4051              	.L180:
 4052              		.align	2
 4053              	.L179:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 97


 4054 004c 80213000 		.word	3154304
 4055 0050 0C203000 		.word	3153932
 4056              		.cfi_endproc
 4057              	.LFE193:
 4059              		.text
 4060              	.Letext0:
 4061              		.file 2 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/machine/_default_types
 4062              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/lock.h"
 4063              		.file 4 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/_types.h"
 4064              		.file 5 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h
 4065              		.file 6 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/_stdint.h"
 4066              		.file 7 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/unistd.h"
 4067              		.file 8 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/reent.h"
 4068              		.file 9 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/stdlib.h"
 4069              		.file 10 "FT_Eve_Hal/FT_DataTypes.h"
 4070              		.file 11 "FT_Eve_Hal/FT_Gpu_Hal.h"
 4071              		.file 12 "Drivers/CMSIS/Include/core_cm7.h"
 4072              		.file 13 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 4073              		.file 14 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 4074              		.file 15 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 4075              		.file 16 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 4076              		.file 17 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 4077              		.file 18 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_spi.h"
 4078              		.file 19 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_uart.h"
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 98


DEFINED SYMBOLS
                            *ABS*:0000000000000000 FT_Gpu_Hal.c
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:18     .text.Ft_Gpu_Hal_Init:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:25     .text.Ft_Gpu_Hal_Init:0000000000000000 Ft_Gpu_Hal_Init
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:64     .text.Ft_Gpu_Hal_Open:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:71     .text.Ft_Gpu_Hal_Open:0000000000000000 Ft_Gpu_Hal_Open
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:129    .text.Ft_Gpu_Hal_Close:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:136    .text.Ft_Gpu_Hal_Close:0000000000000000 Ft_Gpu_Hal_Close
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:176    .text.Ft_Gpu_Hal_DeInit:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:183    .text.Ft_Gpu_Hal_DeInit:0000000000000000 Ft_Gpu_Hal_DeInit
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:212    .rodata:0000000000000000 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:222    .text.Ft_Gpu_Hal_StartTransfer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:229    .text.Ft_Gpu_Hal_StartTransfer:0000000000000000 Ft_Gpu_Hal_StartTransfer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:466    .text.Ft_Gpu_Hal_StartTransfer:000000000000019c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:476    .text.Ft_Gpu_Hal_StartCmdTransfer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:483    .text.Ft_Gpu_Hal_StartCmdTransfer:0000000000000000 Ft_Gpu_Hal_StartCmdTransfer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:527    .text.Ft_Gpu_Hal_TransferString:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:534    .text.Ft_Gpu_Hal_TransferString:0000000000000000 Ft_Gpu_Hal_TransferString
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:603    .text.Ft_Gpu_Hal_Transfer8:0000000000000000 Ft_Gpu_Hal_Transfer8
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:596    .text.Ft_Gpu_Hal_Transfer8:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:659    .text.Ft_Gpu_Hal_Transfer8:0000000000000040 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:664    .text.Ft_Gpu_Hal_Transfer16:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:671    .text.Ft_Gpu_Hal_Transfer16:0000000000000000 Ft_Gpu_Hal_Transfer16
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:749    .text.Ft_Gpu_Hal_Transfer32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:756    .text.Ft_Gpu_Hal_Transfer32:0000000000000000 Ft_Gpu_Hal_Transfer32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:830    .text.Ft_Gpu_Hal_EndTransfer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:837    .text.Ft_Gpu_Hal_EndTransfer:0000000000000000 Ft_Gpu_Hal_EndTransfer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:877    .text.Ft_Gpu_Hal_EndTransfer:0000000000000020 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:882    .text.Ft_Gpu_Hal_Rd8:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:889    .text.Ft_Gpu_Hal_Rd8:0000000000000000 Ft_Gpu_Hal_Rd8
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:935    .text.Ft_Gpu_Hal_Rd16:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:942    .text.Ft_Gpu_Hal_Rd16:0000000000000000 Ft_Gpu_Hal_Rd16
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:991    .text.Ft_Gpu_Hal_Rd32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:998    .text.Ft_Gpu_Hal_Rd32:0000000000000000 Ft_Gpu_Hal_Rd32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1046   .text.Ft_Gpu_Hal_Wr8:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1053   .text.Ft_Gpu_Hal_Wr8:0000000000000000 Ft_Gpu_Hal_Wr8
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1101   .text.Ft_Gpu_Hal_Wr16:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1108   .text.Ft_Gpu_Hal_Wr16:0000000000000000 Ft_Gpu_Hal_Wr16
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1156   .text.Ft_Gpu_Hal_Wr32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1163   .text.Ft_Gpu_Hal_Wr32:0000000000000000 Ft_Gpu_Hal_Wr32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1216   .text.Ft_Gpu_HostCommand:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1223   .text.Ft_Gpu_HostCommand:0000000000000000 Ft_Gpu_HostCommand
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1351   .text.Ft_Gpu_HostCommand:00000000000000c4 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1360   .text.Ft_Gpu_ClockSelect:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1367   .text.Ft_Gpu_ClockSelect:0000000000000000 Ft_Gpu_ClockSelect
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1406   .text.Ft_Gpu_PLL_FreqSelect:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1413   .text.Ft_Gpu_PLL_FreqSelect:0000000000000000 Ft_Gpu_PLL_FreqSelect
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1452   .text.Ft_Gpu_PowerModeSwitch:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1459   .text.Ft_Gpu_PowerModeSwitch:0000000000000000 Ft_Gpu_PowerModeSwitch
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1498   .text.Ft_Gpu_CoreReset:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1505   .text.Ft_Gpu_CoreReset:0000000000000000 Ft_Gpu_CoreReset
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1541   .text.Ft_Gpu_81X_SelectSysCLK:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1548   .text.Ft_Gpu_81X_SelectSysCLK:0000000000000000 Ft_Gpu_81X_SelectSysCLK
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1842   .text.Ft_Gpu_HostCommand_Ext3:0000000000000000 Ft_Gpu_HostCommand_Ext3
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1646   .text.Ft_GPU_81X_PowerOffComponents:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1653   .text.Ft_GPU_81X_PowerOffComponents:0000000000000000 Ft_GPU_81X_PowerOffComponents
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1694   .text.Ft_GPU_81X_PadDriveStrength:0000000000000000 $t
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 99


/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1701   .text.Ft_GPU_81X_PadDriveStrength:0000000000000000 Ft_GPU_81X_PadDriveStrength
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1749   .text.Ft_Gpu_81X_ResetActive:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1756   .text.Ft_Gpu_81X_ResetActive:0000000000000000 Ft_Gpu_81X_ResetActive
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1792   .text.Ft_Gpu_81X_ResetRemoval:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1799   .text.Ft_Gpu_81X_ResetRemoval:0000000000000000 Ft_Gpu_81X_ResetRemoval
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1835   .text.Ft_Gpu_HostCommand_Ext3:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1921   .text.Ft_Gpu_HostCommand_Ext3:0000000000000060 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1927   .text.Ft_Gpu_Hal_Updatecmdfifo:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1934   .text.Ft_Gpu_Hal_Updatecmdfifo:0000000000000000 Ft_Gpu_Hal_Updatecmdfifo
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1994   .text.Ft_Gpu_Hal_Updatecmdfifo:000000000000004c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:1999   .text.Ft_Gpu_Cmdfifo_Freespace:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2006   .text.Ft_Gpu_Cmdfifo_Freespace:0000000000000000 Ft_Gpu_Cmdfifo_Freespace
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2058   .text.Ft_Gpu_Cmdfifo_Freespace:0000000000000034 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2063   .text.Ft_Gpu_Hal_WrCmdBuf:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2070   .text.Ft_Gpu_Hal_WrCmdBuf:0000000000000000 Ft_Gpu_Hal_WrCmdBuf
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2196   .text.Ft_Gpu_Hal_CheckCmdBuffer:0000000000000000 Ft_Gpu_Hal_CheckCmdBuffer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2247   .text.Ft_Gpu_Hal_WaitCmdfifo_empty:0000000000000000 Ft_Gpu_Hal_WaitCmdfifo_empty
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2189   .text.Ft_Gpu_Hal_CheckCmdBuffer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2240   .text.Ft_Gpu_Hal_WaitCmdfifo_empty:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2304   .text.Ft_Gpu_Hal_WaitCmdfifo_empty:000000000000003c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2310   .text.Ft_Gpu_Hal_WrCmdBuf_nowait:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2317   .text.Ft_Gpu_Hal_WrCmdBuf_nowait:0000000000000000 Ft_Gpu_Hal_WrCmdBuf_nowait
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2431   .text.Ft_Gpu_Hal_WaitCmdfifo_empty_status:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2438   .text.Ft_Gpu_Hal_WaitCmdfifo_empty_status:0000000000000000 Ft_Gpu_Hal_WaitCmdfifo_empty_status
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2499   .text.Ft_Gpu_Hal_WaitCmdfifo_empty_status:0000000000000040 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2505   .text.Ft_Gpu_Hal_WaitLogo_Finish:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2512   .text.Ft_Gpu_Hal_WaitLogo_Finish:0000000000000000 Ft_Gpu_Hal_WaitLogo_Finish
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2569   .text.Ft_Gpu_Hal_WaitLogo_Finish:0000000000000044 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2575   .text.Ft_Gpu_Hal_ResetCmdFifo:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2582   .text.Ft_Gpu_Hal_ResetCmdFifo:0000000000000000 Ft_Gpu_Hal_ResetCmdFifo
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2622   .text.Ft_Gpu_Hal_WrCmd32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2629   .text.Ft_Gpu_Hal_WrCmd32:0000000000000000 Ft_Gpu_Hal_WrCmd32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2678   .text.Ft_Gpu_Hal_ResetDLBuffer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2685   .text.Ft_Gpu_Hal_ResetDLBuffer:0000000000000000 Ft_Gpu_Hal_ResetDLBuffer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2725   .text.Ft_Gpu_Hal_Powercycle:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2732   .text.Ft_Gpu_Hal_Powercycle:0000000000000000 Ft_Gpu_Hal_Powercycle
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2805   .text.Ft_Gpu_Hal_Powercycle:000000000000005c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2810   .text.Ft_Gpu_Hal_WrMemFromFlash:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2817   .text.Ft_Gpu_Hal_WrMemFromFlash:0000000000000000 Ft_Gpu_Hal_WrMemFromFlash
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2883   .text.Ft_Gpu_Hal_WrMem:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2890   .text.Ft_Gpu_Hal_WrMem:0000000000000000 Ft_Gpu_Hal_WrMem
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2956   .text.Ft_Gpu_Hal_RdMem:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:2963   .text.Ft_Gpu_Hal_RdMem:0000000000000000 Ft_Gpu_Hal_RdMem
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3031   .text.Ft_Gpu_Hal_Dec2Ascii:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3038   .text.Ft_Gpu_Hal_Dec2Ascii:0000000000000000 Ft_Gpu_Hal_Dec2Ascii
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3195   .text.Ft_Gpu_Hal_Dec2Ascii:00000000000000ec $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3200   .text.Ft_Gpu_Hal_Sleep:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3207   .text.Ft_Gpu_Hal_Sleep:0000000000000000 Ft_Gpu_Hal_Sleep
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3242   .text.Ft_Gpu_Hal_SetSPI:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3249   .text.Ft_Gpu_Hal_SetSPI:0000000000000000 Ft_Gpu_Hal_SetSPI
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3335   .text.Ft_Gpu_Hal_SetSPI:0000000000000064 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3340   .text.ft_millis:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3347   .text.ft_millis:0000000000000000 ft_millis
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3371   .text.ft_millis_exit:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3378   .text.ft_millis_exit:0000000000000000 ft_millis_exit
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3407   .text.Ft_Fifo_Init:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3414   .text.Ft_Fifo_Init:0000000000000000 Ft_Fifo_Init
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s 			page 100


/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3477   .text.Ft_Fifo_Update:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3484   .text.Ft_Fifo_Update:0000000000000000 Ft_Fifo_Update
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3527   .text.Ft_Fifo_Write:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3534   .text.Ft_Fifo_Write:0000000000000000 Ft_Fifo_Write
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3837   .text.Ft_Fifo_GetFreeSpace:0000000000000000 Ft_Fifo_GetFreeSpace
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3692   .text.Ft_Fifo_Write32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3699   .text.Ft_Fifo_Write32:0000000000000000 Ft_Fifo_Write32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3739   .text.Ft_Fifo_WriteWait:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3746   .text.Ft_Fifo_WriteWait:0000000000000000 Ft_Fifo_WriteWait
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3830   .text.Ft_Fifo_GetFreeSpace:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3915   .text.Ft_Gpu_CurrentFrequency:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3922   .text.Ft_Gpu_CurrentFrequency:0000000000000000 Ft_Gpu_CurrentFrequency
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3974   .text.Ft_Gpu_CurrentFrequency:0000000000000038 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3979   .text.Ft_Gpu_ClockTrimming:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:3986   .text.Ft_Gpu_ClockTrimming:0000000000000000 Ft_Gpu_ClockTrimming
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccddYAxQ.s:4054   .text.Ft_Gpu_ClockTrimming:000000000000004c $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_UART_Transmit
hspi1
huart6
strlen
HAL_SPI_Receive
HAL_Delay
HAL_GetTick
