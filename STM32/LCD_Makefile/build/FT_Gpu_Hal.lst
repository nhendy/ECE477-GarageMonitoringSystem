ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"FT_Gpu_Hal.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Ft_Gpu_Hal_Init,"ax",%progbits
  18              		.align	1
  19              		.global	Ft_Gpu_Hal_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	Ft_Gpu_Hal_Init:
  26              	.LFB138:
  27              		.file 1 "FT_Eve_Hal/FT_Gpu_Hal.c"
   1:FT_Eve_Hal/FT_Gpu_Hal.c **** /*
   2:FT_Eve_Hal/FT_Gpu_Hal.c **** 
   3:FT_Eve_Hal/FT_Gpu_Hal.c **** Copyright (c) BridgeTek Pte Ltd 2015
   4:FT_Eve_Hal/FT_Gpu_Hal.c **** 
   5:FT_Eve_Hal/FT_Gpu_Hal.c **** THIS SOFTWARE IS PROVIDED BY BridgeTek Pte Ltd "AS IS"
   6:FT_Eve_Hal/FT_Gpu_Hal.c **** AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
   7:FT_Eve_Hal/FT_Gpu_Hal.c **** OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
   8:FT_Eve_Hal/FT_Gpu_Hal.c **** BridgeTek Pte Ltd BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   9:FT_Eve_Hal/FT_Gpu_Hal.c **** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  10:FT_Eve_Hal/FT_Gpu_Hal.c **** OF SUBSTITUTE GOODS OR SERVICES LOSS OF USE, DATA, OR PROFITS OR BUSINESS INTERRUPTION)
  11:FT_Eve_Hal/FT_Gpu_Hal.c **** HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
  12:FT_Eve_Hal/FT_Gpu_Hal.c **** TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  13:FT_Eve_Hal/FT_Gpu_Hal.c **** EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  14:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  15:FT_Eve_Hal/FT_Gpu_Hal.c **** FTDI DRIVERS MAY BE USED ONLY IN CONJUNCTION WITH PRODUCTS BASED ON FTDI PARTS.
  16:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  17:FT_Eve_Hal/FT_Gpu_Hal.c **** FTDI DRIVERS MAY BE DISTRIBUTED IN ANY FORM AS LONG AS LICENSE INFORMATION IS NOT MODIFIED.
  18:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  19:FT_Eve_Hal/FT_Gpu_Hal.c **** IF A CUSTOM VENDOR ID AND/OR PRODUCT ID OR DESCRIPTION STRING ARE USED, IT IS THE
  20:FT_Eve_Hal/FT_Gpu_Hal.c **** RESPONSIBILITY OF THE PRODUCT MANUFACTURER TO MAINTAIN ANY CHANGES AND SUBSEQUENT WHQL
  21:FT_Eve_Hal/FT_Gpu_Hal.c **** RE-CERTIFICATION AS A RESULT OF MAKING THESE CHANGES.
  22:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  23:FT_Eve_Hal/FT_Gpu_Hal.c ****  */
  24:FT_Eve_Hal/FT_Gpu_Hal.c **** //#include <main.h>
  25:FT_Eve_Hal/FT_Gpu_Hal.c **** #include "FT_Platform.h"
  26:FT_Eve_Hal/FT_Gpu_Hal.c **** #include <stm32f7xx_hal.h>
  27:FT_Eve_Hal/FT_Gpu_Hal.c **** #include "main.h"
  28:FT_Eve_Hal/FT_Gpu_Hal.c **** #define FT800_PD_N	GPIO_PIN_0
  29:FT_Eve_Hal/FT_Gpu_Hal.c **** #define FT800_CS_N	GPIO_PIN_1
  30:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MEM_WRITE							0x80			// FT812 Host Memory Write
  31:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MEM_READ							0x00			// FT812 Host Memory Read
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 2


  32:FT_Eve_Hal/FT_Gpu_Hal.c **** /* API to initialize the SPI interface */
  33:FT_Eve_Hal/FT_Gpu_Hal.c **** SPI_HandleTypeDef hspi1;
  34:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_bool_t  Ft_Gpu_Hal_Init(Ft_Gpu_HalInit_t *halinit)
  35:FT_Eve_Hal/FT_Gpu_Hal.c **** {
  28              		.loc 1 35 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  36:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
  37:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  38:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return TRUE;
  39:FT_Eve_Hal/FT_Gpu_Hal.c **** }
  34              		.loc 1 39 0
  35 0000 0120     		movs	r0, #1
  36              	.LVL1:
  37 0002 7047     		bx	lr
  38              		.cfi_endproc
  39              	.LFE138:
  41              		.section	.text.Ft_Gpu_Hal_Open,"ax",%progbits
  42              		.align	1
  43              		.global	Ft_Gpu_Hal_Open
  44              		.syntax unified
  45              		.thumb
  46              		.thumb_func
  47              		.fpu fpv5-sp-d16
  49              	Ft_Gpu_Hal_Open:
  50              	.LFB139:
  40:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  41:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  42:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  43:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_bool_t    Ft_Gpu_Hal_Open(Ft_Gpu_Hal_Context_t *host)
  44:FT_Eve_Hal/FT_Gpu_Hal.c **** {
  51              		.loc 1 44 0
  52              		.cfi_startproc
  53              		@ args = 0, pretend = 0, frame = 0
  54              		@ frame_needed = 0, uses_anonymous_args = 0
  55              		@ link register save eliminated.
  56              	.LVL2:
  57 0000 0346     		mov	r3, r0
  45:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
  46:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  47:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_function(host->hal_config.spi_cs_pin_no, pad_spim_ss0); /* GPIO28 as CS */
  48:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_write(host->hal_config.spi_cs_pin_no, 1);
  49:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  50:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_function(host->hal_config.pdn_pin_no, pad_gpio43);
  51:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_dir(host->hal_config.pdn_pin_no, pad_dir_output);
  52:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  53:FT_Eve_Hal/FT_Gpu_Hal.c **** 	gpio_write(host->hal_config.pdn_pin_no,1);
  54:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  55:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  56:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  57:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
  58:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_GpuEmu_SPII2C_begin();
  59:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  60:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 3


  61:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pinMode(host->hal_config.pdn_pin_no, OUTPUT);
  62:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.pdn_pin_no, HIGH);
  63:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pinMode(host->hal_config.spi_cs_pin_no, OUTPUT);
  64:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
  65:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.begin();
  66:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.setClockDivider(SPI_CLOCK_DIV2);
  67:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.setBitOrder(MSBFIRST);
  68:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.setDataMode(SPI_MODE0);
  69:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  70:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
  71:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT_STATUS status;					
  72:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
  73:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ChannelConfig channelConf;			//channel configuration
  74:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  75:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* configure the spi settings */
  76:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.ClockRate = host->hal_config.spi_clockrate_khz * 1000; 
  77:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.LatencyTimer= 2;       
  78:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.configOptions = SPI_CONFIG_OPTION_MODE0 | SPI_CONFIG_OPTION_CS_DBUS3 | SPI_CONFIG_OPTI
  79:FT_Eve_Hal/FT_Gpu_Hal.c **** 	channelConf.Pin = 0x00000000;	/*FinalVal-FinalDir-InitVal-InitDir (for dir 0=in, 1=out)*/
  80:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  81:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Open the first available channel */
  82:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = SPI_OpenChannel(host->hal_config.channel_no,(FT_HANDLE *)&host->hal_handle);
  83:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
  84:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
  85:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("SPI open channel failed %d %d\n",host->hal_config.channel_no,host->hal_handle);
  86:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
  87:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
  88:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = SPI_InitChannel((FT_HANDLE)host->hal_handle,&channelConf);
  89:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
  90:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
  91:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("SPI init channel failed %d %d\n",host->hal_config.channel_no,host->hal_handle);
  92:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
  93:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
  94:FT_Eve_Hal/FT_Gpu_Hal.c **** 
  95:FT_Eve_Hal/FT_Gpu_Hal.c **** 	printf("\nhandle=0x%x status=0x%x\n",host->hal_handle,status);	
  96:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
  97:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
  98:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_Version Version4222;
  99:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_ClockRate clock4222;
 100:FT_Eve_Hal/FT_Gpu_Hal.c **** 	GPIO_Dir gpioDir[4] = {GPIO_OUTPUT,GPIO_INPUT,GPIO_OUTPUT,GPIO_OUTPUT};
 101:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 102:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT_Open(host->hal_config.channel_no,(FT_HANDLE *)&host->hal_handle);
 103:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
 104:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 105:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("4222 open failed %d %d\n",host->hal_config.channel_no,host->hal_handle);
 106:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
 107:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 108:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 109:FT_Eve_Hal/FT_Gpu_Hal.c **** 	// no latency to usb
 110:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT_SetLatencyTimer(host->hal_handle, 2);
 111:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
 112:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 113:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("FT_SetLatencyTimerfailed! %d\n",status);
 114:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 115:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 116:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 117:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 4


 118:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT4222_SPIMaster_Init(host->hal_handle, SPI_IO_SINGLE, CLK_DIV_32, CLK_ACTIVE_LOW, CLK_LE
 119:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_OK != status)
 120:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 121:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("Init FT4222 as SPI master device failed! %d\n",status);
 122:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return FALSE;
 123:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 124:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 125:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT4222_SPI_SetDrivingStrength(host->hal_handle,DS_4MA, DS_4MA, DS_4MA);
 126:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT4222_OK != status)
 127:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 128:FT_Eve_Hal/FT_Gpu_Hal.c **** 		printf("FT4222_SPI_SetDrivingStrength failed!\n");
 129:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 130:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 131:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GetVersion(host->hal_handle, &Version4222);
 132:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_SetClock(host->hal_handle, SYS_CLK_80);
 133:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GetClock(host->hal_handle, &clock4222);
 134:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 135:FT_Eve_Hal/FT_Gpu_Hal.c **** 	printf("\nhandle=0x%x status=0x%x version %d setclock %d\n",host->hal_handle,status,Version4222,cl
 136:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Init GPIO for 4222 */
 137:FT_Eve_Hal/FT_Gpu_Hal.c **** 	status = FT4222_GPIO_Init(host->hal_handle, gpioDir);
 138:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,1);
 139:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 140:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 141:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 142:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 143:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Initialize the context valriables */
 144:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = host->ft_dl_buff_wp = 0;
  58              		.loc 1 144 0
  59 0002 0022     		movs	r2, #0
  60 0004 4281     		strh	r2, [r0, #10]	@ movhi
  61 0006 0281     		strh	r2, [r0, #8]	@ movhi
 145:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spinumdummy = 1;//by default ft800/801/810/811 goes with single dummy byte for read
  62              		.loc 1 145 0
  63 0008 0120     		movs	r0, #1
  64              	.LVL3:
  65 000a 5875     		strb	r0, [r3, #21]
 146:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spichannel = 0;
  66              		.loc 1 146 0
  67 000c 1A75     		strb	r2, [r3, #20]
 147:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->status = FT_GPU_HAL_OPENED;
  68              		.loc 1 147 0
  69 000e 1A73     		strb	r2, [r3, #12]
 148:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 149:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return TRUE;
 150:FT_Eve_Hal/FT_Gpu_Hal.c **** }
  70              		.loc 1 150 0
  71 0010 7047     		bx	lr
  72              		.cfi_endproc
  73              	.LFE139:
  75              		.section	.text.Ft_Gpu_Hal_Close,"ax",%progbits
  76              		.align	1
  77              		.global	Ft_Gpu_Hal_Close
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  81              		.fpu fpv5-sp-d16
  83              	Ft_Gpu_Hal_Close:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 5


  84              	.LFB140:
 151:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t  Ft_Gpu_Hal_Close(Ft_Gpu_Hal_Context_t *host)
 152:FT_Eve_Hal/FT_Gpu_Hal.c **** {
  85              		.loc 1 152 0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		@ link register save eliminated.
  90              	.LVL4:
 153:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->status = FT_GPU_HAL_CLOSED;
  91              		.loc 1 153 0
  92 0000 0323     		movs	r3, #3
  93 0002 0373     		strb	r3, [r0, #12]
 154:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI	
 155:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 156:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 157:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Close the channel*/
 158:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_CloseChannel(host->hal_handle);
 159:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 160:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 161:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 162:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_UnInitialize(host->hal_handle);
 163:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT_Close(host->hal_handle);
 164:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 165:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 166:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 167:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 168:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.end();
 169:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 170:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 171:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_GpuEmu_SPII2C_end();
 172:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 173:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 174:FT_Eve_Hal/FT_Gpu_Hal.c **** }
  94              		.loc 1 174 0
  95 0004 7047     		bx	lr
  96              		.cfi_endproc
  97              	.LFE140:
  99              		.section	.text.Ft_Gpu_Hal_DeInit,"ax",%progbits
 100              		.align	1
 101              		.global	Ft_Gpu_Hal_DeInit
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 105              		.fpu fpv5-sp-d16
 107              	Ft_Gpu_Hal_DeInit:
 108              	.LFB141:
 175:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 176:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_DeInit()
 177:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 109              		.loc 1 177 0
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 0
 112              		@ frame_needed = 0, uses_anonymous_args = 0
 113              		@ link register save eliminated.
 178:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 179:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 6


 180:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 181:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Cleanup the MPSSE Lib
 182:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Cleanup_libMPSSE();
 183:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 184:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 185:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 186:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 187:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 188:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 189:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 190:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 191:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_uninit(SPIM);
 192:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 193:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 114              		.loc 1 193 0
 115 0000 7047     		bx	lr
 116              		.cfi_endproc
 117              	.LFE141:
 119              		.section	.text.Ft_Gpu_Hal_StartTransfer,"ax",%progbits
 120              		.align	1
 121              		.global	Ft_Gpu_Hal_StartTransfer
 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 125              		.fpu fpv5-sp-d16
 127              	Ft_Gpu_Hal_StartTransfer:
 128              	.LFB142:
 194:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 195:FT_Eve_Hal/FT_Gpu_Hal.c **** /*The APIs for reading/writing transfer continuously only with small buffer system*/
 196:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t  Ft_Gpu_Hal_StartTransfer(Ft_Gpu_Hal_Context_t *host,FT_GPU_TRANSFERDIR_T rw,ft_uint32_t 
 197:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 129              		.loc 1 197 0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 8
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133              	.LVL5:
 134 0000 30B5     		push	{r4, r5, lr}
 135              	.LCFI0:
 136              		.cfi_def_cfa_offset 12
 137              		.cfi_offset 4, -12
 138              		.cfi_offset 5, -8
 139              		.cfi_offset 14, -4
 140 0002 83B0     		sub	sp, sp, #12
 141              	.LCFI1:
 142              		.cfi_def_cfa_offset 24
 143 0004 0546     		mov	r5, r0
 198:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (FT_GPU_READ == rw){
 144              		.loc 1 198 0
 145 0006 39BB     		cbnz	r1, .L6
 146              	.LBB2:
 199:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 200:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 201:FT_Eve_Hal/FT_Gpu_Hal.c **** 		unsigned char cTempAddr[3];														// FT800 Memory Address
 202:FT_Eve_Hal/FT_Gpu_Hal.c **** 		unsigned char cZeroFill = ZERO;												// Dummy byte
 147              		.loc 1 202 0
 148 0008 0023     		movs	r3, #0
 149 000a 8DF80330 		strb	r3, [sp, #3]
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 7


 203:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 204:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[2] = (char) (addr >> 16) | MEM_READ;		// Compose the command and address to send
 150              		.loc 1 204 0
 151 000e 110C     		lsrs	r1, r2, #16
 152              	.LVL6:
 153 0010 8DF80610 		strb	r1, [sp, #6]
 205:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[1] = (char) (addr >> 8);								// middle byte
 154              		.loc 1 205 0
 155 0014 C2F30721 		ubfx	r1, r2, #8, #8
 156 0018 8DF80510 		strb	r1, [sp, #5]
 206:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[0] = (char) (addr);										// low byte
 157              		.loc 1 206 0
 158 001c 8DF80420 		strb	r2, [sp, #4]
 207:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 208:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);	// Set chip select low
 159              		.loc 1 208 0
 160 0020 1A46     		mov	r2, r3
 161              	.LVL7:
 162 0022 0221     		movs	r1, #2
 163 0024 1C48     		ldr	r0, .L13
 164              	.LVL8:
 165 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
 166              	.LVL9:
 167              	.LBB3:
 209:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 210:FT_Eve_Hal/FT_Gpu_Hal.c **** 		for (int i = 2; i >= 0; i--)
 168              		.loc 1 210 0
 169 002a 0224     		movs	r4, #2
 170 002c 07E0     		b	.L7
 171              	.LVL10:
 172              	.L8:
 211:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 212:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, 0); 			// Send Memory Write plus high address byte
 173              		.loc 1 212 0 discriminator 3
 174 002e 0023     		movs	r3, #0
 175 0030 0122     		movs	r2, #1
 176 0032 01A9     		add	r1, sp, #4
 177 0034 2144     		add	r1, r1, r4
 178 0036 1948     		ldr	r0, .L13+4
 179 0038 FFF7FEFF 		bl	HAL_SPI_Transmit
 180              	.LVL11:
 210:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 181              		.loc 1 210 0 discriminator 3
 182 003c 013C     		subs	r4, r4, #1
 183              	.LVL12:
 184              	.L7:
 210:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 185              		.loc 1 210 0 is_stmt 0 discriminator 1
 186 003e 002C     		cmp	r4, #0
 187 0040 F5DA     		bge	.L8
 188              	.LBE3:
 213:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 214:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 215:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, &cZeroFill, 1, 0);						// Send dummy byte
 189              		.loc 1 215 0 is_stmt 1
 190 0042 0023     		movs	r3, #0
 191 0044 0122     		movs	r2, #1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 8


 192 0046 0DF10301 		add	r1, sp, #3
 193 004a 1448     		ldr	r0, .L13+4
 194 004c FFF7FEFF 		bl	HAL_SPI_Transmit
 195              	.LVL13:
 216:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 217:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 218:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t spidata[4];
 219:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[0] = (addr >> 16);
 220:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[1] = (addr >> 8);
 221:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[2] =  addr &0xff;
 222:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_open(SPIM, host->hal_config.spi_cs_pin_no);
 223:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,spidata,3);
 224:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 225:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 226:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 227:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 228:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t Transfer_Array[4];
 229:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t SizeTransfered;
 230:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 231:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 232:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* Compose the read packet */
 233:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[0] = addr >> 16;
 234:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[1] = addr >> 8;
 235:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[2] = addr;
 236:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 237:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[3] = 0; //Dummy Read byte
 238:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 239:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,Transfer_Array,sizeof(Transfer_Array),&SizeTransfered,SPI_T
 240:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 241:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 242:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT2,0);
 243:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&
 244:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 245:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 246:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 247:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 248:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 249:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 250:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(addr >> 16);
 251:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(highByte(addr));
 252:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(lowByte(addr));
 253:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 254:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(0); //Dummy Read Byte
 255:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 256:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 257:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 258:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_GpuEmu_SPII2C_StartRead(addr);
 259:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 260:FT_Eve_Hal/FT_Gpu_Hal.c **** 		host->status = FT_GPU_HAL_READING;
 196              		.loc 1 260 0
 197 0050 0123     		movs	r3, #1
 198 0052 2B73     		strb	r3, [r5, #12]
 199              	.LVL14:
 200              	.L5:
 201              	.LBE2:
 261:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}else{
 262:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 9


 263:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 264:FT_Eve_Hal/FT_Gpu_Hal.c **** 		unsigned char cTempAddr[3];														// FT800 Memory Address
 265:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 266:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[2] = (char) (addr >> 16) | MEM_WRITE;	// Compose the command and address to send
 267:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[1] = (char) (addr >> 8);								// middle byte
 268:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[0] = (char) (addr);										// low byte
 269:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 270:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);	// Set chip select low
 271:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 272:FT_Eve_Hal/FT_Gpu_Hal.c **** 		for (int i = 2; i >= 0; i--)
 273:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 274:FT_Eve_Hal/FT_Gpu_Hal.c **** 			HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, 0); 			// Send Memory Write plus high address byte
 275:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 276:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 277:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 278:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t spidata[4];
 279:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[0] = (0x80|(addr >> 16));
 280:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[1] = (addr >> 8);
 281:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spidata[2] = addr;
 282:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 283:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 284:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_open(SPIM, host->hal_config.spi_cs_pin_no);
 285:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,spidata,3);
 286:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 287:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 288:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 289:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 290:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint8_t Transfer_Array[3];
 291:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t SizeTransfered;
 292:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 293:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 294:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* Compose the read packet */
 295:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[0] = (0x80 | (addr >> 16));
 296:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[1] = addr >> 8;
 297:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Transfer_Array[2] = addr;
 298:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 299:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,Transfer_Array,3,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_
 300:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 301:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 302:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT2,0);
 303:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&
 304:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 305:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 306:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 307:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 308:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(0x80 | (addr >> 16));
 309:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(highByte(addr));
 310:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI.transfer(lowByte(addr));
 311:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 312:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 313:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_GpuEmu_SPII2C_StartWrite(addr);
 314:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 315:FT_Eve_Hal/FT_Gpu_Hal.c **** 		host->status = FT_GPU_HAL_WRITING;
 316:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 317:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 202              		.loc 1 317 0
 203 0054 03B0     		add	sp, sp, #12
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 10


 204              	.LCFI2:
 205              		.cfi_remember_state
 206              		.cfi_def_cfa_offset 12
 207              		@ sp needed
 208 0056 30BD     		pop	{r4, r5, pc}
 209              	.LVL15:
 210              	.L6:
 211              	.LCFI3:
 212              		.cfi_restore_state
 213              	.LBB4:
 266:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[1] = (char) (addr >> 8);								// middle byte
 214              		.loc 1 266 0
 215 0058 C2F30743 		ubfx	r3, r2, #16, #8
 216 005c 63F07F03 		orn	r3, r3, #127
 217 0060 8DF80630 		strb	r3, [sp, #6]
 267:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cTempAddr[0] = (char) (addr);										// low byte
 218              		.loc 1 267 0
 219 0064 C2F30723 		ubfx	r3, r2, #8, #8
 220 0068 8DF80530 		strb	r3, [sp, #5]
 268:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 221              		.loc 1 268 0
 222 006c 8DF80420 		strb	r2, [sp, #4]
 270:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 223              		.loc 1 270 0
 224 0070 0022     		movs	r2, #0
 225              	.LVL16:
 226 0072 0221     		movs	r1, #2
 227              	.LVL17:
 228 0074 0848     		ldr	r0, .L13
 229              	.LVL18:
 230 0076 FFF7FEFF 		bl	HAL_GPIO_WritePin
 231              	.LVL19:
 232              	.LBB5:
 272:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 233              		.loc 1 272 0
 234 007a 0224     		movs	r4, #2
 235 007c 07E0     		b	.L10
 236              	.LVL20:
 237              	.L11:
 274:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 238              		.loc 1 274 0 discriminator 3
 239 007e 0023     		movs	r3, #0
 240 0080 0122     		movs	r2, #1
 241 0082 01A9     		add	r1, sp, #4
 242 0084 2144     		add	r1, r1, r4
 243 0086 0548     		ldr	r0, .L13+4
 244 0088 FFF7FEFF 		bl	HAL_SPI_Transmit
 245              	.LVL21:
 272:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 246              		.loc 1 272 0 discriminator 3
 247 008c 013C     		subs	r4, r4, #1
 248              	.LVL22:
 249              	.L10:
 272:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 250              		.loc 1 272 0 is_stmt 0 discriminator 1
 251 008e 002C     		cmp	r4, #0
 252 0090 F5DA     		bge	.L11
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 11


 253              	.LBE5:
 315:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 254              		.loc 1 315 0 is_stmt 1
 255 0092 0223     		movs	r3, #2
 256 0094 2B73     		strb	r3, [r5, #12]
 257              	.LBE4:
 258              		.loc 1 317 0
 259 0096 DDE7     		b	.L5
 260              	.L14:
 261              		.align	2
 262              	.L13:
 263 0098 00040240 		.word	1073873920
 264 009c 00000000 		.word	hspi1
 265              		.cfi_endproc
 266              	.LFE142:
 268              		.section	.text.Ft_Gpu_Hal_StartCmdTransfer,"ax",%progbits
 269              		.align	1
 270              		.global	Ft_Gpu_Hal_StartCmdTransfer
 271              		.syntax unified
 272              		.thumb
 273              		.thumb_func
 274              		.fpu fpv5-sp-d16
 276              	Ft_Gpu_Hal_StartCmdTransfer:
 277              	.LFB143:
 318:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 319:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 320:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 321:FT_Eve_Hal/FT_Gpu_Hal.c **** /*The APIs for writing transfer continuously only*/
 322:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t  Ft_Gpu_Hal_StartCmdTransfer(Ft_Gpu_Hal_Context_t *host,FT_GPU_TRANSFERDIR_T rw, ft_uint1
 323:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 278              		.loc 1 323 0
 279              		.cfi_startproc
 280              		@ args = 0, pretend = 0, frame = 0
 281              		@ frame_needed = 0, uses_anonymous_args = 0
 282              	.LVL23:
 283 0000 08B5     		push	{r3, lr}
 284              	.LCFI4:
 285              		.cfi_def_cfa_offset 8
 286              		.cfi_offset 3, -8
 287              		.cfi_offset 14, -4
 324:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,rw,host->ft_cmd_fifo_wp + RAM_CMD);
 288              		.loc 1 324 0
 289 0002 0289     		ldrh	r2, [r0, #8]
 290              	.LVL24:
 291 0004 02F54212 		add	r2, r2, #3178496
 292 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 293              	.LVL25:
 325:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 294              		.loc 1 325 0
 295 000c 08BD     		pop	{r3, pc}
 296              		.cfi_endproc
 297              	.LFE143:
 299              		.section	.text.Ft_Gpu_Hal_Transfer8,"ax",%progbits
 300              		.align	1
 301              		.global	Ft_Gpu_Hal_Transfer8
 302              		.syntax unified
 303              		.thumb
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 12


 304              		.thumb_func
 305              		.fpu fpv5-sp-d16
 307              	Ft_Gpu_Hal_Transfer8:
 308              	.LFB145:
 326:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 327:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t    Ft_Gpu_Hal_TransferString(Ft_Gpu_Hal_Context_t *host,const ft_char8_t *string)
 328:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 329:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t length = strlen(string);
 330:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while(length --){
 331:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,*string);
 332:FT_Eve_Hal/FT_Gpu_Hal.c **** 		string ++;
 333:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 334:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Append one null as ending flag
 335:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer8(host,0);
 336:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 337:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 338:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 339:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint8_t    Ft_Gpu_Hal_Transfer8(Ft_Gpu_Hal_Context_t *host,ft_uint8_t value)
 340:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 309              		.loc 1 340 0
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 8
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 313              	.LVL26:
 314 0000 00B5     		push	{lr}
 315              	.LCFI5:
 316              		.cfi_def_cfa_offset 4
 317              		.cfi_offset 14, -4
 318 0002 83B0     		sub	sp, sp, #12
 319              	.LCFI6:
 320              		.cfi_def_cfa_offset 16
 341:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 342:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t ReadByte;
 343:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING)
 321              		.loc 1 343 0
 322 0004 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 323 0006 022B     		cmp	r3, #2
 324 0008 0BD0     		beq	.L21
 344:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 345:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, value, 1, 0);
 346:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 347:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
 348:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 349:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Receive(&hspi1, &ReadByte, 1, 0);
 325              		.loc 1 349 0
 326 000a 0023     		movs	r3, #0
 327 000c 0122     		movs	r2, #1
 328 000e 0DF10701 		add	r1, sp, #7
 329              	.LVL27:
 330 0012 0748     		ldr	r0, .L22
 331              	.LVL28:
 332 0014 FFF7FEFF 		bl	HAL_SPI_Receive
 333              	.LVL29:
 334              	.L19:
 350:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 351:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return ReadByte;
 352:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 13


 353:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 354:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t ReadByte;
 355:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 356:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING)
 357:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 358:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_write(SPIM,value);
 359:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 360:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
 361:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 362:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_read(SPIM,ReadByte);
 363:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 364:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return ReadByte;
 365:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 366:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 367:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 368:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return SPI.transfer(value);
 369:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 370:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 371:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered;
 372:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING)
 373:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 374:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 375:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write(host->hal_handle,&value,sizeof(value),&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTE
 376:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 377:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 378:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 379:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, &value,sizeof(value),&SizeTransfered16,
 380:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
 381:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 382:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 383:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
 384:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 385:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 386:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Read(host->hal_handle,&value,sizeof(value),&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTES
 387:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 388:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 389:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
 390:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleRead((FT_HANDLE)host->hal_handle, &value,sizeof(value),&SizeTransfered16,T
 391:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
 392:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 393:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 394:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 395:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (SizeTransfered != sizeof(value))
 396:FT_Eve_Hal/FT_Gpu_Hal.c **** 		host->status = FT_GPU_HAL_STATUS_ERROR;
 397:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 398:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif	
 399:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 400:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 401:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return Ft_GpuEmu_SPII2C_transfer(value);
 402:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 403:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 335              		.loc 1 403 0
 336 0018 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 337 001c 03B0     		add	sp, sp, #12
 338              	.LCFI7:
 339              		.cfi_remember_state
 340              		.cfi_def_cfa_offset 4
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 14


 341              		@ sp needed
 342 001e 5DF804FB 		ldr	pc, [sp], #4
 343              	.LVL30:
 344              	.L21:
 345              	.LCFI8:
 346              		.cfi_restore_state
 345:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 347              		.loc 1 345 0
 348 0022 0023     		movs	r3, #0
 349 0024 0122     		movs	r2, #1
 350 0026 0248     		ldr	r0, .L22
 351              	.LVL31:
 352 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 353              	.LVL32:
 354 002c F4E7     		b	.L19
 355              	.L23:
 356 002e 00BF     		.align	2
 357              	.L22:
 358 0030 00000000 		.word	hspi1
 359              		.cfi_endproc
 360              	.LFE145:
 362              		.section	.text.Ft_Gpu_Hal_TransferString,"ax",%progbits
 363              		.align	1
 364              		.global	Ft_Gpu_Hal_TransferString
 365              		.syntax unified
 366              		.thumb
 367              		.thumb_func
 368              		.fpu fpv5-sp-d16
 370              	Ft_Gpu_Hal_TransferString:
 371              	.LFB144:
 328:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t length = strlen(string);
 372              		.loc 1 328 0
 373              		.cfi_startproc
 374              		@ args = 0, pretend = 0, frame = 0
 375              		@ frame_needed = 0, uses_anonymous_args = 0
 376              	.LVL33:
 377 0000 70B5     		push	{r4, r5, r6, lr}
 378              	.LCFI9:
 379              		.cfi_def_cfa_offset 16
 380              		.cfi_offset 4, -16
 381              		.cfi_offset 5, -12
 382              		.cfi_offset 6, -8
 383              		.cfi_offset 14, -4
 384 0002 0646     		mov	r6, r0
 385 0004 0D46     		mov	r5, r1
 329:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while(length --){
 386              		.loc 1 329 0
 387 0006 0846     		mov	r0, r1
 388              	.LVL34:
 389 0008 FFF7FEFF 		bl	strlen
 390              	.LVL35:
 391 000c 80B2     		uxth	r0, r0
 392              	.LVL36:
 330:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,*string);
 393              		.loc 1 330 0
 394 000e 05E0     		b	.L25
 395              	.LVL37:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 15


 396              	.L26:
 331:FT_Eve_Hal/FT_Gpu_Hal.c **** 		string ++;
 397              		.loc 1 331 0
 398 0010 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 399              	.LVL38:
 400 0014 3046     		mov	r0, r6
 401 0016 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 402              	.LVL39:
 330:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,*string);
 403              		.loc 1 330 0
 404 001a 2046     		mov	r0, r4
 405              	.LVL40:
 406              	.L25:
 407 001c 431E     		subs	r3, r0, #1
 408 001e 9CB2     		uxth	r4, r3
 409              	.LVL41:
 410 0020 0028     		cmp	r0, #0
 411 0022 F5D1     		bne	.L26
 335:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 412              		.loc 1 335 0
 413 0024 0021     		movs	r1, #0
 414 0026 3046     		mov	r0, r6
 415 0028 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 416              	.LVL42:
 336:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 417              		.loc 1 336 0
 418 002c 70BD     		pop	{r4, r5, r6, pc}
 419              		.cfi_endproc
 420              	.LFE144:
 422              		.section	.text.Ft_Gpu_Hal_Transfer16,"ax",%progbits
 423              		.align	1
 424              		.global	Ft_Gpu_Hal_Transfer16
 425              		.syntax unified
 426              		.thumb
 427              		.thumb_func
 428              		.fpu fpv5-sp-d16
 430              	Ft_Gpu_Hal_Transfer16:
 431              	.LFB146:
 404:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 405:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 406:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint16_t  Ft_Gpu_Hal_Transfer16(Ft_Gpu_Hal_Context_t *host,ft_uint16_t value)
 407:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 432              		.loc 1 407 0
 433              		.cfi_startproc
 434              		@ args = 0, pretend = 0, frame = 0
 435              		@ frame_needed = 0, uses_anonymous_args = 0
 436              	.LVL43:
 437 0000 38B5     		push	{r3, r4, r5, lr}
 438              	.LCFI10:
 439              		.cfi_def_cfa_offset 16
 440              		.cfi_offset 3, -16
 441              		.cfi_offset 4, -12
 442              		.cfi_offset 5, -8
 443              		.cfi_offset 14, -4
 444 0002 0546     		mov	r5, r0
 445              	.LVL44:
 408:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t retVal = 0;
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 16


 409:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 410:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING){
 446              		.loc 1 410 0
 447 0004 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 448 0006 022B     		cmp	r3, #2
 449 0008 0BD0     		beq	.L32
 411:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,value);//LSB first
 412:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,(value >> 8));
 413:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}else{
 414:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal = Ft_Gpu_Hal_Transfer8(host,0);
 450              		.loc 1 414 0
 451 000a 0021     		movs	r1, #0
 452              	.LVL45:
 453 000c FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 454              	.LVL46:
 455 0010 0446     		mov	r4, r0
 456              	.LVL47:
 415:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal |= (ft_uint16_t)Ft_Gpu_Hal_Transfer8(host,0) << 8;
 457              		.loc 1 415 0
 458 0012 0021     		movs	r1, #0
 459 0014 2846     		mov	r0, r5
 460 0016 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 461              	.LVL48:
 462 001a 44EA0020 		orr	r0, r4, r0, lsl #8
 463 001e 80B2     		uxth	r0, r0
 464              	.LVL49:
 465              	.L30:
 416:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 417:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 418:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return retVal;
 419:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 466              		.loc 1 419 0
 467 0020 38BD     		pop	{r3, r4, r5, pc}
 468              	.LVL50:
 469              	.L32:
 470 0022 0C46     		mov	r4, r1
 411:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,(value >> 8));
 471              		.loc 1 411 0
 472 0024 C9B2     		uxtb	r1, r1
 473              	.LVL51:
 474 0026 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 475              	.LVL52:
 412:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}else{
 476              		.loc 1 412 0
 477 002a 210A     		lsrs	r1, r4, #8
 478 002c 2846     		mov	r0, r5
 479 002e FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 480              	.LVL53:
 408:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 481              		.loc 1 408 0
 482 0032 0020     		movs	r0, #0
 483 0034 F4E7     		b	.L30
 484              		.cfi_endproc
 485              	.LFE146:
 487              		.section	.text.Ft_Gpu_Hal_Transfer32,"ax",%progbits
 488              		.align	1
 489              		.global	Ft_Gpu_Hal_Transfer32
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 17


 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 493              		.fpu fpv5-sp-d16
 495              	Ft_Gpu_Hal_Transfer32:
 496              	.LFB147:
 420:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t  Ft_Gpu_Hal_Transfer32(Ft_Gpu_Hal_Context_t *host,ft_uint32_t value)
 421:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 497              		.loc 1 421 0
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 0
 500              		@ frame_needed = 0, uses_anonymous_args = 0
 501              	.LVL54:
 502 0000 38B5     		push	{r3, r4, r5, lr}
 503              	.LCFI11:
 504              		.cfi_def_cfa_offset 16
 505              		.cfi_offset 3, -16
 506              		.cfi_offset 4, -12
 507              		.cfi_offset 5, -8
 508              		.cfi_offset 14, -4
 509 0002 0446     		mov	r4, r0
 510              	.LVL55:
 422:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t retVal = 0;
 423:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING){
 511              		.loc 1 423 0
 512 0004 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 513 0006 022B     		cmp	r3, #2
 514 0008 0AD0     		beq	.L37
 424:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer16(host,value & 0xFFFF);//LSB first
 425:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer16(host,(value >> 16) & 0xFFFF);
 426:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}else{
 427:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal = Ft_Gpu_Hal_Transfer16(host,0);
 515              		.loc 1 427 0
 516 000a 0021     		movs	r1, #0
 517              	.LVL56:
 518 000c FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 519              	.LVL57:
 520 0010 0546     		mov	r5, r0
 521              	.LVL58:
 428:FT_Eve_Hal/FT_Gpu_Hal.c **** 		retVal |= (ft_uint32_t)Ft_Gpu_Hal_Transfer16(host,0) << 16;
 522              		.loc 1 428 0
 523 0012 0021     		movs	r1, #0
 524 0014 2046     		mov	r0, r4
 525              	.LVL59:
 526 0016 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 527              	.LVL60:
 528 001a 45EA0040 		orr	r0, r5, r0, lsl #16
 529              	.LVL61:
 530              	.L33:
 429:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 430:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return retVal;
 431:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 531              		.loc 1 431 0
 532 001e 38BD     		pop	{r3, r4, r5, pc}
 533              	.LVL62:
 534              	.L37:
 535 0020 0D46     		mov	r5, r1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 18


 424:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer16(host,(value >> 16) & 0xFFFF);
 536              		.loc 1 424 0
 537 0022 89B2     		uxth	r1, r1
 538              	.LVL63:
 539 0024 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 540              	.LVL64:
 425:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}else{
 541              		.loc 1 425 0
 542 0028 290C     		lsrs	r1, r5, #16
 543 002a 2046     		mov	r0, r4
 544 002c FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 545              	.LVL65:
 422:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (host->status == FT_GPU_HAL_WRITING){
 546              		.loc 1 422 0
 547 0030 0020     		movs	r0, #0
 548 0032 F4E7     		b	.L33
 549              		.cfi_endproc
 550              	.LFE147:
 552              		.section	.text.Ft_Gpu_Hal_EndTransfer,"ax",%progbits
 553              		.align	1
 554              		.global	Ft_Gpu_Hal_EndTransfer
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
 558              		.fpu fpv5-sp-d16
 560              	Ft_Gpu_Hal_EndTransfer:
 561              	.LFB148:
 432:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 433:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t   Ft_Gpu_Hal_EndTransfer(Ft_Gpu_Hal_Context_t *host)
 434:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 562              		.loc 1 434 0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              	.LVL66:
 567 0000 10B5     		push	{r4, lr}
 568              	.LCFI12:
 569              		.cfi_def_cfa_offset 8
 570              		.cfi_offset 4, -8
 571              		.cfi_offset 14, -4
 572 0002 0446     		mov	r4, r0
 435:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 436:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_SET);
 573              		.loc 1 436 0
 574 0004 0122     		movs	r2, #1
 575 0006 0221     		movs	r1, #2
 576 0008 0248     		ldr	r0, .L40
 577              	.LVL67:
 578 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 579              	.LVL68:
 437:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 438:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 439:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_close(SPIM, host->hal_config.spi_cs_pin_no);
 440:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 441:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI  
 442:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 443:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 19


 444:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//just disbale the CS - send 0 bytes with CS disable
 445:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_ToggleCS((FT_HANDLE)host->hal_handle,FALSE);
 446:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 447:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 448:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT2,1);
 449:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 450:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 451:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 452:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 453:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
 454:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 455:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 456:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 457:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_GpuEmu_SPII2C_csHigh();
 458:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 459:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->status = FT_GPU_HAL_OPENED;
 580              		.loc 1 459 0
 581 000e 0023     		movs	r3, #0
 582 0010 2373     		strb	r3, [r4, #12]
 460:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 583              		.loc 1 460 0
 584 0012 10BD     		pop	{r4, pc}
 585              	.LVL69:
 586              	.L41:
 587              		.align	2
 588              	.L40:
 589 0014 00040240 		.word	1073873920
 590              		.cfi_endproc
 591              	.LFE148:
 593              		.section	.text.Ft_Gpu_Hal_Rd8,"ax",%progbits
 594              		.align	1
 595              		.global	Ft_Gpu_Hal_Rd8
 596              		.syntax unified
 597              		.thumb
 598              		.thumb_func
 599              		.fpu fpv5-sp-d16
 601              	Ft_Gpu_Hal_Rd8:
 602              	.LFB149:
 461:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 462:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 463:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint8_t  Ft_Gpu_Hal_Rd8(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr)
 464:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 603              		.loc 1 464 0
 604              		.cfi_startproc
 605              		@ args = 0, pretend = 0, frame = 0
 606              		@ frame_needed = 0, uses_anonymous_args = 0
 607              	.LVL70:
 608 0000 10B5     		push	{r4, lr}
 609              	.LCFI13:
 610              		.cfi_def_cfa_offset 8
 611              		.cfi_offset 4, -8
 612              		.cfi_offset 14, -4
 613 0002 0446     		mov	r4, r0
 465:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 466:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t value;
 467:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_READ,addr);
 614              		.loc 1 467 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 20


 615 0004 0A46     		mov	r2, r1
 616 0006 0021     		movs	r1, #0
 617              	.LVL71:
 618 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 619              	.LVL72:
 468:FT_Eve_Hal/FT_Gpu_Hal.c **** 	value = Ft_Gpu_Hal_Transfer8(host,0);
 620              		.loc 1 468 0
 621 000c 0021     		movs	r1, #0
 622 000e 2046     		mov	r0, r4
 623 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 624              	.LVL73:
 469:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 470:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 625              		.loc 1 470 0
 626 0014 10BD     		pop	{r4, pc}
 627              		.cfi_endproc
 628              	.LFE149:
 630              		.section	.text.Ft_Gpu_Hal_Rd16,"ax",%progbits
 631              		.align	1
 632              		.global	Ft_Gpu_Hal_Rd16
 633              		.syntax unified
 634              		.thumb
 635              		.thumb_func
 636              		.fpu fpv5-sp-d16
 638              	Ft_Gpu_Hal_Rd16:
 639              	.LFB150:
 471:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint16_t Ft_Gpu_Hal_Rd16(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr)
 472:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 640              		.loc 1 472 0
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 0
 643              		@ frame_needed = 0, uses_anonymous_args = 0
 644              	.LVL74:
 645 0000 38B5     		push	{r3, r4, r5, lr}
 646              	.LCFI14:
 647              		.cfi_def_cfa_offset 16
 648              		.cfi_offset 3, -16
 649              		.cfi_offset 4, -12
 650              		.cfi_offset 5, -8
 651              		.cfi_offset 14, -4
 652 0002 0446     		mov	r4, r0
 473:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t value;
 474:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_READ,addr);
 653              		.loc 1 474 0
 654 0004 0A46     		mov	r2, r1
 655 0006 0021     		movs	r1, #0
 656              	.LVL75:
 657 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 658              	.LVL76:
 475:FT_Eve_Hal/FT_Gpu_Hal.c **** 	value = Ft_Gpu_Hal_Transfer16(host,0);
 659              		.loc 1 475 0
 660 000c 0021     		movs	r1, #0
 661 000e 2046     		mov	r0, r4
 662 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 663              	.LVL77:
 664 0014 0546     		mov	r5, r0
 665              	.LVL78:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 21


 476:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 666              		.loc 1 476 0
 667 0016 2046     		mov	r0, r4
 668 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 669              	.LVL79:
 477:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 478:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 670              		.loc 1 478 0
 671 001c 2846     		mov	r0, r5
 672 001e 38BD     		pop	{r3, r4, r5, pc}
 673              		.cfi_endproc
 674              	.LFE150:
 676              		.section	.text.Ft_Gpu_Hal_Rd32,"ax",%progbits
 677              		.align	1
 678              		.global	Ft_Gpu_Hal_Rd32
 679              		.syntax unified
 680              		.thumb
 681              		.thumb_func
 682              		.fpu fpv5-sp-d16
 684              	Ft_Gpu_Hal_Rd32:
 685              	.LFB151:
 479:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Gpu_Hal_Rd32(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr)
 480:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 686              		.loc 1 480 0
 687              		.cfi_startproc
 688              		@ args = 0, pretend = 0, frame = 0
 689              		@ frame_needed = 0, uses_anonymous_args = 0
 690              	.LVL80:
 691 0000 38B5     		push	{r3, r4, r5, lr}
 692              	.LCFI15:
 693              		.cfi_def_cfa_offset 16
 694              		.cfi_offset 3, -16
 695              		.cfi_offset 4, -12
 696              		.cfi_offset 5, -8
 697              		.cfi_offset 14, -4
 698 0002 0446     		mov	r4, r0
 481:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t value;
 482:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_READ,addr);
 699              		.loc 1 482 0
 700 0004 0A46     		mov	r2, r1
 701 0006 0021     		movs	r1, #0
 702              	.LVL81:
 703 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 704              	.LVL82:
 483:FT_Eve_Hal/FT_Gpu_Hal.c **** 	value = Ft_Gpu_Hal_Transfer32(host,0);
 705              		.loc 1 483 0
 706 000c 0021     		movs	r1, #0
 707 000e 2046     		mov	r0, r4
 708 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer32
 709              	.LVL83:
 710 0014 0546     		mov	r5, r0
 711              	.LVL84:
 484:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 712              		.loc 1 484 0
 713 0016 2046     		mov	r0, r4
 714              	.LVL85:
 715 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 22


 716              	.LVL86:
 485:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return value;
 486:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 717              		.loc 1 486 0
 718 001c 2846     		mov	r0, r5
 719 001e 38BD     		pop	{r3, r4, r5, pc}
 720              		.cfi_endproc
 721              	.LFE151:
 723              		.section	.text.Ft_Gpu_Hal_Wr8,"ax",%progbits
 724              		.align	1
 725              		.global	Ft_Gpu_Hal_Wr8
 726              		.syntax unified
 727              		.thumb
 728              		.thumb_func
 729              		.fpu fpv5-sp-d16
 731              	Ft_Gpu_Hal_Wr8:
 732              	.LFB152:
 487:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 488:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Wr8(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr, ft_uint8_t v)
 489:FT_Eve_Hal/FT_Gpu_Hal.c **** {	
 733              		.loc 1 489 0
 734              		.cfi_startproc
 735              		@ args = 0, pretend = 0, frame = 0
 736              		@ frame_needed = 0, uses_anonymous_args = 0
 737              	.LVL87:
 738 0000 38B5     		push	{r3, r4, r5, lr}
 739              	.LCFI16:
 740              		.cfi_def_cfa_offset 16
 741              		.cfi_offset 3, -16
 742              		.cfi_offset 4, -12
 743              		.cfi_offset 5, -8
 744              		.cfi_offset 14, -4
 745 0002 0446     		mov	r4, r0
 746 0004 1546     		mov	r5, r2
 490:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_WRITE,addr);
 747              		.loc 1 490 0
 748 0006 0A46     		mov	r2, r1
 749              	.LVL88:
 750 0008 0121     		movs	r1, #1
 751              	.LVL89:
 752 000a FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 753              	.LVL90:
 491:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer8(host,v);
 754              		.loc 1 491 0
 755 000e 2946     		mov	r1, r5
 756 0010 2046     		mov	r0, r4
 757 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 758              	.LVL91:
 492:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 759              		.loc 1 492 0
 760 0016 2046     		mov	r0, r4
 761 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 762              	.LVL92:
 493:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 763              		.loc 1 493 0
 764 001c 38BD     		pop	{r3, r4, r5, pc}
 765              		.cfi_endproc
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 23


 766              	.LFE152:
 768              		.section	.text.Ft_Gpu_Hal_Wr16,"ax",%progbits
 769              		.align	1
 770              		.global	Ft_Gpu_Hal_Wr16
 771              		.syntax unified
 772              		.thumb
 773              		.thumb_func
 774              		.fpu fpv5-sp-d16
 776              	Ft_Gpu_Hal_Wr16:
 777              	.LFB153:
 494:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Wr16(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr, ft_uint16_t v)
 495:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 778              		.loc 1 495 0
 779              		.cfi_startproc
 780              		@ args = 0, pretend = 0, frame = 0
 781              		@ frame_needed = 0, uses_anonymous_args = 0
 782              	.LVL93:
 783 0000 38B5     		push	{r3, r4, r5, lr}
 784              	.LCFI17:
 785              		.cfi_def_cfa_offset 16
 786              		.cfi_offset 3, -16
 787              		.cfi_offset 4, -12
 788              		.cfi_offset 5, -8
 789              		.cfi_offset 14, -4
 790 0002 0446     		mov	r4, r0
 791 0004 1546     		mov	r5, r2
 496:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_WRITE,addr);
 792              		.loc 1 496 0
 793 0006 0A46     		mov	r2, r1
 794              	.LVL94:
 795 0008 0121     		movs	r1, #1
 796              	.LVL95:
 797 000a FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 798              	.LVL96:
 497:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer16(host,v);
 799              		.loc 1 497 0
 800 000e 2946     		mov	r1, r5
 801 0010 2046     		mov	r0, r4
 802 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer16
 803              	.LVL97:
 498:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 804              		.loc 1 498 0
 805 0016 2046     		mov	r0, r4
 806 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 807              	.LVL98:
 499:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 808              		.loc 1 499 0
 809 001c 38BD     		pop	{r3, r4, r5, pc}
 810              		.cfi_endproc
 811              	.LFE153:
 813              		.section	.text.Ft_Gpu_Hal_Wr32,"ax",%progbits
 814              		.align	1
 815              		.global	Ft_Gpu_Hal_Wr32
 816              		.syntax unified
 817              		.thumb
 818              		.thumb_func
 819              		.fpu fpv5-sp-d16
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 24


 821              	Ft_Gpu_Hal_Wr32:
 822              	.LFB154:
 500:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Wr32(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr, ft_uint32_t v)
 501:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 823              		.loc 1 501 0
 824              		.cfi_startproc
 825              		@ args = 0, pretend = 0, frame = 0
 826              		@ frame_needed = 0, uses_anonymous_args = 0
 827              	.LVL99:
 828 0000 38B5     		push	{r3, r4, r5, lr}
 829              	.LCFI18:
 830              		.cfi_def_cfa_offset 16
 831              		.cfi_offset 3, -16
 832              		.cfi_offset 4, -12
 833              		.cfi_offset 5, -8
 834              		.cfi_offset 14, -4
 835 0002 0446     		mov	r4, r0
 836 0004 1546     		mov	r5, r2
 502:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_WRITE,addr);
 837              		.loc 1 502 0
 838 0006 0A46     		mov	r2, r1
 839              	.LVL100:
 840 0008 0121     		movs	r1, #1
 841              	.LVL101:
 842 000a FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 843              	.LVL102:
 503:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Transfer32(host,v);
 844              		.loc 1 503 0
 845 000e 2946     		mov	r1, r5
 846 0010 2046     		mov	r0, r4
 847 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer32
 848              	.LVL103:
 504:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 849              		.loc 1 504 0
 850 0016 2046     		mov	r0, r4
 851 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 852              	.LVL104:
 505:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 853              		.loc 1 505 0
 854 001c 38BD     		pop	{r3, r4, r5, pc}
 855              		.cfi_endproc
 856              	.LFE154:
 858              		.section	.text.Ft_Gpu_HostCommand,"ax",%progbits
 859              		.align	1
 860              		.global	Ft_Gpu_HostCommand
 861              		.syntax unified
 862              		.thumb
 863              		.thumb_func
 864              		.fpu fpv5-sp-d16
 866              	Ft_Gpu_HostCommand:
 867              	.LFB155:
 506:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 507:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_HostCommand(Ft_Gpu_Hal_Context_t *host,ft_uint8_t cmd)
 508:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 868              		.loc 1 508 0
 869              		.cfi_startproc
 870              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 25


 871              		@ frame_needed = 0, uses_anonymous_args = 0
 872              	.LVL105:
 873 0000 10B5     		push	{r4, lr}
 874              	.LCFI19:
 875              		.cfi_def_cfa_offset 8
 876              		.cfi_offset 4, -8
 877              		.cfi_offset 14, -4
 878 0002 82B0     		sub	sp, sp, #8
 879              	.LCFI20:
 880              		.cfi_def_cfa_offset 16
 509:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 510:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 511:FT_Eve_Hal/FT_Gpu_Hal.c **** 	unsigned char cTempAddr[3];														// FT800 Memory Address
 512:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 513:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[2] = (char) cmd;	// Compose the command and address to send
 881              		.loc 1 513 0
 882 0004 8DF80610 		strb	r1, [sp, #6]
 514:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[1] = 0;								// middle byte
 883              		.loc 1 514 0
 884 0008 0022     		movs	r2, #0
 885 000a 8DF80520 		strb	r2, [sp, #5]
 515:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[0] = 0;										// low byte
 886              		.loc 1 515 0
 887 000e 8DF80420 		strb	r2, [sp, #4]
 516:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 517:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);	// Set chip select low
 888              		.loc 1 517 0
 889 0012 0221     		movs	r1, #2
 890              	.LVL106:
 891 0014 0A48     		ldr	r0, .L58
 892              	.LVL107:
 893 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 894              	.LVL108:
 895              	.LBB6:
 518:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 519:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for (int i = 2; i >= 0; i--)
 896              		.loc 1 519 0
 897 001a 0224     		movs	r4, #2
 898 001c 07E0     		b	.L55
 899              	.LVL109:
 900              	.L56:
 520:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 521:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, 0); 			// Send Memory Write plus high address byte
 901              		.loc 1 521 0 discriminator 3
 902 001e 0023     		movs	r3, #0
 903 0020 0122     		movs	r2, #1
 904 0022 01A9     		add	r1, sp, #4
 905 0024 2144     		add	r1, r1, r4
 906 0026 0748     		ldr	r0, .L58+4
 907 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 908              	.LVL110:
 519:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 909              		.loc 1 519 0 discriminator 3
 910 002c 013C     		subs	r4, r4, #1
 911              	.LVL111:
 912              	.L55:
 519:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 26


 913              		.loc 1 519 0 is_stmt 0 discriminator 1
 914 002e 002C     		cmp	r4, #0
 915 0030 F5DA     		bge	.L56
 916              	.LBE6:
 522:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 523:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 524:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_SET);		// Set chip select high
 917              		.loc 1 524 0 is_stmt 1
 918 0032 0122     		movs	r2, #1
 919 0034 0221     		movs	r1, #2
 920 0036 0248     		ldr	r0, .L58
 921 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 922              	.LVL112:
 525:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 526:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 527:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t hcmd[4] = {0};
 528:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[0] = cmd;
 529:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[1] = 0;
 530:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[2] = 0;
 531:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[3] = 0;
 532:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 533:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_open(SPIM,host->hal_config.spi_cs_pin_no);
 534:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_writen(SPIM,hcmd,3);
 535:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_close(SPIM,host->hal_config.spi_cs_pin_no);
 536:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 537:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 538:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 539:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t Transfer_Array[3];
 540:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered;
 541:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t SizeTransfered16;
 542:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 543:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[0] = cmd;
 544:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[1] = 0;
 545:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[2] = 0;
 546:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 547:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_Write(host->hal_handle,Transfer_Array,sizeof(Transfer_Array),&SizeTransfered,SPI_TRANSFER_OPTI
 548:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 549:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 550:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 551:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 552:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&S
 553:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SizeTransfered = SizeTransfered16;
 554:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 555:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 556:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 557:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 558:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 559:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 560:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(cmd);
 561:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(0);
 562:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(0);
 563:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
 564:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 565:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 566:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Not implemented in FT800EMU
 567:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 568:FT_Eve_Hal/FT_Gpu_Hal.c **** }
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 27


 923              		.loc 1 568 0
 924 003c 02B0     		add	sp, sp, #8
 925              	.LCFI21:
 926              		.cfi_def_cfa_offset 8
 927              		@ sp needed
 928 003e 10BD     		pop	{r4, pc}
 929              	.LVL113:
 930              	.L59:
 931              		.align	2
 932              	.L58:
 933 0040 00040240 		.word	1073873920
 934 0044 00000000 		.word	hspi1
 935              		.cfi_endproc
 936              	.LFE155:
 938              		.section	.text.Ft_Gpu_ClockSelect,"ax",%progbits
 939              		.align	1
 940              		.global	Ft_Gpu_ClockSelect
 941              		.syntax unified
 942              		.thumb
 943              		.thumb_func
 944              		.fpu fpv5-sp-d16
 946              	Ft_Gpu_ClockSelect:
 947              	.LFB156:
 569:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 570:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_ClockSelect(Ft_Gpu_Hal_Context_t *host,FT_GPU_PLL_SOURCE_T pllsource)
 571:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 948              		.loc 1 571 0
 949              		.cfi_startproc
 950              		@ args = 0, pretend = 0, frame = 0
 951              		@ frame_needed = 0, uses_anonymous_args = 0
 952              	.LVL114:
 953 0000 08B5     		push	{r3, lr}
 954              	.LCFI22:
 955              		.cfi_def_cfa_offset 8
 956              		.cfi_offset 3, -8
 957              		.cfi_offset 14, -4
 572:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host,pllsource);
 958              		.loc 1 572 0
 959 0002 FFF7FEFF 		bl	Ft_Gpu_HostCommand
 960              	.LVL115:
 573:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 961              		.loc 1 573 0
 962 0006 08BD     		pop	{r3, pc}
 963              		.cfi_endproc
 964              	.LFE156:
 966              		.section	.text.Ft_Gpu_PLL_FreqSelect,"ax",%progbits
 967              		.align	1
 968              		.global	Ft_Gpu_PLL_FreqSelect
 969              		.syntax unified
 970              		.thumb
 971              		.thumb_func
 972              		.fpu fpv5-sp-d16
 974              	Ft_Gpu_PLL_FreqSelect:
 975              	.LFB157:
 574:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_PLL_FreqSelect(Ft_Gpu_Hal_Context_t *host,FT_GPU_PLL_FREQ_T freq)
 575:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 976              		.loc 1 575 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 28


 977              		.cfi_startproc
 978              		@ args = 0, pretend = 0, frame = 0
 979              		@ frame_needed = 0, uses_anonymous_args = 0
 980              	.LVL116:
 981 0000 08B5     		push	{r3, lr}
 982              	.LCFI23:
 983              		.cfi_def_cfa_offset 8
 984              		.cfi_offset 3, -8
 985              		.cfi_offset 14, -4
 576:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host,freq);
 986              		.loc 1 576 0
 987 0002 FFF7FEFF 		bl	Ft_Gpu_HostCommand
 988              	.LVL117:
 577:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 989              		.loc 1 577 0
 990 0006 08BD     		pop	{r3, pc}
 991              		.cfi_endproc
 992              	.LFE157:
 994              		.section	.text.Ft_Gpu_PowerModeSwitch,"ax",%progbits
 995              		.align	1
 996              		.global	Ft_Gpu_PowerModeSwitch
 997              		.syntax unified
 998              		.thumb
 999              		.thumb_func
 1000              		.fpu fpv5-sp-d16
 1002              	Ft_Gpu_PowerModeSwitch:
 1003              	.LFB158:
 578:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_PowerModeSwitch(Ft_Gpu_Hal_Context_t *host,FT_GPU_POWER_MODE_T pwrmode)
 579:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1004              		.loc 1 579 0
 1005              		.cfi_startproc
 1006              		@ args = 0, pretend = 0, frame = 0
 1007              		@ frame_needed = 0, uses_anonymous_args = 0
 1008              	.LVL118:
 1009 0000 08B5     		push	{r3, lr}
 1010              	.LCFI24:
 1011              		.cfi_def_cfa_offset 8
 1012              		.cfi_offset 3, -8
 1013              		.cfi_offset 14, -4
 580:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host,pwrmode);
 1014              		.loc 1 580 0
 1015 0002 FFF7FEFF 		bl	Ft_Gpu_HostCommand
 1016              	.LVL119:
 581:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1017              		.loc 1 581 0
 1018 0006 08BD     		pop	{r3, pc}
 1019              		.cfi_endproc
 1020              	.LFE158:
 1022              		.section	.text.Ft_Gpu_CoreReset,"ax",%progbits
 1023              		.align	1
 1024              		.global	Ft_Gpu_CoreReset
 1025              		.syntax unified
 1026              		.thumb
 1027              		.thumb_func
 1028              		.fpu fpv5-sp-d16
 1030              	Ft_Gpu_CoreReset:
 1031              	.LFB159:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 29


 582:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_CoreReset(Ft_Gpu_Hal_Context_t *host)
 583:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1032              		.loc 1 583 0
 1033              		.cfi_startproc
 1034              		@ args = 0, pretend = 0, frame = 0
 1035              		@ frame_needed = 0, uses_anonymous_args = 0
 1036              	.LVL120:
 1037 0000 08B5     		push	{r3, lr}
 1038              	.LCFI25:
 1039              		.cfi_def_cfa_offset 8
 1040              		.cfi_offset 3, -8
 1041              		.cfi_offset 14, -4
 584:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand(host,FT_GPU_CORE_RESET);
 1042              		.loc 1 584 0
 1043 0002 6821     		movs	r1, #104
 1044 0004 FFF7FEFF 		bl	Ft_Gpu_HostCommand
 1045              	.LVL121:
 585:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1046              		.loc 1 585 0
 1047 0008 08BD     		pop	{r3, pc}
 1048              		.cfi_endproc
 1049              	.LFE159:
 1051              		.section	.text.Ft_Gpu_HostCommand_Ext3,"ax",%progbits
 1052              		.align	1
 1053              		.global	Ft_Gpu_HostCommand_Ext3
 1054              		.syntax unified
 1055              		.thumb
 1056              		.thumb_func
 1057              		.fpu fpv5-sp-d16
 1059              	Ft_Gpu_HostCommand_Ext3:
 1060              	.LFB165:
 586:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 587:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 588:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT_81X_ENABLE
 589:FT_Eve_Hal/FT_Gpu_Hal.c **** //This API can only be called when PLL is stopped(SLEEP mode).  For compatibility, set frequency to
 590:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_81X_SelectSysCLK(Ft_Gpu_Hal_Context_t *host, FT_GPU_81X_PLL_FREQ_T freq){
 591:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(FT_GPU_SYSCLK_72M == freq)
 592:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x40 << 8) | (0x06 << 8));
 593:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_60M == freq)
 594:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x40 << 8) | (0x05 << 8));
 595:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_48M == freq)
 596:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x40 << 8) | (0x04 << 8));
 597:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_36M == freq)
 598:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x03 << 8));
 599:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_24M == freq)
 600:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x02 << 8));
 601:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_DEFAULT == freq)//default clock
 602:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, 0x61);
 603:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 604:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 605:FT_Eve_Hal/FT_Gpu_Hal.c **** //Power down or up ROMs and ADCs.  Specified one or more elements in the FT_GPU_81X_ROM_AND_ADC_T t
 606:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_GPU_81X_PowerOffComponents(Ft_Gpu_Hal_Context_t *host, ft_uint8_t val){
 607:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x49 | (val<<8));
 608:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 609:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 610:FT_Eve_Hal/FT_Gpu_Hal.c **** //this API sets the current strength of supported GPIO/IO group(s)
 611:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_GPU_81X_PadDriveStrength(Ft_Gpu_Hal_Context_t *host, FT_GPU_81X_GPIO_DRIVE_STRENGTH_T 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 30


 612:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x70 | (group << 8) | (strength << 8));
 613:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 614:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 615:FT_Eve_Hal/FT_Gpu_Hal.c **** //this API will hold the system reset active, Ft_Gpu_81X_ResetRemoval() must be called to release t
 616:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_81X_ResetActive(Ft_Gpu_Hal_Context_t *host){
 617:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, FT_GPU_81X_RESET_ACTIVE); 
 618:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 619:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 620:FT_Eve_Hal/FT_Gpu_Hal.c **** //This API will release the system reset, and the system will exit reset and behave as after POR, s
 621:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_81X_ResetRemoval(Ft_Gpu_Hal_Context_t *host){
 622:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, FT_GPU_81X_RESET_REMOVAL); 
 623:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 624:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 625:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 626:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 627:FT_Eve_Hal/FT_Gpu_Hal.c **** //This API sends a 3byte command to the host
 628:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_HostCommand_Ext3(Ft_Gpu_Hal_Context_t *host,ft_uint32_t cmd)
 629:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1061              		.loc 1 629 0
 1062              		.cfi_startproc
 1063              		@ args = 0, pretend = 0, frame = 8
 1064              		@ frame_needed = 0, uses_anonymous_args = 0
 1065              	.LVL122:
 1066 0000 10B5     		push	{r4, lr}
 1067              	.LCFI26:
 1068              		.cfi_def_cfa_offset 8
 1069              		.cfi_offset 4, -8
 1070              		.cfi_offset 14, -4
 1071 0002 82B0     		sub	sp, sp, #8
 1072              	.LCFI27:
 1073              		.cfi_def_cfa_offset 16
 630:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 631:FT_Eve_Hal/FT_Gpu_Hal.c **** 	unsigned char cTempAddr[3];														// FT800 Memory Address
 632:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 633:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[2] = (char) (cmd | 0xff);	// Compose the command and address to send
 1074              		.loc 1 633 0
 1075 0004 FF23     		movs	r3, #255
 1076 0006 8DF80630 		strb	r3, [sp, #6]
 634:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[1] = (char) ((cmd >> 8) & 0xff);								// middle byte
 1077              		.loc 1 634 0
 1078 000a C1F30723 		ubfx	r3, r1, #8, #8
 1079 000e 8DF80530 		strb	r3, [sp, #5]
 635:FT_Eve_Hal/FT_Gpu_Hal.c **** 	cTempAddr[0] = (char) ((cmd >> 16) & 0xff);										// low byte
 1080              		.loc 1 635 0
 1081 0012 C1F30741 		ubfx	r1, r1, #16, #8
 1082              	.LVL123:
 1083 0016 8DF80410 		strb	r1, [sp, #4]
 636:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 637:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_RESET);	// Set chip select low
 1084              		.loc 1 637 0
 1085 001a 0022     		movs	r2, #0
 1086 001c 0221     		movs	r1, #2
 1087 001e 0B48     		ldr	r0, .L72
 1088              	.LVL124:
 1089 0020 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1090              	.LVL125:
 1091              	.LBB7:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 31


 638:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 639:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for (int i = 2; i >= 0; i--)
 1092              		.loc 1 639 0
 1093 0024 0224     		movs	r4, #2
 1094 0026 07E0     		b	.L69
 1095              	.LVL126:
 1096              	.L70:
 640:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 641:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_SPI_Transmit(&hspi1, &cTempAddr[i], 1, 0); 			// Send Memory Write plus high address byte
 1097              		.loc 1 641 0 discriminator 3
 1098 0028 0023     		movs	r3, #0
 1099 002a 0122     		movs	r2, #1
 1100 002c 01A9     		add	r1, sp, #4
 1101 002e 2144     		add	r1, r1, r4
 1102 0030 0748     		ldr	r0, .L72+4
 1103 0032 FFF7FEFF 		bl	HAL_SPI_Transmit
 1104              	.LVL127:
 639:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 1105              		.loc 1 639 0 discriminator 3
 1106 0036 013C     		subs	r4, r4, #1
 1107              	.LVL128:
 1108              	.L69:
 639:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 1109              		.loc 1 639 0 is_stmt 0 discriminator 1
 1110 0038 002C     		cmp	r4, #0
 1111 003a F5DA     		bge	.L70
 1112              	.LBE7:
 642:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 643:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 644:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_GPIO_WritePin(GPIOB, FT800_CS_N, GPIO_PIN_SET);		// Set chip select high
 1113              		.loc 1 644 0 is_stmt 1
 1114 003c 0122     		movs	r2, #1
 1115 003e 0221     		movs	r1, #2
 1116 0040 0248     		ldr	r0, .L72
 1117 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1118              	.LVL129:
 645:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 646:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 647:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t hcmd[4] = {0};
 648:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[0] = cmd & 0xff;
 649:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[1] = (cmd>>8) & 0xff;
 650:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[2] = (cmd>>16) & 0xff;
 651:FT_Eve_Hal/FT_Gpu_Hal.c **** 	hcmd[3] = 0;
 652:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_open(SPIM,host->hal_config.spi_cs_pin_no);
 653:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_writen(SPIM,hcmd,3);
 654:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_close(SPIM,host->hal_config.spi_cs_pin_no);
 655:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 656:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 657:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 658:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t Transfer_Array[3];
 659:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered;
 660:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t SizeTransfered16;
 661:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 662:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[0] = cmd;
 663:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[1] = (cmd>>8) & 0xff;
 664:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Transfer_Array[2] = (cmd>>16) & 0xff;
 665:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE	
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 32


 666:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI_Write(host->hal_handle,Transfer_Array,sizeof(Transfer_Array),&SizeTransfered,SPI_TRANSFER_OPTI
 667:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 668:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 669:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 670:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 671:FT_Eve_Hal/FT_Gpu_Hal.c **** 	FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, Transfer_Array,sizeof(Transfer_Array),&S
 672:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SizeTransfered = SizeTransfered16;
 673:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 674:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 675:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 676:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM_SPI
 677:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, LOW);
 678:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer(cmd);
 679:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer((cmd>>8) & 0xff);
 680:FT_Eve_Hal/FT_Gpu_Hal.c **** 	SPI.transfer((cmd>>16) & 0xff);
 681:FT_Eve_Hal/FT_Gpu_Hal.c **** 	digitalWrite(host->hal_config.spi_cs_pin_no, HIGH);
 682:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 683:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_FT800EMU
 684:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Not implemented in FT800EMU
 685:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 686:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1119              		.loc 1 686 0
 1120 0046 02B0     		add	sp, sp, #8
 1121              	.LCFI28:
 1122              		.cfi_def_cfa_offset 8
 1123              		@ sp needed
 1124 0048 10BD     		pop	{r4, pc}
 1125              	.LVL130:
 1126              	.L73:
 1127 004a 00BF     		.align	2
 1128              	.L72:
 1129 004c 00040240 		.word	1073873920
 1130 0050 00000000 		.word	hspi1
 1131              		.cfi_endproc
 1132              	.LFE165:
 1134              		.section	.text.Ft_Gpu_81X_SelectSysCLK,"ax",%progbits
 1135              		.align	1
 1136              		.global	Ft_Gpu_81X_SelectSysCLK
 1137              		.syntax unified
 1138              		.thumb
 1139              		.thumb_func
 1140              		.fpu fpv5-sp-d16
 1142              	Ft_Gpu_81X_SelectSysCLK:
 1143              	.LFB160:
 590:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(FT_GPU_SYSCLK_72M == freq)
 1144              		.loc 1 590 0
 1145              		.cfi_startproc
 1146              		@ args = 0, pretend = 0, frame = 0
 1147              		@ frame_needed = 0, uses_anonymous_args = 0
 1148              	.LVL131:
 1149 0000 08B5     		push	{r3, lr}
 1150              	.LCFI29:
 1151              		.cfi_def_cfa_offset 8
 1152              		.cfi_offset 3, -8
 1153              		.cfi_offset 14, -4
 591:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x40 << 8) | (0x06 << 8));
 1154              		.loc 1 591 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 33


 1155 0002 0629     		cmp	r1, #6
 1156 0004 09D0     		beq	.L82
 593:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x40 << 8) | (0x05 << 8));
 1157              		.loc 1 593 0
 1158 0006 0529     		cmp	r1, #5
 1159 0008 0CD0     		beq	.L83
 595:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x40 << 8) | (0x04 << 8));
 1160              		.loc 1 595 0
 1161 000a 0429     		cmp	r1, #4
 1162 000c 0FD0     		beq	.L84
 597:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x03 << 8));
 1163              		.loc 1 597 0
 1164 000e 0329     		cmp	r1, #3
 1165 0010 12D0     		beq	.L85
 599:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x61 | (0x02 << 8));
 1166              		.loc 1 599 0
 1167 0012 0229     		cmp	r1, #2
 1168 0014 15D0     		beq	.L86
 601:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_HostCommand_Ext3(host, 0x61);
 1169              		.loc 1 601 0
 1170 0016 C9B1     		cbz	r1, .L87
 1171              	.LVL132:
 1172              	.L74:
 603:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1173              		.loc 1 603 0
 1174 0018 08BD     		pop	{r3, pc}
 1175              	.LVL133:
 1176              	.L82:
 592:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_60M == freq)
 1177              		.loc 1 592 0
 1178 001a 44F26161 		movw	r1, #18017
 1179              	.LVL134:
 1180 001e FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1181              	.LVL135:
 1182 0022 F9E7     		b	.L74
 1183              	.LVL136:
 1184              	.L83:
 594:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_48M == freq)
 1185              		.loc 1 594 0
 1186 0024 44F26151 		movw	r1, #17761
 1187              	.LVL137:
 1188 0028 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1189              	.LVL138:
 1190 002c F4E7     		b	.L74
 1191              	.LVL139:
 1192              	.L84:
 596:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_36M == freq)
 1193              		.loc 1 596 0
 1194 002e 44F26141 		movw	r1, #17505
 1195              	.LVL140:
 1196 0032 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1197              	.LVL141:
 1198 0036 EFE7     		b	.L74
 1199              	.LVL142:
 1200              	.L85:
 598:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_24M == freq)
 1201              		.loc 1 598 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 34


 1202 0038 40F26131 		movw	r1, #865
 1203              	.LVL143:
 1204 003c FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1205              	.LVL144:
 1206 0040 EAE7     		b	.L74
 1207              	.LVL145:
 1208              	.L86:
 600:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else if(FT_GPU_SYSCLK_DEFAULT == freq)//default clock
 1209              		.loc 1 600 0
 1210 0042 40F26121 		movw	r1, #609
 1211              	.LVL146:
 1212 0046 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1213              	.LVL147:
 1214 004a E5E7     		b	.L74
 1215              	.LVL148:
 1216              	.L87:
 602:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1217              		.loc 1 602 0
 1218 004c 6121     		movs	r1, #97
 1219              	.LVL149:
 1220 004e FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1221              	.LVL150:
 603:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1222              		.loc 1 603 0
 1223 0052 E1E7     		b	.L74
 1224              		.cfi_endproc
 1225              	.LFE160:
 1227              		.section	.text.Ft_GPU_81X_PowerOffComponents,"ax",%progbits
 1228              		.align	1
 1229              		.global	Ft_GPU_81X_PowerOffComponents
 1230              		.syntax unified
 1231              		.thumb
 1232              		.thumb_func
 1233              		.fpu fpv5-sp-d16
 1235              	Ft_GPU_81X_PowerOffComponents:
 1236              	.LFB161:
 606:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x49 | (val<<8));
 1237              		.loc 1 606 0
 1238              		.cfi_startproc
 1239              		@ args = 0, pretend = 0, frame = 0
 1240              		@ frame_needed = 0, uses_anonymous_args = 0
 1241              	.LVL151:
 1242 0000 08B5     		push	{r3, lr}
 1243              	.LCFI30:
 1244              		.cfi_def_cfa_offset 8
 1245              		.cfi_offset 3, -8
 1246              		.cfi_offset 14, -4
 607:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1247              		.loc 1 607 0
 1248 0002 0902     		lsls	r1, r1, #8
 1249              	.LVL152:
 1250 0004 41F04901 		orr	r1, r1, #73
 1251 0008 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1252              	.LVL153:
 608:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1253              		.loc 1 608 0
 1254 000c 08BD     		pop	{r3, pc}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 35


 1255              		.cfi_endproc
 1256              	.LFE161:
 1258              		.section	.text.Ft_GPU_81X_PadDriveStrength,"ax",%progbits
 1259              		.align	1
 1260              		.global	Ft_GPU_81X_PadDriveStrength
 1261              		.syntax unified
 1262              		.thumb
 1263              		.thumb_func
 1264              		.fpu fpv5-sp-d16
 1266              	Ft_GPU_81X_PadDriveStrength:
 1267              	.LFB162:
 611:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, (ft_uint32_t)0x70 | (group << 8) | (strength << 8));
 1268              		.loc 1 611 0
 1269              		.cfi_startproc
 1270              		@ args = 0, pretend = 0, frame = 0
 1271              		@ frame_needed = 0, uses_anonymous_args = 0
 1272              	.LVL154:
 1273 0000 08B5     		push	{r3, lr}
 1274              	.LCFI31:
 1275              		.cfi_def_cfa_offset 8
 1276              		.cfi_offset 3, -8
 1277              		.cfi_offset 14, -4
 612:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1278              		.loc 1 612 0
 1279 0002 0902     		lsls	r1, r1, #8
 1280              	.LVL155:
 1281 0004 41EA0221 		orr	r1, r1, r2, lsl #8
 1282 0008 41F07001 		orr	r1, r1, #112
 1283 000c FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1284              	.LVL156:
 613:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1285              		.loc 1 613 0
 1286 0010 08BD     		pop	{r3, pc}
 1287              		.cfi_endproc
 1288              	.LFE162:
 1290              		.section	.text.Ft_Gpu_81X_ResetActive,"ax",%progbits
 1291              		.align	1
 1292              		.global	Ft_Gpu_81X_ResetActive
 1293              		.syntax unified
 1294              		.thumb
 1295              		.thumb_func
 1296              		.fpu fpv5-sp-d16
 1298              	Ft_Gpu_81X_ResetActive:
 1299              	.LFB163:
 616:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, FT_GPU_81X_RESET_ACTIVE); 
 1300              		.loc 1 616 0
 1301              		.cfi_startproc
 1302              		@ args = 0, pretend = 0, frame = 0
 1303              		@ frame_needed = 0, uses_anonymous_args = 0
 1304              	.LVL157:
 1305 0000 08B5     		push	{r3, lr}
 1306              	.LCFI32:
 1307              		.cfi_def_cfa_offset 8
 1308              		.cfi_offset 3, -8
 1309              		.cfi_offset 14, -4
 617:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1310              		.loc 1 617 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 36


 1311 0002 4FF41A71 		mov	r1, #616
 1312 0006 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1313              	.LVL158:
 618:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1314              		.loc 1 618 0
 1315 000a 08BD     		pop	{r3, pc}
 1316              		.cfi_endproc
 1317              	.LFE163:
 1319              		.section	.text.Ft_Gpu_81X_ResetRemoval,"ax",%progbits
 1320              		.align	1
 1321              		.global	Ft_Gpu_81X_ResetRemoval
 1322              		.syntax unified
 1323              		.thumb
 1324              		.thumb_func
 1325              		.fpu fpv5-sp-d16
 1327              	Ft_Gpu_81X_ResetRemoval:
 1328              	.LFB164:
 621:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_HostCommand_Ext3(host, FT_GPU_81X_RESET_REMOVAL); 
 1329              		.loc 1 621 0
 1330              		.cfi_startproc
 1331              		@ args = 0, pretend = 0, frame = 0
 1332              		@ frame_needed = 0, uses_anonymous_args = 0
 1333              	.LVL159:
 1334 0000 08B5     		push	{r3, lr}
 1335              	.LCFI33:
 1336              		.cfi_def_cfa_offset 8
 1337              		.cfi_offset 3, -8
 1338              		.cfi_offset 14, -4
 622:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1339              		.loc 1 622 0
 1340 0002 42F26801 		movw	r1, #8296
 1341 0006 FFF7FEFF 		bl	Ft_Gpu_HostCommand_Ext3
 1342              	.LVL160:
 623:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 1343              		.loc 1 623 0
 1344 000a 08BD     		pop	{r3, pc}
 1345              		.cfi_endproc
 1346              	.LFE164:
 1348              		.section	.text.Ft_Gpu_Hal_Updatecmdfifo,"ax",%progbits
 1349              		.align	1
 1350              		.global	Ft_Gpu_Hal_Updatecmdfifo
 1351              		.syntax unified
 1352              		.thumb
 1353              		.thumb_func
 1354              		.fpu fpv5-sp-d16
 1356              	Ft_Gpu_Hal_Updatecmdfifo:
 1357              	.LFB166:
 687:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 688:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 689:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 690:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Updatecmdfifo(Ft_Gpu_Hal_Context_t *host,ft_uint32_t count)
 691:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1358              		.loc 1 691 0
 1359              		.cfi_startproc
 1360              		@ args = 0, pretend = 0, frame = 0
 1361              		@ frame_needed = 0, uses_anonymous_args = 0
 1362              	.LVL161:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 37


 1363 0000 08B5     		push	{r3, lr}
 1364              	.LCFI34:
 1365              		.cfi_def_cfa_offset 8
 1366              		.cfi_offset 3, -8
 1367              		.cfi_offset 14, -4
 692:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp  = (host->ft_cmd_fifo_wp + count) & 4095;
 1368              		.loc 1 692 0
 1369 0002 0289     		ldrh	r2, [r0, #8]
 1370 0004 0A44     		add	r2, r2, r1
 1371 0006 C2F30B02 		ubfx	r2, r2, #0, #12
 693:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 694:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//4 byte alignment
 695:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = (host->ft_cmd_fifo_wp + 3) & 0xffc;
 1372              		.loc 1 695 0
 1373 000a 0332     		adds	r2, r2, #3
 1374 000c 22F00302 		bic	r2, r2, #3
 1375 0010 1205     		lsls	r2, r2, #20
 1376 0012 120D     		lsrs	r2, r2, #20
 1377 0014 0281     		strh	r2, [r0, #8]	@ movhi
 696:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr16(host,REG_CMD_WRITE,host->ft_cmd_fifo_wp);
 1378              		.loc 1 696 0
 1379 0016 0249     		ldr	r1, .L98
 1380              	.LVL162:
 1381 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr16
 1382              	.LVL163:
 697:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1383              		.loc 1 697 0
 1384 001c 08BD     		pop	{r3, pc}
 1385              	.L99:
 1386 001e 00BF     		.align	2
 1387              	.L98:
 1388 0020 FC203000 		.word	3154172
 1389              		.cfi_endproc
 1390              	.LFE166:
 1392              		.section	.text.Ft_Gpu_Cmdfifo_Freespace,"ax",%progbits
 1393              		.align	1
 1394              		.global	Ft_Gpu_Cmdfifo_Freespace
 1395              		.syntax unified
 1396              		.thumb
 1397              		.thumb_func
 1398              		.fpu fpv5-sp-d16
 1400              	Ft_Gpu_Cmdfifo_Freespace:
 1401              	.LFB167:
 698:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 699:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 700:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint16_t Ft_Gpu_Cmdfifo_Freespace(Ft_Gpu_Hal_Context_t *host)
 701:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1402              		.loc 1 701 0
 1403              		.cfi_startproc
 1404              		@ args = 0, pretend = 0, frame = 0
 1405              		@ frame_needed = 0, uses_anonymous_args = 0
 1406              	.LVL164:
 1407 0000 10B5     		push	{r4, lr}
 1408              	.LCFI35:
 1409              		.cfi_def_cfa_offset 8
 1410              		.cfi_offset 4, -8
 1411              		.cfi_offset 14, -4
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 38


 702:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t fullness,retval;
 703:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 704:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//host->ft_cmd_fifo_wp = Ft_Gpu_Hal_Rd16(host,REG_CMD_WRITE);
 705:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 706:FT_Eve_Hal/FT_Gpu_Hal.c **** 	fullness = (host->ft_cmd_fifo_wp - Ft_Gpu_Hal_Rd16(host,REG_CMD_READ)) & 4095;
 1412              		.loc 1 706 0
 1413 0002 0489     		ldrh	r4, [r0, #8]
 1414 0004 0549     		ldr	r1, .L102
 1415 0006 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1416              	.LVL165:
 1417 000a 241A     		subs	r4, r4, r0
 1418 000c C4F30B04 		ubfx	r4, r4, #0, #12
 1419              	.LVL166:
 707:FT_Eve_Hal/FT_Gpu_Hal.c **** 	retval = (FT_CMD_FIFO_SIZE - 4) - fullness;
 1420              		.loc 1 707 0
 1421 0010 40F6FC70 		movw	r0, #4092
 1422 0014 001B     		subs	r0, r0, r4
 1423              	.LVL167:
 708:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return (retval);
 709:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1424              		.loc 1 709 0
 1425 0016 80B2     		uxth	r0, r0
 1426 0018 10BD     		pop	{r4, pc}
 1427              	.LVL168:
 1428              	.L103:
 1429 001a 00BF     		.align	2
 1430              	.L102:
 1431 001c F8203000 		.word	3154168
 1432              		.cfi_endproc
 1433              	.LFE167:
 1435              		.section	.text.Ft_Gpu_Hal_CheckCmdBuffer,"ax",%progbits
 1436              		.align	1
 1437              		.global	Ft_Gpu_Hal_CheckCmdBuffer
 1438              		.syntax unified
 1439              		.thumb
 1440              		.thumb_func
 1441              		.fpu fpv5-sp-d16
 1443              	Ft_Gpu_Hal_CheckCmdBuffer:
 1444              	.LFB169:
 710:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 711:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmdBuf(Ft_Gpu_Hal_Context_t *host,ft_uint8_t *buffer,ft_uint32_t count)
 712:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 713:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int32_t length =0, SizeTransfered = 0, availablefreesize;   
 714:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 715:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MAX_CMD_FIFO_TRANSFER   Ft_Gpu_Cmdfifo_Freespace(host)  
 716:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {                
 717:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = count;
 718:FT_Eve_Hal/FT_Gpu_Hal.c **** 		availablefreesize = MAX_CMD_FIFO_TRANSFER;
 719:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 720:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (length > availablefreesize)
 721:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 722:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = availablefreesize;
 723:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 724:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_CheckCmdBuffer(host,length);
 725:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 726:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_StartCmdTransfer(host,FT_GPU_WRITE,length);
 727:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 39


 728:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 729:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 730:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 731:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 732:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 733:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 734:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 735:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 736:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 737:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,buffer,length);
 738:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer += length;
 739:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 740:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
 741:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 742:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 743:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 744:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 745:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 746:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 747:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 748:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 749:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 750:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 751:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{   
 752:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 753:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SPI_Write(host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTES);
 754:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 755:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 756:FT_Eve_Hal/FT_Gpu_Hal.c **** 			ft_uint16_t SizeTransfered16;
 757:FT_Eve_Hal/FT_Gpu_Hal.c **** 			FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, buffer,length,&SizeTransfered16,TRUE);
 758:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered = SizeTransfered16;
 759:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 760:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 761:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = SizeTransfered;
 762:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer += SizeTransfered;
 763:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 764:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 765:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 766:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_EndTransfer(host);
 767:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Updatecmdfifo(host,length);
 768:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 769:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WaitCmdfifo_empty(host);
 770:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 771:FT_Eve_Hal/FT_Gpu_Hal.c **** 		count -= length;
 772:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}while (count > 0);
 773:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 774:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 775:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined (ARDUINO_PLATFORM_SPI) || defined (FT900_PLATFORM)
 776:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmdBufFromFlash(Ft_Gpu_Hal_Context_t *host,FT_PROGMEM ft_prog_uchar8_t *buff
 777:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 778:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t length =0, SizeTransfered = 0;   
 779:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 780:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MAX_CMD_FIFO_TRANSFER   Ft_Gpu_Cmdfifo_Freespace(host)  
 781:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {                
 782:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = count;
 783:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (length > MAX_CMD_FIFO_TRANSFER){
 784:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = MAX_CMD_FIFO_TRANSFER;
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 40


 785:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 786:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_CheckCmdBuffer(host,length);
 787:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 788:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_StartCmdTransfer(host,FT_GPU_WRITE,length);
 789:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 790:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 791:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 792:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 793:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,ft_pgm_read_byte_near(buffer));
 794:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 795:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 796:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 797:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 798:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 799:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_EndTransfer(host);
 800:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Updatecmdfifo(host,length);
 801:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 802:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WaitCmdfifo_empty(host);
 803:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 804:FT_Eve_Hal/FT_Gpu_Hal.c **** 		count -= length;
 805:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}while (count > 0);
 806:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 807:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 808:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 809:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 810:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_CheckCmdBuffer(Ft_Gpu_Hal_Context_t *host,ft_uint32_t count)
 811:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1445              		.loc 1 811 0
 1446              		.cfi_startproc
 1447              		@ args = 0, pretend = 0, frame = 0
 1448              		@ frame_needed = 0, uses_anonymous_args = 0
 1449              	.LVL169:
 1450 0000 38B5     		push	{r3, r4, r5, lr}
 1451              	.LCFI36:
 1452              		.cfi_def_cfa_offset 16
 1453              		.cfi_offset 3, -16
 1454              		.cfi_offset 4, -12
 1455              		.cfi_offset 5, -8
 1456              		.cfi_offset 14, -4
 1457 0002 0546     		mov	r5, r0
 1458 0004 0C46     		mov	r4, r1
 1459              	.LVL170:
 1460              	.L105:
 812:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t getfreespace;
 813:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do{
 814:FT_Eve_Hal/FT_Gpu_Hal.c **** 		// FIXME: This can get stuck, non-even is returned in case of coprocessor issue
 815:FT_Eve_Hal/FT_Gpu_Hal.c **** 		getfreespace = Ft_Gpu_Cmdfifo_Freespace(host);
 1461              		.loc 1 815 0 discriminator 1
 1462 0006 2846     		mov	r0, r5
 1463 0008 FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 1464              	.LVL171:
 816:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}while(getfreespace < count);
 1465              		.loc 1 816 0 discriminator 1
 1466 000c A042     		cmp	r0, r4
 1467 000e FAD3     		bcc	.L105
 817:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1468              		.loc 1 817 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 41


 1469 0010 38BD     		pop	{r3, r4, r5, pc}
 1470              		.cfi_endproc
 1471              	.LFE169:
 1473              		.section	.text.Ft_Gpu_Hal_WaitCmdfifo_empty,"ax",%progbits
 1474              		.align	1
 1475              		.global	Ft_Gpu_Hal_WaitCmdfifo_empty
 1476              		.syntax unified
 1477              		.thumb
 1478              		.thumb_func
 1479              		.fpu fpv5-sp-d16
 1481              	Ft_Gpu_Hal_WaitCmdfifo_empty:
 1482              	.LFB170:
 818:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WaitCmdfifo_empty(Ft_Gpu_Hal_Context_t *host)
 819:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1483              		.loc 1 819 0
 1484              		.cfi_startproc
 1485              		@ args = 0, pretend = 0, frame = 0
 1486              		@ frame_needed = 0, uses_anonymous_args = 0
 1487              	.LVL172:
 1488 0000 38B5     		push	{r3, r4, r5, lr}
 1489              	.LCFI37:
 1490              		.cfi_def_cfa_offset 16
 1491              		.cfi_offset 3, -16
 1492              		.cfi_offset 4, -12
 1493              		.cfi_offset 5, -8
 1494              		.cfi_offset 14, -4
 1495 0002 0446     		mov	r4, r0
 1496              	.LVL173:
 1497              	.L108:
 820:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while(Ft_Gpu_Hal_Rd16(host,REG_CMD_READ) != Ft_Gpu_Hal_Rd16(host,REG_CMD_WRITE));
 1498              		.loc 1 820 0 discriminator 1
 1499 0004 0849     		ldr	r1, .L110
 1500 0006 2046     		mov	r0, r4
 1501 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1502              	.LVL174:
 1503 000c 0546     		mov	r5, r0
 1504 000e 0749     		ldr	r1, .L110+4
 1505 0010 2046     		mov	r0, r4
 1506 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1507              	.LVL175:
 1508 0016 8542     		cmp	r5, r0
 1509 0018 F4D1     		bne	.L108
 821:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 822:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = Ft_Gpu_Hal_Rd16(host,REG_CMD_WRITE);
 1510              		.loc 1 822 0
 1511 001a 0449     		ldr	r1, .L110+4
 1512 001c 2046     		mov	r0, r4
 1513 001e FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1514              	.LVL176:
 1515 0022 2081     		strh	r0, [r4, #8]	@ movhi
 823:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1516              		.loc 1 823 0
 1517 0024 38BD     		pop	{r3, r4, r5, pc}
 1518              	.LVL177:
 1519              	.L111:
 1520 0026 00BF     		.align	2
 1521              	.L110:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 42


 1522 0028 F8203000 		.word	3154168
 1523 002c FC203000 		.word	3154172
 1524              		.cfi_endproc
 1525              	.LFE170:
 1527              		.section	.text.Ft_Gpu_Hal_WrCmdBuf,"ax",%progbits
 1528              		.align	1
 1529              		.global	Ft_Gpu_Hal_WrCmdBuf
 1530              		.syntax unified
 1531              		.thumb
 1532              		.thumb_func
 1533              		.fpu fpv5-sp-d16
 1535              	Ft_Gpu_Hal_WrCmdBuf:
 1536              	.LFB168:
 712:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int32_t length =0, SizeTransfered = 0, availablefreesize;   
 1537              		.loc 1 712 0
 1538              		.cfi_startproc
 1539              		@ args = 0, pretend = 0, frame = 0
 1540              		@ frame_needed = 0, uses_anonymous_args = 0
 1541              	.LVL178:
 1542 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1543              	.LCFI38:
 1544              		.cfi_def_cfa_offset 32
 1545              		.cfi_offset 3, -32
 1546              		.cfi_offset 4, -28
 1547              		.cfi_offset 5, -24
 1548              		.cfi_offset 6, -20
 1549              		.cfi_offset 7, -16
 1550              		.cfi_offset 8, -12
 1551              		.cfi_offset 9, -8
 1552              		.cfi_offset 14, -4
 1553 0004 0746     		mov	r7, r0
 1554 0006 8846     		mov	r8, r1
 1555 0008 9146     		mov	r9, r2
 1556              	.LVL179:
 1557 000a 16E0     		b	.L116
 1558              	.LVL180:
 1559              	.L115:
 730:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 1560              		.loc 1 730 0
 1561 000c 18F8011B 		ldrb	r1, [r8], #1	@ zero_extendqisi2
 1562              	.LVL181:
 1563 0010 3846     		mov	r0, r7
 1564 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 1565              	.LVL182:
 732:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 1566              		.loc 1 732 0
 1567 0016 0135     		adds	r5, r5, #1
 1568              	.LVL183:
 729:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 1569              		.loc 1 729 0
 1570 0018 3446     		mov	r4, r6
 1571              	.LVL184:
 1572              	.L114:
 1573 001a 661E     		subs	r6, r4, #1
 1574              	.LVL185:
 1575 001c 002C     		cmp	r4, #0
 1576 001e F5D1     		bne	.L115
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 43


 1577              	.LVL186:
 766:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Updatecmdfifo(host,length);
 1578              		.loc 1 766 0
 1579 0020 3846     		mov	r0, r7
 1580 0022 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 1581              	.LVL187:
 767:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1582              		.loc 1 767 0
 1583 0026 2946     		mov	r1, r5
 1584 0028 3846     		mov	r0, r7
 1585 002a FFF7FEFF 		bl	Ft_Gpu_Hal_Updatecmdfifo
 1586              	.LVL188:
 769:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1587              		.loc 1 769 0
 1588 002e 3846     		mov	r0, r7
 1589 0030 FFF7FEFF 		bl	Ft_Gpu_Hal_WaitCmdfifo_empty
 1590              	.LVL189:
 772:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1591              		.loc 1 772 0
 1592 0034 B9EB0509 		subs	r9, r9, r5
 1593              	.LVL190:
 1594 0038 11D0     		beq	.L118
 1595              	.LVL191:
 1596              	.L116:
 718:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1597              		.loc 1 718 0
 1598 003a 3846     		mov	r0, r7
 1599 003c FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 1600              	.LVL192:
 1601 0040 0446     		mov	r4, r0
 1602              	.LVL193:
 720:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 1603              		.loc 1 720 0
 1604 0042 8145     		cmp	r9, r0
 1605 0044 00DC     		bgt	.L113
 717:FT_Eve_Hal/FT_Gpu_Hal.c **** 		availablefreesize = MAX_CMD_FIFO_TRANSFER;
 1606              		.loc 1 717 0
 1607 0046 4C46     		mov	r4, r9
 1608              	.L113:
 1609              	.LVL194:
 724:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1610              		.loc 1 724 0
 1611 0048 2146     		mov	r1, r4
 1612 004a 3846     		mov	r0, r7
 1613              	.LVL195:
 1614 004c FFF7FEFF 		bl	Ft_Gpu_Hal_CheckCmdBuffer
 1615              	.LVL196:
 726:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 1616              		.loc 1 726 0
 1617 0050 A2B2     		uxth	r2, r4
 1618 0052 0121     		movs	r1, #1
 1619 0054 3846     		mov	r0, r7
 1620 0056 FFF7FEFF 		bl	Ft_Gpu_Hal_StartCmdTransfer
 1621              	.LVL197:
 728:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 1622              		.loc 1 728 0
 1623 005a 0025     		movs	r5, #0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 44


 729:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 1624              		.loc 1 729 0
 1625 005c DDE7     		b	.L114
 1626              	.LVL198:
 1627              	.L118:
 773:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1628              		.loc 1 773 0
 1629 005e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1630              		.cfi_endproc
 1631              	.LFE168:
 1633              		.section	.text.Ft_Gpu_Hal_WrCmdBuf_nowait,"ax",%progbits
 1634              		.align	1
 1635              		.global	Ft_Gpu_Hal_WrCmdBuf_nowait
 1636              		.syntax unified
 1637              		.thumb
 1638              		.thumb_func
 1639              		.fpu fpv5-sp-d16
 1641              	Ft_Gpu_Hal_WrCmdBuf_nowait:
 1642              	.LFB171:
 824:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 825:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmdBuf_nowait(Ft_Gpu_Hal_Context_t *host,ft_uint8_t *buffer,ft_uint32_t coun
 826:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1643              		.loc 1 826 0
 1644              		.cfi_startproc
 1645              		@ args = 0, pretend = 0, frame = 0
 1646              		@ frame_needed = 0, uses_anonymous_args = 0
 1647              	.LVL199:
 1648 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1649              	.LCFI39:
 1650              		.cfi_def_cfa_offset 32
 1651              		.cfi_offset 3, -32
 1652              		.cfi_offset 4, -28
 1653              		.cfi_offset 5, -24
 1654              		.cfi_offset 6, -20
 1655              		.cfi_offset 7, -16
 1656              		.cfi_offset 8, -12
 1657              		.cfi_offset 9, -8
 1658              		.cfi_offset 14, -4
 1659 0004 8046     		mov	r8, r0
 1660 0006 0F46     		mov	r7, r1
 1661 0008 9146     		mov	r9, r2
 1662              	.LVL200:
 1663 000a 18E0     		b	.L123
 1664              	.LVL201:
 1665              	.L127:
 827:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t length =0, SizeTransfered = 0;   
 828:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 829:FT_Eve_Hal/FT_Gpu_Hal.c **** #define MAX_CMD_FIFO_TRANSFER   Ft_Gpu_Cmdfifo_Freespace(host)  
 830:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do {                
 831:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = count;
 832:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (length > MAX_CMD_FIFO_TRANSFER){
 833:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = MAX_CMD_FIFO_TRANSFER;
 1666              		.loc 1 833 0
 1667 000c 4046     		mov	r0, r8
 1668 000e FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 1669              	.LVL202:
 1670 0012 0446     		mov	r4, r0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 45


 1671              	.LVL203:
 1672 0014 19E0     		b	.L120
 1673              	.LVL204:
 1674              	.L122:
 834:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 835:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_CheckCmdBuffer(host,length);
 836:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 837:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_StartCmdTransfer(host,FT_GPU_WRITE,length);
 838:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 839:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 840:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 841:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 1675              		.loc 1 841 0
 1676 0016 17F8011B 		ldrb	r1, [r7], #1	@ zero_extendqisi2
 1677              	.LVL205:
 1678 001a 4046     		mov	r0, r8
 1679 001c FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 1680              	.LVL206:
 842:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 843:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 1681              		.loc 1 843 0
 1682 0020 0135     		adds	r5, r5, #1
 1683              	.LVL207:
 840:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 1684              		.loc 1 840 0
 1685 0022 3446     		mov	r4, r6
 1686              	.LVL208:
 1687              	.L121:
 1688 0024 661E     		subs	r6, r4, #1
 1689              	.LVL209:
 1690 0026 002C     		cmp	r4, #0
 1691 0028 F5D1     		bne	.L122
 1692              	.LVL210:
 844:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 845:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 846:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 847:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 848:FT_Eve_Hal/FT_Gpu_Hal.c **** 		spi_writen(SPIM,buffer,length);
 849:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer += length;
 850:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 851:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 852:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 853:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//#ifdef ARDUINO_PLATFORM_SPI
 854:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
 855:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = 0;
 856:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 857:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 858:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
 859:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered ++;
 860:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 861:FT_Eve_Hal/FT_Gpu_Hal.c **** 		length = SizeTransfered;
 862:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 863:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 864:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
 865:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{   
 866:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 867:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SPI_Write(host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_BYTES);
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 46


 868:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 869:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 870:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 871:FT_Eve_Hal/FT_Gpu_Hal.c **** 			ft_uint16_t SizeTransfered16;
 872:FT_Eve_Hal/FT_Gpu_Hal.c **** 			FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, buffer,length,&SizeTransfered16,TRUE);
 873:FT_Eve_Hal/FT_Gpu_Hal.c **** 			SizeTransfered = SizeTransfered16;
 874:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 875:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 876:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = SizeTransfered;
 877:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer += SizeTransfered;
 878:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 879:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 880:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 881:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_EndTransfer(host);
 1693              		.loc 1 881 0
 1694 002a 4046     		mov	r0, r8
 1695 002c FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 1696              	.LVL211:
 882:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Updatecmdfifo(host,length);
 1697              		.loc 1 882 0
 1698 0030 2946     		mov	r1, r5
 1699 0032 4046     		mov	r0, r8
 1700 0034 FFF7FEFF 		bl	Ft_Gpu_Hal_Updatecmdfifo
 1701              	.LVL212:
 883:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 884:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//	Ft_Gpu_Hal_WaitCmdfifo_empty(host);
 885:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 886:FT_Eve_Hal/FT_Gpu_Hal.c **** 		count -= length;
 887:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}while (count > 0);
 1702              		.loc 1 887 0
 1703 0038 B9EB0509 		subs	r9, r9, r5
 1704              	.LVL213:
 1705 003c 10D0     		beq	.L126
 1706              	.LVL214:
 1707              	.L123:
 832:FT_Eve_Hal/FT_Gpu_Hal.c **** 			length = MAX_CMD_FIFO_TRANSFER;
 1708              		.loc 1 832 0
 1709 003e 4046     		mov	r0, r8
 1710 0040 FFF7FEFF 		bl	Ft_Gpu_Cmdfifo_Freespace
 1711              	.LVL215:
 1712 0044 4845     		cmp	r0, r9
 1713 0046 E1D3     		bcc	.L127
 831:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if (length > MAX_CMD_FIFO_TRANSFER){
 1714              		.loc 1 831 0
 1715 0048 4C46     		mov	r4, r9
 1716              	.LVL216:
 1717              	.L120:
 835:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 1718              		.loc 1 835 0
 1719 004a 2146     		mov	r1, r4
 1720 004c 4046     		mov	r0, r8
 1721 004e FFF7FEFF 		bl	Ft_Gpu_Hal_CheckCmdBuffer
 1722              	.LVL217:
 837:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 1723              		.loc 1 837 0
 1724 0052 A2B2     		uxth	r2, r4
 1725 0054 0121     		movs	r1, #1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 47


 1726 0056 4046     		mov	r0, r8
 1727 0058 FFF7FEFF 		bl	Ft_Gpu_Hal_StartCmdTransfer
 1728              	.LVL218:
 839:FT_Eve_Hal/FT_Gpu_Hal.c **** 		while (length--) {
 1729              		.loc 1 839 0
 1730 005c 0025     		movs	r5, #0
 840:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_Transfer8(host,*buffer);
 1731              		.loc 1 840 0
 1732 005e E1E7     		b	.L121
 1733              	.LVL219:
 1734              	.L126:
 888:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1735              		.loc 1 888 0
 1736 0060 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1737              		.cfi_endproc
 1738              	.LFE171:
 1740              		.section	.text.Ft_Gpu_Hal_WaitCmdfifo_empty_status,"ax",%progbits
 1741              		.align	1
 1742              		.global	Ft_Gpu_Hal_WaitCmdfifo_empty_status
 1743              		.syntax unified
 1744              		.thumb
 1745              		.thumb_func
 1746              		.fpu fpv5-sp-d16
 1748              	Ft_Gpu_Hal_WaitCmdfifo_empty_status:
 1749              	.LFB172:
 889:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 890:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint8_t Ft_Gpu_Hal_WaitCmdfifo_empty_status(Ft_Gpu_Hal_Context_t *host)
 891:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1750              		.loc 1 891 0
 1751              		.cfi_startproc
 1752              		@ args = 0, pretend = 0, frame = 0
 1753              		@ frame_needed = 0, uses_anonymous_args = 0
 1754              	.LVL220:
 1755 0000 38B5     		push	{r3, r4, r5, lr}
 1756              	.LCFI40:
 1757              		.cfi_def_cfa_offset 16
 1758              		.cfi_offset 3, -16
 1759              		.cfi_offset 4, -12
 1760              		.cfi_offset 5, -8
 1761              		.cfi_offset 14, -4
 1762 0002 0446     		mov	r4, r0
 892:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(Ft_Gpu_Hal_Rd16(host,REG_CMD_READ) != Ft_Gpu_Hal_Rd16(host,REG_CMD_WRITE))
 1763              		.loc 1 892 0
 1764 0004 0949     		ldr	r1, .L133
 1765 0006 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1766              	.LVL221:
 1767 000a 0546     		mov	r5, r0
 1768 000c 0849     		ldr	r1, .L133+4
 1769 000e 2046     		mov	r0, r4
 1770 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1771              	.LVL222:
 1772 0014 8542     		cmp	r5, r0
 1773 0016 01D0     		beq	.L132
 893:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 894:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 1774              		.loc 1 894 0
 1775 0018 0020     		movs	r0, #0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 48


 1776              	.L129:
 895:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 896:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
 897:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 898:FT_Eve_Hal/FT_Gpu_Hal.c **** 		host->ft_cmd_fifo_wp = Ft_Gpu_Hal_Rd16(host,REG_CMD_WRITE);
 899:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 1;
 900:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 901:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1777              		.loc 1 901 0
 1778 001a 38BD     		pop	{r3, r4, r5, pc}
 1779              	.LVL223:
 1780              	.L132:
 898:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 1;
 1781              		.loc 1 898 0
 1782 001c 0449     		ldr	r1, .L133+4
 1783 001e 2046     		mov	r0, r4
 1784 0020 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1785              	.LVL224:
 1786 0024 2081     		strh	r0, [r4, #8]	@ movhi
 899:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 1787              		.loc 1 899 0
 1788 0026 0120     		movs	r0, #1
 1789 0028 F7E7     		b	.L129
 1790              	.L134:
 1791 002a 00BF     		.align	2
 1792              	.L133:
 1793 002c F8203000 		.word	3154168
 1794 0030 FC203000 		.word	3154172
 1795              		.cfi_endproc
 1796              	.LFE172:
 1798              		.section	.text.Ft_Gpu_Hal_WaitLogo_Finish,"ax",%progbits
 1799              		.align	1
 1800              		.global	Ft_Gpu_Hal_WaitLogo_Finish
 1801              		.syntax unified
 1802              		.thumb
 1803              		.thumb_func
 1804              		.fpu fpv5-sp-d16
 1806              	Ft_Gpu_Hal_WaitLogo_Finish:
 1807              	.LFB173:
 902:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 903:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WaitLogo_Finish(Ft_Gpu_Hal_Context_t *host)
 904:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1808              		.loc 1 904 0
 1809              		.cfi_startproc
 1810              		@ args = 0, pretend = 0, frame = 0
 1811              		@ frame_needed = 0, uses_anonymous_args = 0
 1812              	.LVL225:
 1813 0000 38B5     		push	{r3, r4, r5, lr}
 1814              	.LCFI41:
 1815              		.cfi_def_cfa_offset 16
 1816              		.cfi_offset 3, -16
 1817              		.cfi_offset 4, -12
 1818              		.cfi_offset 5, -8
 1819              		.cfi_offset 14, -4
 1820 0002 0546     		mov	r5, r0
 1821              	.LVL226:
 1822              	.L136:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 49


 905:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int16_t cmdrdptr,cmdwrptr;
 906:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 907:FT_Eve_Hal/FT_Gpu_Hal.c **** 	do{
 908:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cmdrdptr = Ft_Gpu_Hal_Rd16(host,REG_CMD_READ);
 1823              		.loc 1 908 0 discriminator 1
 1824 0004 0849     		ldr	r1, .L138
 1825 0006 2846     		mov	r0, r5
 1826 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1827              	.LVL227:
 1828 000c 04B2     		sxth	r4, r0
 1829              	.LVL228:
 909:FT_Eve_Hal/FT_Gpu_Hal.c **** 		cmdwrptr = Ft_Gpu_Hal_Rd16(host,REG_CMD_WRITE);
 1830              		.loc 1 909 0 discriminator 1
 1831 000e 0749     		ldr	r1, .L138+4
 1832 0010 2846     		mov	r0, r5
 1833 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd16
 1834              	.LVL229:
 1835 0016 00B2     		sxth	r0, r0
 1836              	.LVL230:
 910:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}while ((cmdwrptr != cmdrdptr) || (cmdrdptr != 0));
 1837              		.loc 1 910 0 discriminator 1
 1838 0018 002C     		cmp	r4, #0
 1839 001a 08BF     		it	eq
 1840 001c 8442     		cmpeq	r4, r0
 1841 001e F1D1     		bne	.L136
 911:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = 0;
 1842              		.loc 1 911 0
 1843 0020 0023     		movs	r3, #0
 1844 0022 2B81     		strh	r3, [r5, #8]	@ movhi
 912:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1845              		.loc 1 912 0
 1846 0024 38BD     		pop	{r3, r4, r5, pc}
 1847              	.LVL231:
 1848              	.L139:
 1849 0026 00BF     		.align	2
 1850              	.L138:
 1851 0028 F8203000 		.word	3154168
 1852 002c FC203000 		.word	3154172
 1853              		.cfi_endproc
 1854              	.LFE173:
 1856              		.section	.text.Ft_Gpu_Hal_ResetCmdFifo,"ax",%progbits
 1857              		.align	1
 1858              		.global	Ft_Gpu_Hal_ResetCmdFifo
 1859              		.syntax unified
 1860              		.thumb
 1861              		.thumb_func
 1862              		.fpu fpv5-sp-d16
 1864              	Ft_Gpu_Hal_ResetCmdFifo:
 1865              	.LFB174:
 913:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 914:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 915:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_ResetCmdFifo(Ft_Gpu_Hal_Context_t *host)
 916:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1866              		.loc 1 916 0
 1867              		.cfi_startproc
 1868              		@ args = 0, pretend = 0, frame = 0
 1869              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 50


 1870              		@ link register save eliminated.
 1871              	.LVL232:
 917:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_cmd_fifo_wp = 0;
 1872              		.loc 1 917 0
 1873 0000 0023     		movs	r3, #0
 1874 0002 0381     		strh	r3, [r0, #8]	@ movhi
 918:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1875              		.loc 1 918 0
 1876 0004 7047     		bx	lr
 1877              		.cfi_endproc
 1878              	.LFE174:
 1880              		.section	.text.Ft_Gpu_Hal_WrCmd32,"ax",%progbits
 1881              		.align	1
 1882              		.global	Ft_Gpu_Hal_WrCmd32
 1883              		.syntax unified
 1884              		.thumb
 1885              		.thumb_func
 1886              		.fpu fpv5-sp-d16
 1888              	Ft_Gpu_Hal_WrCmd32:
 1889              	.LFB175:
 919:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 920:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 921:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrCmd32(Ft_Gpu_Hal_Context_t *host,ft_uint32_t cmd)
 922:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1890              		.loc 1 922 0
 1891              		.cfi_startproc
 1892              		@ args = 0, pretend = 0, frame = 0
 1893              		@ frame_needed = 0, uses_anonymous_args = 0
 1894              	.LVL233:
 1895 0000 38B5     		push	{r3, r4, r5, lr}
 1896              	.LCFI42:
 1897              		.cfi_def_cfa_offset 16
 1898              		.cfi_offset 3, -16
 1899              		.cfi_offset 4, -12
 1900              		.cfi_offset 5, -8
 1901              		.cfi_offset 14, -4
 1902 0002 0446     		mov	r4, r0
 1903 0004 0D46     		mov	r5, r1
 923:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_CheckCmdBuffer(host,sizeof(cmd));
 1904              		.loc 1 923 0
 1905 0006 0421     		movs	r1, #4
 1906              	.LVL234:
 1907 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_CheckCmdBuffer
 1908              	.LVL235:
 924:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 925:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr32(host,RAM_CMD + host->ft_cmd_fifo_wp,cmd);
 1909              		.loc 1 925 0
 1910 000c 2189     		ldrh	r1, [r4, #8]
 1911 000e 2A46     		mov	r2, r5
 1912 0010 01F54211 		add	r1, r1, #3178496
 1913 0014 2046     		mov	r0, r4
 1914 0016 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr32
 1915              	.LVL236:
 926:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 927:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Updatecmdfifo(host,sizeof(cmd));
 1916              		.loc 1 927 0
 1917 001a 0421     		movs	r1, #4
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 51


 1918 001c 2046     		mov	r0, r4
 1919 001e FFF7FEFF 		bl	Ft_Gpu_Hal_Updatecmdfifo
 1920              	.LVL237:
 928:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1921              		.loc 1 928 0
 1922 0022 38BD     		pop	{r3, r4, r5, pc}
 1923              		.cfi_endproc
 1924              	.LFE175:
 1926              		.section	.text.Ft_Gpu_Hal_ResetDLBuffer,"ax",%progbits
 1927              		.align	1
 1928              		.global	Ft_Gpu_Hal_ResetDLBuffer
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1932              		.fpu fpv5-sp-d16
 1934              	Ft_Gpu_Hal_ResetDLBuffer:
 1935              	.LFB176:
 929:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 930:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 931:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_ResetDLBuffer(Ft_Gpu_Hal_Context_t *host)
 932:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1936              		.loc 1 932 0
 1937              		.cfi_startproc
 1938              		@ args = 0, pretend = 0, frame = 0
 1939              		@ frame_needed = 0, uses_anonymous_args = 0
 1940              		@ link register save eliminated.
 1941              	.LVL238:
 933:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->ft_dl_buff_wp = 0;
 1942              		.loc 1 933 0
 1943 0000 0023     		movs	r3, #0
 1944 0002 4381     		strh	r3, [r0, #10]	@ movhi
 934:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1945              		.loc 1 934 0
 1946 0004 7047     		bx	lr
 1947              		.cfi_endproc
 1948              	.LFE176:
 1950              		.section	.text.Ft_Gpu_Hal_Powercycle,"ax",%progbits
 1951              		.align	1
 1952              		.global	Ft_Gpu_Hal_Powercycle
 1953              		.syntax unified
 1954              		.thumb
 1955              		.thumb_func
 1956              		.fpu fpv5-sp-d16
 1958              	Ft_Gpu_Hal_Powercycle:
 1959              	.LFB177:
 935:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Toggle PD_N pin of FT800 board for a power cycle*/
 936:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Powercycle(Ft_Gpu_Hal_Context_t *host, ft_bool_t up)
 937:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 1960              		.loc 1 937 0
 1961              		.cfi_startproc
 1962              		@ args = 0, pretend = 0, frame = 0
 1963              		@ frame_needed = 0, uses_anonymous_args = 0
 1964              	.LVL239:
 1965 0000 10B5     		push	{r4, lr}
 1966              	.LCFI43:
 1967              		.cfi_def_cfa_offset 8
 1968              		.cfi_offset 4, -8
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 52


 1969              		.cfi_offset 14, -4
 938:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if (up)
 1970              		.loc 1 938 0
 1971 0002 89B9     		cbnz	r1, .L148
 939:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 940:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 941:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_RESET); // Reset FT800
 942:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);																				// Wait 20ms
 943:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_SET); 	// FT800 is awake
 944:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);
 945:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 946:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM
 947:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 948:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x08);//PDN set to 0 ,connect BLUE wire of MPSSE to PDN# o
 949:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (0<<host->hal_config.pd
 950:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 951:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 952:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 953:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x88);//PDN set to 1
 954:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (1<<host->hal_config.pd
 955:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 956:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 957:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
 958:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_STATUS status;
 959:FT_Eve_Hal/FT_Gpu_Hal.c **** 		status = FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,0);
 960:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 961:FT_Eve_Hal/FT_Gpu_Hal.c **** 		status = FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,1);
 962:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 963:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 964:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 965:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 966:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 967:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 968:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM      
 969:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, LOW);
 970:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 971:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 972:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, HIGH);
 973:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 974:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 975:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
 976:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 0);
 977:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
 978:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 1);
 979:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
 980:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 981:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}else
 982:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 983:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
 984:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_SET); 	// FT800 is awake
 1972              		.loc 1 984 0
 1973 0004 114C     		ldr	r4, .L149
 1974 0006 0122     		movs	r2, #1
 1975 0008 1146     		mov	r1, r2
 1976              	.LVL240:
 1977 000a 2046     		mov	r0, r4
 1978              	.LVL241:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 53


 1979 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1980              	.LVL242:
 985:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);
 1981              		.loc 1 985 0
 1982 0010 1420     		movs	r0, #20
 1983 0012 FFF7FEFF 		bl	HAL_Delay
 1984              	.LVL243:
 986:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_RESET); // Reset FT800
 1985              		.loc 1 986 0
 1986 0016 0022     		movs	r2, #0
 1987 0018 0121     		movs	r1, #1
 1988 001a 2046     		mov	r0, r4
 1989 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1990              	.LVL244:
 987:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);																				// Wait 20ms
 1991              		.loc 1 987 0
 1992 0020 1420     		movs	r0, #20
 1993 0022 FFF7FEFF 		bl	HAL_Delay
 1994              	.LVL245:
 1995              	.L144:
 988:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 989:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM
 990:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
 991:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x88);//PDN set to 1
 992:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (1<<host->hal_config.pd
 993:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 994:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 995:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//FT_WriteGPIO(host->hal_handle, 0xBB, 0x08);//PDN set to 0 ,connect BLUE wire of MPSSE to PDN# o
 996:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT_WriteGPIO(host->hal_handle, (1 << host->hal_config.pdn_pin_no) | 0x3B, (0<<host->hal_config.pd
 997:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 998:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
 999:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1000:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
1001:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,1);
1002:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
1003:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_GPIO_Write((FT_HANDLE)host->hal_handle,GPIO_PORT0,0);
1004:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
1005:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1006:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1007:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1008:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM
1009:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, HIGH);
1010:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
1011:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1012:FT_Eve_Hal/FT_Gpu_Hal.c **** 		digitalWrite(host->hal_config.pdn_pin_no, LOW);
1013:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Sleep(20);
1014:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1015:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1016:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 1);
1017:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
1018:FT_Eve_Hal/FT_Gpu_Hal.c **** 		gpio_write(host->hal_config.pdn_pin_no, 0);
1019:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_delay(20);
1020:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1021:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1022:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1023:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 1996              		.loc 1 1023 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 54


 1997 0026 10BD     		pop	{r4, pc}
 1998              	.LVL246:
 1999              	.L148:
 941:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);																				// Wait 20ms
 2000              		.loc 1 941 0
 2001 0028 084C     		ldr	r4, .L149
 2002 002a 0022     		movs	r2, #0
 2003 002c 0121     		movs	r1, #1
 2004              	.LVL247:
 2005 002e 2046     		mov	r0, r4
 2006              	.LVL248:
 2007 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2008              	.LVL249:
 942:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_GPIO_WritePin(GPIOB, FT800_PD_N, GPIO_PIN_SET); 	// FT800 is awake
 2009              		.loc 1 942 0
 2010 0034 1420     		movs	r0, #20
 2011 0036 FFF7FEFF 		bl	HAL_Delay
 2012              	.LVL250:
 943:FT_Eve_Hal/FT_Gpu_Hal.c **** 		HAL_Delay(20);
 2013              		.loc 1 943 0
 2014 003a 0122     		movs	r2, #1
 2015 003c 1146     		mov	r1, r2
 2016 003e 2046     		mov	r0, r4
 2017 0040 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2018              	.LVL251:
 944:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
 2019              		.loc 1 944 0
 2020 0044 1420     		movs	r0, #20
 2021 0046 FFF7FEFF 		bl	HAL_Delay
 2022              	.LVL252:
 2023 004a ECE7     		b	.L144
 2024              	.L150:
 2025              		.align	2
 2026              	.L149:
 2027 004c 00040240 		.word	1073873920
 2028              		.cfi_endproc
 2029              	.LFE177:
 2031              		.section	.text.Ft_Gpu_Hal_WrMemFromFlash,"ax",%progbits
 2032              		.align	1
 2033              		.global	Ft_Gpu_Hal_WrMemFromFlash
 2034              		.syntax unified
 2035              		.thumb
 2036              		.thumb_func
 2037              		.fpu fpv5-sp-d16
 2039              	Ft_Gpu_Hal_WrMemFromFlash:
 2040              	.LFB178:
1024:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrMemFromFlash(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr,const ft_uint8_t *b
 2041              		.loc 1 1024 0
 2042              		.cfi_startproc
 2043              		@ args = 0, pretend = 0, frame = 0
 2044              		@ frame_needed = 0, uses_anonymous_args = 0
 2045              	.LVL253:
 2046 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2047              	.LCFI44:
 2048              		.cfi_def_cfa_offset 24
 2049              		.cfi_offset 3, -24
 2050              		.cfi_offset 4, -20
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 55


 2051              		.cfi_offset 5, -16
 2052              		.cfi_offset 6, -12
 2053              		.cfi_offset 7, -8
 2054              		.cfi_offset 14, -4
 2055 0002 0746     		mov	r7, r0
 2056 0004 1546     		mov	r5, r2
 2057 0006 1C46     		mov	r4, r3
 2058              	.LVL254:
1025:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered = 0;      
1026:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1027:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_WRITE,addr);
 2059              		.loc 1 1027 0
 2060 0008 0A46     		mov	r2, r1
 2061              	.LVL255:
 2062 000a 0121     		movs	r1, #1
 2063              	.LVL256:
 2064 000c FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 2065              	.LVL257:
1028:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1029:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 2066              		.loc 1 1029 0
 2067 0010 05E0     		b	.L152
 2068              	.LVL258:
 2069              	.L153:
1030:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, *buffer);
 2070              		.loc 1 1030 0
 2071 0012 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 2072              	.LVL259:
 2073 0016 3846     		mov	r0, r7
 2074 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 2075              	.LVL260:
1029:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host, *buffer);
 2076              		.loc 1 1029 0
 2077 001c 3446     		mov	r4, r6
 2078              	.LVL261:
 2079              	.L152:
 2080 001e 661E     		subs	r6, r4, #1
 2081              	.LVL262:
 2082 0020 002C     		cmp	r4, #0
 2083 0022 F6D1     		bne	.L153
1031:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1032:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1033:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1034:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU) || defined(FT900_PLATFORM)
1035:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
1036:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,ft_pgm_read_byte_near(buffer));
1037:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1038:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1039:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1040:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1041:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
1042:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1043:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
1044:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_
1045:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1046:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
1047:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* TBD - check for chunks of 64kb */
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 56


1048:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
1049:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, (uint8 *)buffer,length,&SizeTransfered1
1050:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
1051:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1052:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1053:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1054:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1055:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 2084              		.loc 1 1055 0
 2085 0024 3846     		mov	r0, r7
 2086 0026 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 2087              	.LVL263:
1056:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2088              		.loc 1 1056 0
 2089 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2090              		.cfi_endproc
 2091              	.LFE178:
 2093              		.section	.text.Ft_Gpu_Hal_WrMem,"ax",%progbits
 2094              		.align	1
 2095              		.global	Ft_Gpu_Hal_WrMem
 2096              		.syntax unified
 2097              		.thumb
 2098              		.thumb_func
 2099              		.fpu fpv5-sp-d16
 2101              	Ft_Gpu_Hal_WrMem:
 2102              	.LFB179:
1057:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1058:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_WrMem(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr,const ft_uint8_t *buffer, ft
1059:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2103              		.loc 1 1059 0
 2104              		.cfi_startproc
 2105              		@ args = 0, pretend = 0, frame = 0
 2106              		@ frame_needed = 0, uses_anonymous_args = 0
 2107              	.LVL264:
 2108 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2109              	.LCFI45:
 2110              		.cfi_def_cfa_offset 24
 2111              		.cfi_offset 3, -24
 2112              		.cfi_offset 4, -20
 2113              		.cfi_offset 5, -16
 2114              		.cfi_offset 6, -12
 2115              		.cfi_offset 7, -8
 2116              		.cfi_offset 14, -4
 2117 0002 0746     		mov	r7, r0
 2118 0004 1546     		mov	r5, r2
 2119 0006 1C46     		mov	r4, r3
 2120              	.LVL265:
1060:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered = 0;      
1061:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1062:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_WRITE,addr);
 2121              		.loc 1 1062 0
 2122 0008 0A46     		mov	r2, r1
 2123              	.LVL266:
 2124 000a 0121     		movs	r1, #1
 2125              	.LVL267:
 2126 000c FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 2127              	.LVL268:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 57


1063:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1064:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 2128              		.loc 1 1064 0
 2129 0010 05E0     		b	.L156
 2130              	.LVL269:
 2131              	.L157:
1065:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,*buffer);
 2132              		.loc 1 1065 0
 2133 0012 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 2134              	.LVL270:
 2135 0016 3846     		mov	r0, r7
 2136 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 2137              	.LVL271:
1064:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,*buffer);
 2138              		.loc 1 1064 0
 2139 001c 3446     		mov	r4, r6
 2140              	.LVL272:
 2141              	.L156:
 2142 001e 661E     		subs	r6, r4, #1
 2143              	.LVL273:
 2144 0020 002C     		cmp	r4, #0
 2145 0022 F6D1     		bne	.L157
1066:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1067:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1068:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1069:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1070:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1071:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_writen(SPIM,buffer,length);
1072:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1073:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1074:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
1075:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
1076:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Transfer8(host,*buffer);
1077:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1078:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1079:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1080:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1081:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
1082:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1083:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1084:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
1085:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Write((FT_HANDLE)host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_
1086:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1087:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1088:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
1089:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* TBD - chunk them into 64kb */
1090:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
1091:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleWrite((FT_HANDLE)host->hal_handle, (uint8 *)buffer,length,&SizeTransfered1
1092:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
1093:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1094:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1095:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1096:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1097:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1098:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1099:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 2146              		.loc 1 1099 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 58


 2147 0024 3846     		mov	r0, r7
 2148 0026 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 2149              	.LVL274:
1100:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2150              		.loc 1 1100 0
 2151 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2152              		.cfi_endproc
 2153              	.LFE179:
 2155              		.section	.text.Ft_Gpu_Hal_RdMem,"ax",%progbits
 2156              		.align	1
 2157              		.global	Ft_Gpu_Hal_RdMem
 2158              		.syntax unified
 2159              		.thumb
 2160              		.thumb_func
 2161              		.fpu fpv5-sp-d16
 2163              	Ft_Gpu_Hal_RdMem:
 2164              	.LFB180:
1101:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1102:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1103:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_RdMem(Ft_Gpu_Hal_Context_t *host,ft_uint32_t addr, ft_uint8_t *buffer, ft_uint
1104:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2165              		.loc 1 1104 0
 2166              		.cfi_startproc
 2167              		@ args = 0, pretend = 0, frame = 0
 2168              		@ frame_needed = 0, uses_anonymous_args = 0
 2169              	.LVL275:
 2170 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2171              	.LCFI46:
 2172              		.cfi_def_cfa_offset 24
 2173              		.cfi_offset 3, -24
 2174              		.cfi_offset 4, -20
 2175              		.cfi_offset 5, -16
 2176              		.cfi_offset 6, -12
 2177              		.cfi_offset 7, -8
 2178              		.cfi_offset 14, -4
 2179 0002 0746     		mov	r7, r0
 2180 0004 1546     		mov	r5, r2
 2181 0006 1C46     		mov	r4, r3
 2182              	.LVL276:
1105:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t SizeTransfered = 0;      
1106:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1107:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_StartTransfer(host,FT_GPU_READ,addr);
 2183              		.loc 1 1107 0
 2184 0008 0A46     		mov	r2, r1
 2185              	.LVL277:
 2186 000a 0021     		movs	r1, #0
 2187              	.LVL278:
 2188 000c FFF7FEFF 		bl	Ft_Gpu_Hal_StartTransfer
 2189              	.LVL279:
1108:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1109:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
 2190              		.loc 1 1109 0
 2191 0010 06E0     		b	.L160
 2192              	.LVL280:
 2193              	.L161:
1110:FT_Eve_Hal/FT_Gpu_Hal.c **** 			*buffer = Ft_Gpu_Hal_Transfer8(host,0);
 2194              		.loc 1 1110 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 59


 2195 0012 0021     		movs	r1, #0
 2196 0014 3846     		mov	r0, r7
 2197 0016 FFF7FEFF 		bl	Ft_Gpu_Hal_Transfer8
 2198              	.LVL281:
 2199 001a 05F8010B 		strb	r0, [r5], #1
 2200              	.LVL282:
1109:FT_Eve_Hal/FT_Gpu_Hal.c **** 			*buffer = Ft_Gpu_Hal_Transfer8(host,0);
 2201              		.loc 1 1109 0
 2202 001e 3446     		mov	r4, r6
 2203              	.LVL283:
 2204              	.L160:
 2205 0020 661E     		subs	r6, r4, #1
 2206              	.LVL284:
 2207 0022 002C     		cmp	r4, #0
 2208 0024 F5D1     		bne	.L161
1111:FT_Eve_Hal/FT_Gpu_Hal.c **** 			buffer++;
1112:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
1113:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1114:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1115:FT_Eve_Hal/FT_Gpu_Hal.c **** 	unsigned char spiData[2] = {0};
1116:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_readn(SPIM,spiData,host->spinumdummy);
1117:FT_Eve_Hal/FT_Gpu_Hal.c **** 	spi_readn(SPIM,buffer,length);
1118:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1119:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(ARDUINO_PLATFORM_SPI) || defined(MSVC_FT800EMU)
1120:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while (length--) {
1121:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*buffer = Ft_Gpu_Hal_Transfer8(host,0);
1122:FT_Eve_Hal/FT_Gpu_Hal.c **** 		buffer++;
1123:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1124:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1125:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1126:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_SPI
1127:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1128:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_LIBMPSSE
1129:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SPI_Read((FT_HANDLE)host->hal_handle,buffer,length,&SizeTransfered,SPI_TRANSFER_OPTIONS_SIZE_IN_B
1130:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1131:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1132:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef MSVC_PLATFORM_Lib4222
1133:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* TBD - chunk into 64kb */
1134:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint16_t SizeTransfered16;
1135:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FT4222_SPIMaster_SingleRead((FT_HANDLE)host->hal_handle, (uint8 *)buffer,length,&SizeTransfered16
1136:FT_Eve_Hal/FT_Gpu_Hal.c **** 		SizeTransfered = SizeTransfered16;
1137:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1138:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1139:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1140:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1141:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1142:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_EndTransfer(host);
 2209              		.loc 1 1142 0
 2210 0026 3846     		mov	r0, r7
 2211 0028 FFF7FEFF 		bl	Ft_Gpu_Hal_EndTransfer
 2212              	.LVL285:
1143:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2213              		.loc 1 1143 0
 2214 002c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2215              		.cfi_endproc
 2216              	.LFE180:
 2218              		.section	.text.Ft_Gpu_Hal_Dec2Ascii,"ax",%progbits
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 60


 2219              		.align	1
 2220              		.global	Ft_Gpu_Hal_Dec2Ascii
 2221              		.syntax unified
 2222              		.thumb
 2223              		.thumb_func
 2224              		.fpu fpv5-sp-d16
 2226              	Ft_Gpu_Hal_Dec2Ascii:
 2227              	.LFB181:
1144:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1145:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Helper api for dec to ascii */
1146:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_int32_t Ft_Gpu_Hal_Dec2Ascii(ft_char8_t *pSrc,ft_int32_t value)
1147:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2228              		.loc 1 1147 0
 2229              		.cfi_startproc
 2230              		@ args = 0, pretend = 0, frame = 16
 2231              		@ frame_needed = 0, uses_anonymous_args = 0
 2232              	.LVL286:
 2233 0000 70B5     		push	{r4, r5, r6, lr}
 2234              	.LCFI47:
 2235              		.cfi_def_cfa_offset 16
 2236              		.cfi_offset 4, -16
 2237              		.cfi_offset 5, -12
 2238              		.cfi_offset 6, -8
 2239              		.cfi_offset 14, -4
 2240 0002 84B0     		sub	sp, sp, #16
 2241              	.LCFI48:
 2242              		.cfi_def_cfa_offset 32
 2243 0004 0646     		mov	r6, r0
 2244 0006 0C46     		mov	r4, r1
 2245              	.LVL287:
1148:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int16_t Length;
1149:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_char8_t *pdst,charval;
1150:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int32_t CurrVal = value,tmpval,i;
1151:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_char8_t tmparray[16],idx = 0;
1152:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1153:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Length = strlen(pSrc);
 2246              		.loc 1 1153 0
 2247 0008 FFF7FEFF 		bl	strlen
 2248              	.LVL288:
 2249 000c 00B2     		sxth	r0, r0
 2250              	.LVL289:
1154:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pdst = pSrc + Length;
 2251              		.loc 1 1154 0
 2252 000e 3518     		adds	r5, r6, r0
 2253              	.LVL290:
1155:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1156:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(0 == value)
 2254              		.loc 1 1156 0
 2255 0010 1CB1     		cbz	r4, .L172
1157:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1158:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = '0';
1159:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = '\0';
1160:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
1161:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1162:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1163:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(CurrVal < 0)
 2256              		.loc 1 1163 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 61


 2257 0012 002C     		cmp	r4, #0
 2258 0014 06DB     		blt	.L173
 2259              	.LVL291:
 2260              	.L166:
1164:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1165:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = '-';
 2261              		.loc 1 1165 0
 2262 0016 0022     		movs	r2, #0
 2263 0018 1CE0     		b	.L167
 2264              	.LVL292:
 2265              	.L172:
1158:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = '\0';
 2266              		.loc 1 1158 0
 2267 001a 3023     		movs	r3, #48
 2268 001c 3354     		strb	r3, [r6, r0]
 2269              	.LVL293:
1159:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;
 2270              		.loc 1 1159 0
 2271 001e 0023     		movs	r3, #0
 2272 0020 6B70     		strb	r3, [r5, #1]
1160:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 2273              		.loc 1 1160 0
 2274 0022 28E0     		b	.L165
 2275              	.LVL294:
 2276              	.L173:
 2277              		.loc 1 1165 0
 2278 0024 2D23     		movs	r3, #45
 2279 0026 3354     		strb	r3, [r6, r0]
1166:FT_Eve_Hal/FT_Gpu_Hal.c **** 		CurrVal = - CurrVal;
 2280              		.loc 1 1166 0
 2281 0028 6442     		negs	r4, r4
 2282              	.LVL295:
1165:FT_Eve_Hal/FT_Gpu_Hal.c **** 		CurrVal = - CurrVal;
 2283              		.loc 1 1165 0
 2284 002a 0135     		adds	r5, r5, #1
 2285              	.LVL296:
 2286 002c F3E7     		b	.L166
 2287              	.LVL297:
 2288              	.L168:
1167:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1168:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* insert the value */
1169:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while(CurrVal > 0){
1170:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmpval = CurrVal;
1171:FT_Eve_Hal/FT_Gpu_Hal.c **** 		CurrVal /= 10;
 2289              		.loc 1 1171 0
 2290 002e 134B     		ldr	r3, .L174
 2291 0030 83FB0413 		smull	r1, r3, r3, r4
 2292 0034 E117     		asrs	r1, r4, #31
 2293 0036 C1EBA301 		rsb	r1, r1, r3, asr #2
 2294              	.LVL298:
1172:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmpval = tmpval - CurrVal*10;
 2295              		.loc 1 1172 0
 2296 003a 6FF00903 		mvn	r3, #9
 2297 003e 03FB0143 		mla	r3, r3, r1, r4
 2298              	.LVL299:
1173:FT_Eve_Hal/FT_Gpu_Hal.c **** 		charval = '0' + tmpval;
 2299              		.loc 1 1173 0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 62


 2300 0042 DBB2     		uxtb	r3, r3
 2301              	.LVL300:
 2302 0044 3033     		adds	r3, r3, #48
 2303              	.LVL301:
1174:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmparray[idx++] = charval;
 2304              		.loc 1 1174 0
 2305 0046 501C     		adds	r0, r2, #1
 2306              	.LVL302:
 2307 0048 04AC     		add	r4, sp, #16
 2308              	.LVL303:
 2309 004a 2244     		add	r2, r2, r4
 2310 004c 02F8103C 		strb	r3, [r2, #-16]
 2311 0050 C2B2     		uxtb	r2, r0
1171:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmpval = tmpval - CurrVal*10;
 2312              		.loc 1 1171 0
 2313 0052 0C46     		mov	r4, r1
 2314              	.LVL304:
 2315              	.L167:
1169:FT_Eve_Hal/FT_Gpu_Hal.c **** 		tmpval = CurrVal;
 2316              		.loc 1 1169 0
 2317 0054 002C     		cmp	r4, #0
 2318 0056 EADC     		bgt	.L168
1175:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1176:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1177:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for(i=0;i<idx;i++)
 2319              		.loc 1 1177 0
 2320 0058 0021     		movs	r1, #0
 2321 005a 08E0     		b	.L169
 2322              	.LVL305:
 2323              	.L170:
1178:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1179:FT_Eve_Hal/FT_Gpu_Hal.c **** 		*pdst++ = tmparray[idx - i - 1];
 2324              		.loc 1 1179 0 discriminator 3
 2325 005c 531A     		subs	r3, r2, r1
 2326 005e 013B     		subs	r3, r3, #1
 2327              	.LVL306:
 2328 0060 04A8     		add	r0, sp, #16
 2329 0062 0344     		add	r3, r3, r0
 2330 0064 13F8103C 		ldrb	r3, [r3, #-16]	@ zero_extendqisi2
 2331 0068 2B70     		strb	r3, [r5]
1177:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2332              		.loc 1 1177 0 discriminator 3
 2333 006a 0131     		adds	r1, r1, #1
 2334              	.LVL307:
 2335              		.loc 1 1179 0 discriminator 3
 2336 006c 0135     		adds	r5, r5, #1
 2337              	.LVL308:
 2338              	.L169:
1177:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2339              		.loc 1 1177 0 discriminator 1
 2340 006e 8A42     		cmp	r2, r1
 2341 0070 F4DC     		bgt	.L170
 2342              	.LVL309:
1180:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1181:FT_Eve_Hal/FT_Gpu_Hal.c **** 	*pdst++ = '\0';
 2343              		.loc 1 1181 0
 2344 0072 0023     		movs	r3, #0
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 63


 2345 0074 2B70     		strb	r3, [r5]
 2346              	.LVL310:
 2347              	.L165:
1182:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1183:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return 0;
1184:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2348              		.loc 1 1184 0
 2349 0076 0020     		movs	r0, #0
 2350 0078 04B0     		add	sp, sp, #16
 2351              	.LCFI49:
 2352              		.cfi_def_cfa_offset 16
 2353              		@ sp needed
 2354 007a 70BD     		pop	{r4, r5, r6, pc}
 2355              	.LVL311:
 2356              	.L175:
 2357              		.align	2
 2358              	.L174:
 2359 007c 67666666 		.word	1717986919
 2360              		.cfi_endproc
 2361              	.LFE181:
 2363              		.section	.text.Ft_Gpu_Hal_Sleep,"ax",%progbits
 2364              		.align	1
 2365              		.global	Ft_Gpu_Hal_Sleep
 2366              		.syntax unified
 2367              		.thumb
 2368              		.thumb_func
 2369              		.fpu fpv5-sp-d16
 2371              	Ft_Gpu_Hal_Sleep:
 2372              	.LFB182:
1185:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1186:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1187:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1188:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Gpu_Hal_Sleep(ft_uint32_t ms)
1189:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2373              		.loc 1 1189 0
 2374              		.cfi_startproc
 2375              		@ args = 0, pretend = 0, frame = 0
 2376              		@ frame_needed = 0, uses_anonymous_args = 0
 2377              	.LVL312:
 2378 0000 08B5     		push	{r3, lr}
 2379              	.LCFI50:
 2380              		.cfi_def_cfa_offset 8
 2381              		.cfi_offset 3, -8
 2382              		.cfi_offset 14, -4
1190:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1191:FT_Eve_Hal/FT_Gpu_Hal.c **** 	HAL_Delay(ms);
 2383              		.loc 1 1191 0
 2384 0002 FFF7FEFF 		bl	HAL_Delay
 2385              	.LVL313:
1192:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1193:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1194:FT_Eve_Hal/FT_Gpu_Hal.c **** 	delayms(ms);
1195:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1196:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(MSVC_PLATFORM) || defined(MSVC_FT800EMU)
1197:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Sleep(ms);
1198:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1199:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 64


1200:FT_Eve_Hal/FT_Gpu_Hal.c **** 	delay(ms);
1201:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1202:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2386              		.loc 1 1202 0
 2387 0006 08BD     		pop	{r3, pc}
 2388              		.cfi_endproc
 2389              	.LFE182:
 2391              		.section	.text.Ft_Gpu_Hal_SetSPI,"ax",%progbits
 2392              		.align	1
 2393              		.global	Ft_Gpu_Hal_SetSPI
 2394              		.syntax unified
 2395              		.thumb
 2396              		.thumb_func
 2397              		.fpu fpv5-sp-d16
 2399              	Ft_Gpu_Hal_SetSPI:
 2400              	.LFB183:
1203:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT_81X_ENABLE
1204:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_int16_t Ft_Gpu_Hal_SetSPI(Ft_Gpu_Hal_Context_t *host,FT_GPU_SPI_NUMCHANNELS_T numchnls,FT_GPU_SP
1205:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2401              		.loc 1 1205 0
 2402              		.cfi_startproc
 2403              		@ args = 0, pretend = 0, frame = 0
 2404              		@ frame_needed = 0, uses_anonymous_args = 0
 2405              	.LVL314:
1206:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t writebyte = 0;
1207:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* error check */
1208:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if((numchnls > FT_GPU_SPI_QUAD_CHANNEL) || (numdummy > FT_GPU_SPI_TWODUMMY) || (numdummy < FT_GPU_
 2406              		.loc 1 1208 0
 2407 0000 022A     		cmp	r2, #2
 2408 0002 98BF     		it	ls
 2409 0004 0229     		cmpls	r1, #2
 2410 0006 0ED8     		bhi	.L181
 2411              		.loc 1 1208 0 is_stmt 0 discriminator 1
 2412 0008 82B1     		cbz	r2, .L182
1205:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t writebyte = 0;
 2413              		.loc 1 1205 0 is_stmt 1
 2414 000a 08B5     		push	{r3, lr}
 2415              	.LCFI51:
 2416              		.cfi_def_cfa_offset 8
 2417              		.cfi_offset 3, -8
 2418              		.cfi_offset 14, -4
1209:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1210:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return -1;//error
1211:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1212:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1213:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spichannel = numchnls;
 2419              		.loc 1 1213 0
 2420 000c 0175     		strb	r1, [r0, #20]
 2421              	.LVL315:
1214:FT_Eve_Hal/FT_Gpu_Hal.c **** 	writebyte = host->spichannel;
1215:FT_Eve_Hal/FT_Gpu_Hal.c **** 	host->spinumdummy = numdummy;
 2422              		.loc 1 1215 0
 2423 000e 4275     		strb	r2, [r0, #21]
1216:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1217:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(FT_GPU_SPI_TWODUMMY == host->spinumdummy)
 2424              		.loc 1 1217 0
 2425 0010 022A     		cmp	r2, #2
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 65


 2426 0012 05D0     		beq	.L187
 2427              	.LVL316:
 2428              	.L180:
1218:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1219:FT_Eve_Hal/FT_Gpu_Hal.c **** 		writebyte |= FT_SPI_TWO_DUMMY_BYTE;
1220:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1221:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr8(host,REG_SPI_WIDTH,writebyte);
 2429              		.loc 1 1221 0
 2430 0014 0A46     		mov	r2, r1
 2431              	.LVL317:
 2432 0016 0749     		ldr	r1, .L188
 2433              	.LVL318:
 2434 0018 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr8
 2435              	.LVL319:
1222:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* set the parameters in hal context and also set into ft81x */
1223:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return 0;
 2436              		.loc 1 1223 0
 2437 001c 0020     		movs	r0, #0
1224:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2438              		.loc 1 1224 0
 2439 001e 08BD     		pop	{r3, pc}
 2440              	.LVL320:
 2441              	.L187:
1219:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 2442              		.loc 1 1219 0
 2443 0020 41F00401 		orr	r1, r1, #4
 2444              	.LVL321:
 2445 0024 F6E7     		b	.L180
 2446              	.LVL322:
 2447              	.L181:
 2448              	.LCFI52:
 2449              		.cfi_def_cfa_offset 0
 2450              		.cfi_restore 3
 2451              		.cfi_restore 14
1210:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 2452              		.loc 1 1210 0
 2453 0026 4FF0FF30 		mov	r0, #-1
 2454              	.LVL323:
 2455 002a 7047     		bx	lr
 2456              	.LVL324:
 2457              	.L182:
 2458 002c 4FF0FF30 		mov	r0, #-1
 2459              	.LVL325:
 2460              		.loc 1 1224 0
 2461 0030 7047     		bx	lr
 2462              	.L189:
 2463 0032 00BF     		.align	2
 2464              	.L188:
 2465 0034 88213000 		.word	3154312
 2466              		.cfi_endproc
 2467              	.LFE183:
 2469              		.section	.text.ft_millis,"ax",%progbits
 2470              		.align	1
 2471              		.global	ft_millis
 2472              		.syntax unified
 2473              		.thumb
 2474              		.thumb_func
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 66


 2475              		.fpu fpv5-sp-d16
 2477              	ft_millis:
 2478              	.LFB184:
1225:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1226:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1227:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1228:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Helper api for millis */
1229:FT_Eve_Hal/FT_Gpu_Hal.c **** /* api to return the time in ms. 0 after reset */
1230:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1231:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Globals for polling implementation */
1232:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t ft_millis_curr = 0,ft_millis_prev = 0;
1233:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1234:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Globals for interrupt implementation */
1235:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t ft_TotalMilliseconds = 0;
1236:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1237:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t ft_millis_ticker()
1238:FT_Eve_Hal/FT_Gpu_Hal.c **** {
1239:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_disable_interrupt(FT900_FT_MILLIS_TIMER);
1240:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Clear the interrupt and increment the counter */
1241:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_is_interrupted(FT900_FT_MILLIS_TIMER);
1242:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1243:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_TotalMilliseconds += 1;
1244:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_enable_interrupt(FT900_FT_MILLIS_TIMER);
1245:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1246:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t ft_millis_init()
1247:FT_Eve_Hal/FT_Gpu_Hal.c **** {
1248:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1249:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_millis_curr = 0;
1250:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_millis_prev = 0;
1251:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1252:FT_Eve_Hal/FT_Gpu_Hal.c **** 	sys_enable(sys_device_timer_wdt);
1253:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_prescaler(FT900_TIMER_PRESCALE_VALUE);
1254:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_init(FT900_FT_MILLIS_TIMER,FT900_TIMER_OVERFLOW_VALUE,timer_direction_up,timer_prescaler_sel
1255:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1256:FT_Eve_Hal/FT_Gpu_Hal.c **** 	interrupt_attach(interrupt_timers, 17, ft_millis_ticker);
1257:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1258:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1259:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* enabling the interrupts for timer */
1260:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_enable_interrupt(FT900_FT_MILLIS_TIMER);
1261:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1262:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_start(FT900_FT_MILLIS_TIMER);
1263:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1264:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1265:FT_Eve_Hal/FT_Gpu_Hal.c **** /* Need to ensure that below api is called at least once in 6.5 seconds duration for FT900 platform
1266:FT_Eve_Hal/FT_Gpu_Hal.c **** /* global counter to loopback after ~49.71 days */
1267:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1268:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1269:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t ft_millis() {
 2479              		.loc 1 1269 0
 2480              		.cfi_startproc
 2481              		@ args = 0, pretend = 0, frame = 0
 2482              		@ frame_needed = 0, uses_anonymous_args = 0
 2483 0000 08B5     		push	{r3, lr}
 2484              	.LCFI53:
 2485              		.cfi_def_cfa_offset 8
 2486              		.cfi_offset 3, -8
 2487              		.cfi_offset 14, -4
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 67


1270:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef STM32F7
1271:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return HAL_GetTick();
 2488              		.loc 1 1271 0
 2489 0002 FFF7FEFF 		bl	HAL_GetTick
 2490              	.LVL326:
1272:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1273:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2491              		.loc 1 1273 0
 2492 0006 08BD     		pop	{r3, pc}
 2493              		.cfi_endproc
 2494              	.LFE184:
 2496              		.section	.text.ft_millis_exit,"ax",%progbits
 2497              		.align	1
 2498              		.global	ft_millis_exit
 2499              		.syntax unified
 2500              		.thumb
 2501              		.thumb_func
 2502              		.fpu fpv5-sp-d16
 2504              	ft_millis_exit:
 2505              	.LFB185:
1274:FT_Eve_Hal/FT_Gpu_Hal.c **** //#if defined(ARDUINO_PLATFORM) ||defined(MSVC_PLATFORM) || defined(MSVC_FT800EMU)
1275:FT_Eve_Hal/FT_Gpu_Hal.c **** //	return millis();
1276:FT_Eve_Hal/FT_Gpu_Hal.c **** //#endif
1277:FT_Eve_Hal/FT_Gpu_Hal.c **** //#ifdef FT900_PLATFORM
1278:FT_Eve_Hal/FT_Gpu_Hal.c **** //
1279:FT_Eve_Hal/FT_Gpu_Hal.c **** //	/* Polling implementation */
1280:FT_Eve_Hal/FT_Gpu_Hal.c **** //#if 0
1281:FT_Eve_Hal/FT_Gpu_Hal.c **** //	ft_uint32_t currtime;
1282:FT_Eve_Hal/FT_Gpu_Hal.c **** //	currtime = ft900_timer_get_value(FT900_FT_MILLIS_TIMER);
1283:FT_Eve_Hal/FT_Gpu_Hal.c **** //
1284:FT_Eve_Hal/FT_Gpu_Hal.c **** //	if(ft_millis_prev > currtime)
1285:FT_Eve_Hal/FT_Gpu_Hal.c **** //	{
1286:FT_Eve_Hal/FT_Gpu_Hal.c **** //		/* loop back condition */
1287:FT_Eve_Hal/FT_Gpu_Hal.c **** //		ft_millis_curr += ((FT900_TIMER_MAX_VALUE - ft_millis_prev + currtime)/10);
1288:FT_Eve_Hal/FT_Gpu_Hal.c **** //	}
1289:FT_Eve_Hal/FT_Gpu_Hal.c **** //	else
1290:FT_Eve_Hal/FT_Gpu_Hal.c **** //	{
1291:FT_Eve_Hal/FT_Gpu_Hal.c **** //		ft_millis_curr += ((currtime - ft_millis_prev)/10);
1292:FT_Eve_Hal/FT_Gpu_Hal.c **** //	}
1293:FT_Eve_Hal/FT_Gpu_Hal.c **** //	ft_millis_prev = currtime;
1294:FT_Eve_Hal/FT_Gpu_Hal.c **** //	//printf("current time %d \n",ft_millis_curr);
1295:FT_Eve_Hal/FT_Gpu_Hal.c **** //	return ft_millis_curr;
1296:FT_Eve_Hal/FT_Gpu_Hal.c **** //#endif
1297:FT_Eve_Hal/FT_Gpu_Hal.c **** //
1298:FT_Eve_Hal/FT_Gpu_Hal.c **** //	/* Interrupt implementation */
1299:FT_Eve_Hal/FT_Gpu_Hal.c **** //	return (ft_TotalMilliseconds);
1300:FT_Eve_Hal/FT_Gpu_Hal.c **** //#endif
1301:FT_Eve_Hal/FT_Gpu_Hal.c **** //}
1302:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1303:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t ft_millis_exit()
1304:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2506              		.loc 1 1304 0
 2507              		.cfi_startproc
 2508              		@ args = 0, pretend = 0, frame = 0
 2509              		@ frame_needed = 0, uses_anonymous_args = 0
 2510              		@ link register save eliminated.
1305:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 68


1306:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_stop(FT900_FT_MILLIS_TIMER);
1307:FT_Eve_Hal/FT_Gpu_Hal.c **** 	timer_disable_interrupt(FT900_FT_MILLIS_TIMER);
1308:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1309:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2511              		.loc 1 1309 0
 2512 0000 7047     		bx	lr
 2513              		.cfi_endproc
 2514              	.LFE185:
 2516              		.section	.text.Ft_Fifo_Init,"ax",%progbits
 2517              		.align	1
 2518              		.global	Ft_Fifo_Init
 2519              		.syntax unified
 2520              		.thumb
 2521              		.thumb_func
 2522              		.fpu fpv5-sp-d16
 2524              	Ft_Fifo_Init:
 2525              	.LFB186:
1310:FT_Eve_Hal/FT_Gpu_Hal.c **** /* FIFO related apis */
1311:FT_Eve_Hal/FT_Gpu_Hal.c **** //Init all the parameters of fifo buffer
1312:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_Init(Ft_Fifo_t *pFifo,ft_uint32_t StartAddress,ft_uint32_t Length,ft_uint32_t HWR
1313:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2526              		.loc 1 1313 0
 2527              		.cfi_startproc
 2528              		@ args = 4, pretend = 0, frame = 0
 2529              		@ frame_needed = 0, uses_anonymous_args = 0
 2530              		@ link register save eliminated.
 2531              	.LVL327:
1314:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* update the context parameters */
1315:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_buff = StartAddress;
 2532              		.loc 1 1315 0
 2533 0000 0160     		str	r1, [r0]
1316:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_len = Length;
 2534              		.loc 1 1316 0
 2535 0002 4260     		str	r2, [r0, #4]
1317:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_rp = pFifo->fifo_wp = 0;
 2536              		.loc 1 1317 0
 2537 0004 0022     		movs	r2, #0
 2538              	.LVL328:
 2539 0006 8260     		str	r2, [r0, #8]
 2540 0008 C260     		str	r2, [r0, #12]
1318:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1319:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* update the hardware register addresses - specific to FT800 series chips */
1320:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->HW_Read_Reg = HWReadRegAddress;
 2541              		.loc 1 1320 0
 2542 000a 0361     		str	r3, [r0, #16]
1321:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->HW_Write_Reg = HWWriteRegAddress;
 2543              		.loc 1 1321 0
 2544 000c 009B     		ldr	r3, [sp]
 2545              	.LVL329:
 2546 000e 4361     		str	r3, [r0, #20]
1322:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2547              		.loc 1 1322 0
 2548 0010 7047     		bx	lr
 2549              		.cfi_endproc
 2550              	.LFE186:
 2552              		.section	.text.Ft_Fifo_Update,"ax",%progbits
 2553              		.align	1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 69


 2554              		.global	Ft_Fifo_Update
 2555              		.syntax unified
 2556              		.thumb
 2557              		.thumb_func
 2558              		.fpu fpv5-sp-d16
 2560              	Ft_Fifo_Update:
 2561              	.LFB187:
1323:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1324:FT_Eve_Hal/FT_Gpu_Hal.c **** //update both the read and write pointers
1325:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_Update(Ft_Gpu_Hal_Context_t *host,Ft_Fifo_t *pFifo)
1326:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2562              		.loc 1 1326 0
 2563              		.cfi_startproc
 2564              		@ args = 0, pretend = 0, frame = 0
 2565              		@ frame_needed = 0, uses_anonymous_args = 0
 2566              	.LVL330:
 2567 0000 10B5     		push	{r4, lr}
 2568              	.LCFI54:
 2569              		.cfi_def_cfa_offset 8
 2570              		.cfi_offset 4, -8
 2571              		.cfi_offset 14, -4
 2572 0002 0C46     		mov	r4, r1
1327:FT_Eve_Hal/FT_Gpu_Hal.c **** 	pFifo->fifo_rp = Ft_Gpu_Hal_Rd32(host,pFifo->HW_Read_Reg);
 2573              		.loc 1 1327 0
 2574 0004 0969     		ldr	r1, [r1, #16]
 2575              	.LVL331:
 2576 0006 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd32
 2577              	.LVL332:
 2578 000a E060     		str	r0, [r4, #12]
1328:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//Ft_Gpu_Hal_Wr32(host,pFifo->HW_Write_Reg,pFifo->fifo_wp);
1329:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2579              		.loc 1 1329 0
 2580 000c 10BD     		pop	{r4, pc}
 2581              		.cfi_endproc
 2582              	.LFE187:
 2584              		.section	.text.Ft_Fifo_GetFreeSpace,"ax",%progbits
 2585              		.align	1
 2586              		.global	Ft_Fifo_GetFreeSpace
 2587              		.syntax unified
 2588              		.thumb
 2589              		.thumb_func
 2590              		.fpu fpv5-sp-d16
 2592              	Ft_Fifo_GetFreeSpace:
 2593              	.LFB191:
1330:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1331:FT_Eve_Hal/FT_Gpu_Hal.c **** //just write and update the write register
1332:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Fifo_Write(Ft_Gpu_Hal_Context_t *host,Ft_Fifo_t *pFifo,ft_uint8_t *buffer,ft_uint32_
1333:FT_Eve_Hal/FT_Gpu_Hal.c **** {
1334:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t FreeSpace = Ft_Fifo_GetFreeSpace(host,pFifo),TotalBytes = NumbytetoWrite;
1335:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1336:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(NumbytetoWrite > FreeSpace)
1337:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1338:FT_Eve_Hal/FT_Gpu_Hal.c **** 		/* update the read pointer and get the free space */
1339:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Fifo_Update(host,pFifo);
1340:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = Ft_Fifo_GetFreeSpace(host,pFifo);
1341:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1342:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if(NumbytetoWrite > FreeSpace)
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 70


1343:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
1344:FT_Eve_Hal/FT_Gpu_Hal.c **** 			TotalBytes = FreeSpace;
1345:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
1346:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1347:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1348:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* sanity check */
1349:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(TotalBytes <= 0)
1350:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1351:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//printf("no space in fifo write %d %d %d %d\n",TotalBytes,FreeSpace,pFifo->fifo_wp,pFifo->fifo_r
1352:FT_Eve_Hal/FT_Gpu_Hal.c **** 		return 0;//error condition
1353:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1354:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* check for the loopback conditions */
1355:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(pFifo->fifo_wp + TotalBytes >= pFifo->fifo_len)
1356:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1357:FT_Eve_Hal/FT_Gpu_Hal.c **** 		ft_uint32_t partialchunk = pFifo->fifo_len - pFifo->fifo_wp,secpartialchunk = TotalBytes - partia
1358:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1359:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WrMem(host,pFifo->fifo_buff + pFifo->fifo_wp,buffer,partialchunk);
1360:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if(secpartialchunk > 0)
1361:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
1362:FT_Eve_Hal/FT_Gpu_Hal.c **** 			Ft_Gpu_Hal_WrMem(host,pFifo->fifo_buff,buffer + partialchunk,secpartialchunk);
1363:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
1364:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pFifo->fifo_wp = secpartialchunk;
1365:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//printf("partial chunks %d %d %d %d\n",partialchunk,secpartialchunk,pFifo->fifo_wp,pFifo->fifo_r
1366:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1367:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1368:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
1369:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1370:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_WrMem(host,pFifo->fifo_buff + pFifo->fifo_wp,buffer,TotalBytes);
1371:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pFifo->fifo_wp += TotalBytes;
1372:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1373:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1374:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* update the write pointer address in write register */
1375:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr32(host,pFifo->HW_Write_Reg,pFifo->fifo_wp);
1376:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1377:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return TotalBytes;
1378:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1379:FT_Eve_Hal/FT_Gpu_Hal.c **** //just write one word and update the write register
1380:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_Write32(Ft_Gpu_Hal_Context_t *host,Ft_Fifo_t *pFifo,ft_uint32_t WriteWord)
1381:FT_Eve_Hal/FT_Gpu_Hal.c **** {
1382:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Fifo_Write(host,pFifo,(ft_uint8_t *)&WriteWord,4);
1383:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1384:FT_Eve_Hal/FT_Gpu_Hal.c **** //write and wait for the fifo to be empty. handle cases even if the Numbytes are more than freespac
1385:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t Ft_Fifo_WriteWait(Ft_Gpu_Hal_Context_t *host,Ft_Fifo_t *pFifo,ft_uint8_t *buffer,ft_uint3
1386:FT_Eve_Hal/FT_Gpu_Hal.c **** {
1387:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t TotalBytes = Numbyte,currchunk = 0,FreeSpace;
1388:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t *pbuff = buffer;
1389:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* blocking call, manage to check for the error case and break in case of error */
1390:FT_Eve_Hal/FT_Gpu_Hal.c **** 	while(TotalBytes > 0)
1391:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1392:FT_Eve_Hal/FT_Gpu_Hal.c **** 		currchunk = TotalBytes;
1393:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = Ft_Fifo_GetFreeSpace(host,pFifo);
1394:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if(currchunk > FreeSpace)
1395:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
1396:FT_Eve_Hal/FT_Gpu_Hal.c **** 			currchunk = FreeSpace;
1397:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
1398:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1399:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Fifo_Write(host,pFifo,pbuff,currchunk);
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 71


1400:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pbuff += currchunk;
1401:FT_Eve_Hal/FT_Gpu_Hal.c **** 		TotalBytes -= currchunk;
1402:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1403:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1404:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1405:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1406:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1407:FT_Eve_Hal/FT_Gpu_Hal.c **** #if defined(FT900_PLATFORM)
1408:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_void_t getFlashTextString(char __flash__ *str, ft_uchar8_t *destArray, ft_uint16_t numOfChars){
1409:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint16_t i;
1410:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for(i=0;i<numOfChars;i++)
1411:FT_Eve_Hal/FT_Gpu_Hal.c **** 		destArray[i] = str[i];
1412:FT_Eve_Hal/FT_Gpu_Hal.c **** }
1413:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1414:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1415:FT_Eve_Hal/FT_Gpu_Hal.c **** //get the free space in the fifo - make sure the return value is maximum of (LENGTH - 4)
1416:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Fifo_GetFreeSpace(Ft_Gpu_Hal_Context_t *host,Ft_Fifo_t *pFifo)
1417:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2594              		.loc 1 1417 0
 2595              		.cfi_startproc
 2596              		@ args = 0, pretend = 0, frame = 0
 2597              		@ frame_needed = 0, uses_anonymous_args = 0
 2598              	.LVL333:
 2599 0000 10B5     		push	{r4, lr}
 2600              	.LCFI55:
 2601              		.cfi_def_cfa_offset 8
 2602              		.cfi_offset 4, -8
 2603              		.cfi_offset 14, -4
 2604 0002 0C46     		mov	r4, r1
 2605              	.LVL334:
1418:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t FreeSpace = 0;
1419:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1420:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Fifo_Update(host,pFifo);
 2606              		.loc 1 1420 0
 2607 0004 FFF7FEFF 		bl	Ft_Fifo_Update
 2608              	.LVL335:
1421:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1422:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(pFifo->fifo_wp >= pFifo->fifo_rp)
 2609              		.loc 1 1422 0
 2610 0008 A368     		ldr	r3, [r4, #8]
 2611 000a E068     		ldr	r0, [r4, #12]
 2612 000c 8342     		cmp	r3, r0
 2613 000e 06DB     		blt	.L197
1423:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1424:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = pFifo->fifo_len - pFifo->fifo_wp + pFifo->fifo_rp;
 2614              		.loc 1 1424 0
 2615 0010 6268     		ldr	r2, [r4, #4]
 2616 0012 D31A     		subs	r3, r2, r3
 2617 0014 1844     		add	r0, r0, r3
 2618              	.LVL336:
 2619              	.L198:
1425:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1426:FT_Eve_Hal/FT_Gpu_Hal.c **** 	else
1427:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1428:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = pFifo->fifo_rp - pFifo->fifo_wp;
1429:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1430:FT_Eve_Hal/FT_Gpu_Hal.c **** 
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 72


1431:FT_Eve_Hal/FT_Gpu_Hal.c **** 	if(FreeSpace >= 4)
 2620              		.loc 1 1431 0
 2621 0016 0328     		cmp	r0, #3
 2622 0018 00D9     		bls	.L196
1432:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1433:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace -= 4;//make sure 1 word space is maintained between rd and wr pointers
 2623              		.loc 1 1433 0
 2624 001a 0438     		subs	r0, r0, #4
 2625              	.LVL337:
 2626              	.L196:
1434:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1435:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return FreeSpace;
1436:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2627              		.loc 1 1436 0
 2628 001c 10BD     		pop	{r4, pc}
 2629              	.LVL338:
 2630              	.L197:
1428:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 2631              		.loc 1 1428 0
 2632 001e C01A     		subs	r0, r0, r3
 2633              	.LVL339:
 2634 0020 F9E7     		b	.L198
 2635              		.cfi_endproc
 2636              	.LFE191:
 2638              		.section	.text.Ft_Fifo_Write,"ax",%progbits
 2639              		.align	1
 2640              		.global	Ft_Fifo_Write
 2641              		.syntax unified
 2642              		.thumb
 2643              		.thumb_func
 2644              		.fpu fpv5-sp-d16
 2646              	Ft_Fifo_Write:
 2647              	.LFB188:
1333:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t FreeSpace = Ft_Fifo_GetFreeSpace(host,pFifo),TotalBytes = NumbytetoWrite;
 2648              		.loc 1 1333 0
 2649              		.cfi_startproc
 2650              		@ args = 0, pretend = 0, frame = 0
 2651              		@ frame_needed = 0, uses_anonymous_args = 0
 2652              	.LVL340:
 2653 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2654              	.LCFI56:
 2655              		.cfi_def_cfa_offset 32
 2656              		.cfi_offset 3, -32
 2657              		.cfi_offset 4, -28
 2658              		.cfi_offset 5, -24
 2659              		.cfi_offset 6, -20
 2660              		.cfi_offset 7, -16
 2661              		.cfi_offset 8, -12
 2662              		.cfi_offset 9, -8
 2663              		.cfi_offset 14, -4
 2664 0004 0646     		mov	r6, r0
 2665 0006 0D46     		mov	r5, r1
 2666 0008 9046     		mov	r8, r2
 2667 000a 1C46     		mov	r4, r3
1334:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 2668              		.loc 1 1334 0
 2669 000c FFF7FEFF 		bl	Ft_Fifo_GetFreeSpace
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 73


 2670              	.LVL341:
1336:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2671              		.loc 1 1336 0
 2672 0010 A042     		cmp	r0, r4
 2673 0012 1CD3     		bcc	.L209
 2674              	.LVL342:
 2675              	.L202:
1349:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2676              		.loc 1 1349 0
 2677 0014 C4B1     		cbz	r4, .L203
1355:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2678              		.loc 1 1355 0
 2679 0016 A968     		ldr	r1, [r5, #8]
 2680 0018 0A19     		adds	r2, r1, r4
 2681 001a 6F68     		ldr	r7, [r5, #4]
 2682 001c BA42     		cmp	r2, r7
 2683 001e 2AD3     		bcc	.L204
 2684              	.LBB8:
1357:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 2685              		.loc 1 1357 0
 2686 0020 7F1A     		subs	r7, r7, r1
 2687              	.LVL343:
 2688 0022 A4EB0709 		sub	r9, r4, r7
 2689              	.LVL344:
1359:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if(secpartialchunk > 0)
 2690              		.loc 1 1359 0
 2691 0026 2868     		ldr	r0, [r5]
 2692              	.LVL345:
 2693 0028 3B46     		mov	r3, r7
 2694 002a 4246     		mov	r2, r8
 2695 002c 0144     		add	r1, r1, r0
 2696 002e 3046     		mov	r0, r6
 2697 0030 FFF7FEFF 		bl	Ft_Gpu_Hal_WrMem
 2698              	.LVL346:
1360:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 2699              		.loc 1 1360 0
 2700 0034 B9F1000F 		cmp	r9, #0
 2701 0038 15D1     		bne	.L210
 2702              	.L205:
1364:FT_Eve_Hal/FT_Gpu_Hal.c **** 		//printf("partial chunks %d %d %d %d\n",partialchunk,secpartialchunk,pFifo->fifo_wp,pFifo->fifo_r
 2703              		.loc 1 1364 0
 2704 003a C5F80890 		str	r9, [r5, #8]
 2705              	.LVL347:
 2706              	.L206:
 2707              	.LBE8:
1375:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 2708              		.loc 1 1375 0
 2709 003e AA68     		ldr	r2, [r5, #8]
 2710 0040 6969     		ldr	r1, [r5, #20]
 2711 0042 3046     		mov	r0, r6
 2712 0044 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr32
 2713              	.LVL348:
 2714              	.L203:
1378:FT_Eve_Hal/FT_Gpu_Hal.c **** //just write one word and update the write register
 2715              		.loc 1 1378 0
 2716 0048 2046     		mov	r0, r4
 2717 004a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 74


 2718              	.LVL349:
 2719              	.L209:
1339:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = Ft_Fifo_GetFreeSpace(host,pFifo);
 2720              		.loc 1 1339 0
 2721 004e 2946     		mov	r1, r5
 2722 0050 3046     		mov	r0, r6
 2723              	.LVL350:
 2724 0052 FFF7FEFF 		bl	Ft_Fifo_Update
 2725              	.LVL351:
1340:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 2726              		.loc 1 1340 0
 2727 0056 2946     		mov	r1, r5
 2728 0058 3046     		mov	r0, r6
 2729 005a FFF7FEFF 		bl	Ft_Fifo_GetFreeSpace
 2730              	.LVL352:
1342:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 2731              		.loc 1 1342 0
 2732 005e 8442     		cmp	r4, r0
 2733 0060 D8D9     		bls	.L202
1344:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 2734              		.loc 1 1344 0
 2735 0062 0446     		mov	r4, r0
 2736              	.LVL353:
 2737 0064 D6E7     		b	.L202
 2738              	.LVL354:
 2739              	.L210:
 2740              	.LBB9:
1362:FT_Eve_Hal/FT_Gpu_Hal.c **** 		}
 2741              		.loc 1 1362 0
 2742 0066 4B46     		mov	r3, r9
 2743 0068 08EB0702 		add	r2, r8, r7
 2744 006c 2968     		ldr	r1, [r5]
 2745 006e 3046     		mov	r0, r6
 2746 0070 FFF7FEFF 		bl	Ft_Gpu_Hal_WrMem
 2747              	.LVL355:
 2748 0074 E1E7     		b	.L205
 2749              	.LVL356:
 2750              	.L204:
 2751              	.LBE9:
1370:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pFifo->fifo_wp += TotalBytes;
 2752              		.loc 1 1370 0
 2753 0076 2868     		ldr	r0, [r5]
 2754              	.LVL357:
 2755 0078 2346     		mov	r3, r4
 2756 007a 4246     		mov	r2, r8
 2757 007c 0144     		add	r1, r1, r0
 2758 007e 3046     		mov	r0, r6
 2759 0080 FFF7FEFF 		bl	Ft_Gpu_Hal_WrMem
 2760              	.LVL358:
1371:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
 2761              		.loc 1 1371 0
 2762 0084 AB68     		ldr	r3, [r5, #8]
 2763 0086 2344     		add	r3, r3, r4
 2764 0088 AB60     		str	r3, [r5, #8]
 2765 008a D8E7     		b	.L206
 2766              		.cfi_endproc
 2767              	.LFE188:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 75


 2769              		.section	.text.Ft_Fifo_Write32,"ax",%progbits
 2770              		.align	1
 2771              		.global	Ft_Fifo_Write32
 2772              		.syntax unified
 2773              		.thumb
 2774              		.thumb_func
 2775              		.fpu fpv5-sp-d16
 2777              	Ft_Fifo_Write32:
 2778              	.LFB189:
1381:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Fifo_Write(host,pFifo,(ft_uint8_t *)&WriteWord,4);
 2779              		.loc 1 1381 0
 2780              		.cfi_startproc
 2781              		@ args = 0, pretend = 0, frame = 8
 2782              		@ frame_needed = 0, uses_anonymous_args = 0
 2783              	.LVL359:
 2784 0000 10B5     		push	{r4, lr}
 2785              	.LCFI57:
 2786              		.cfi_def_cfa_offset 8
 2787              		.cfi_offset 4, -8
 2788              		.cfi_offset 14, -4
 2789 0002 82B0     		sub	sp, sp, #8
 2790              	.LCFI58:
 2791              		.cfi_def_cfa_offset 16
 2792 0004 02AC     		add	r4, sp, #8
 2793 0006 44F8042D 		str	r2, [r4, #-4]!
1382:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2794              		.loc 1 1382 0
 2795 000a 0423     		movs	r3, #4
 2796 000c 2246     		mov	r2, r4
 2797              	.LVL360:
 2798 000e FFF7FEFF 		bl	Ft_Fifo_Write
 2799              	.LVL361:
1383:FT_Eve_Hal/FT_Gpu_Hal.c **** //write and wait for the fifo to be empty. handle cases even if the Numbytes are more than freespac
 2800              		.loc 1 1383 0
 2801 0012 02B0     		add	sp, sp, #8
 2802              	.LCFI59:
 2803              		.cfi_def_cfa_offset 8
 2804              		@ sp needed
 2805 0014 10BD     		pop	{r4, pc}
 2806              		.cfi_endproc
 2807              	.LFE189:
 2809              		.section	.text.Ft_Fifo_WriteWait,"ax",%progbits
 2810              		.align	1
 2811              		.global	Ft_Fifo_WriteWait
 2812              		.syntax unified
 2813              		.thumb
 2814              		.thumb_func
 2815              		.fpu fpv5-sp-d16
 2817              	Ft_Fifo_WriteWait:
 2818              	.LFB190:
1386:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t TotalBytes = Numbyte,currchunk = 0,FreeSpace;
 2819              		.loc 1 1386 0
 2820              		.cfi_startproc
 2821              		@ args = 0, pretend = 0, frame = 0
 2822              		@ frame_needed = 0, uses_anonymous_args = 0
 2823              	.LVL362:
 2824 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 76


 2825              	.LCFI60:
 2826              		.cfi_def_cfa_offset 24
 2827              		.cfi_offset 4, -24
 2828              		.cfi_offset 5, -20
 2829              		.cfi_offset 6, -16
 2830              		.cfi_offset 7, -12
 2831              		.cfi_offset 8, -8
 2832              		.cfi_offset 14, -4
 2833 0004 8046     		mov	r8, r0
 2834 0006 0F46     		mov	r7, r1
 2835 0008 1646     		mov	r6, r2
 2836 000a 1D46     		mov	r5, r3
 2837              	.LVL363:
1390:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2838              		.loc 1 1390 0
 2839 000c 07E0     		b	.L214
 2840              	.LVL364:
 2841              	.L215:
1399:FT_Eve_Hal/FT_Gpu_Hal.c **** 		pbuff += currchunk;
 2842              		.loc 1 1399 0
 2843 000e 2346     		mov	r3, r4
 2844 0010 3246     		mov	r2, r6
 2845 0012 3946     		mov	r1, r7
 2846 0014 4046     		mov	r0, r8
 2847              	.LVL365:
 2848 0016 FFF7FEFF 		bl	Ft_Fifo_Write
 2849              	.LVL366:
1400:FT_Eve_Hal/FT_Gpu_Hal.c **** 		TotalBytes -= currchunk;
 2850              		.loc 1 1400 0
 2851 001a 2644     		add	r6, r6, r4
 2852              	.LVL367:
1401:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 2853              		.loc 1 1401 0
 2854 001c 2D1B     		subs	r5, r5, r4
 2855              	.LVL368:
 2856              	.L214:
1390:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2857              		.loc 1 1390 0
 2858 001e 45B1     		cbz	r5, .L218
 2859              	.LVL369:
1393:FT_Eve_Hal/FT_Gpu_Hal.c **** 		if(currchunk > FreeSpace)
 2860              		.loc 1 1393 0
 2861 0020 3946     		mov	r1, r7
 2862 0022 4046     		mov	r0, r8
 2863 0024 FFF7FEFF 		bl	Ft_Fifo_GetFreeSpace
 2864              	.LVL370:
 2865 0028 0446     		mov	r4, r0
 2866              	.LVL371:
1394:FT_Eve_Hal/FT_Gpu_Hal.c **** 		{
 2867              		.loc 1 1394 0
 2868 002a 8542     		cmp	r5, r0
 2869 002c EFD8     		bhi	.L215
1392:FT_Eve_Hal/FT_Gpu_Hal.c **** 		FreeSpace = Ft_Fifo_GetFreeSpace(host,pFifo);
 2870              		.loc 1 1392 0
 2871 002e 2C46     		mov	r4, r5
 2872 0030 EDE7     		b	.L215
 2873              	.LVL372:
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 77


 2874              	.L218:
1405:FT_Eve_Hal/FT_Gpu_Hal.c **** 
 2875              		.loc 1 1405 0
 2876 0032 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2877              		.cfi_endproc
 2878              	.LFE190:
 2880              		.section	.text.Ft_Gpu_CurrentFrequency,"ax",%progbits
 2881              		.align	1
 2882              		.global	Ft_Gpu_CurrentFrequency
 2883              		.syntax unified
 2884              		.thumb
 2885              		.thumb_func
 2886              		.fpu fpv5-sp-d16
 2888              	Ft_Gpu_CurrentFrequency:
 2889              	.LFB192:
1437:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1438:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1439:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1440:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_uint32_t Ft_Gpu_CurrentFrequency(Ft_Gpu_Hal_Context_t *host)
1441:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2890              		.loc 1 1441 0
 2891              		.cfi_startproc
 2892              		@ args = 0, pretend = 0, frame = 0
 2893              		@ frame_needed = 0, uses_anonymous_args = 0
 2894              	.LVL373:
 2895 0000 70B5     		push	{r4, r5, r6, lr}
 2896              	.LCFI61:
 2897              		.cfi_def_cfa_offset 16
 2898              		.cfi_offset 4, -16
 2899              		.cfi_offset 5, -12
 2900              		.cfi_offset 6, -8
 2901              		.cfi_offset 14, -4
 2902 0002 0646     		mov	r6, r0
 2903              	.LVL374:
1442:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t t0, t1;
1443:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t addr = REG_CLOCK;
1444:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t spidata[4];
1445:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_int32_t r = 15625;
1446:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1447:FT_Eve_Hal/FT_Gpu_Hal.c **** 	t0 = Ft_Gpu_Hal_Rd32(host,REG_CLOCK); /* t0 read */
 2904              		.loc 1 1447 0
 2905 0004 054D     		ldr	r5, .L221
 2906 0006 2946     		mov	r1, r5
 2907 0008 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd32
 2908              	.LVL375:
 2909 000c 0446     		mov	r4, r0
 2910              	.LVL376:
1448:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1449:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef FT900_PLATFORM
1450:FT_Eve_Hal/FT_Gpu_Hal.c **** 	__asm__
1451:FT_Eve_Hal/FT_Gpu_Hal.c **** 	(
1452:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   move.l  $r0,%0"             "\n\t"
1453:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   mul.l   $r0,$r0,100"                                                  "\n\t"
1454:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"1:"               "\n\t"
1455:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   sub.l   $r0,$r0,3"          "\n\t" /* Subtract the loop time = 4 cycles */
1456:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   cmp.l   $r0,0"              "\n\t" /* Check that the counter is equal to 0 */
1457:FT_Eve_Hal/FT_Gpu_Hal.c **** 			"   jmpc    gt, 1b"  "\n\t"
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 78


1458:FT_Eve_Hal/FT_Gpu_Hal.c **** 			/* Outputs */ :
1459:FT_Eve_Hal/FT_Gpu_Hal.c **** 			/* Inputs */  : "r"(r)
1460:FT_Eve_Hal/FT_Gpu_Hal.c **** 			 /* Using */   : "$r0"
1461:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1462:FT_Eve_Hal/FT_Gpu_Hal.c **** 	);
1463:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1464:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//usleep(15625);
1465:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//ft_delay(15625);
1466:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1467:FT_Eve_Hal/FT_Gpu_Hal.c **** #if (defined(MSVC_PLATFORM) || defined(MSVC_FT800EMU))
1468:FT_Eve_Hal/FT_Gpu_Hal.c **** 	//may not be precise
1469:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Sleep(15625/1000);
1470:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1471:FT_Eve_Hal/FT_Gpu_Hal.c **** #ifdef ARDUINO_PLATFORM
1472:FT_Eve_Hal/FT_Gpu_Hal.c **** 	delayMicroseconds(15625);
1473:FT_Eve_Hal/FT_Gpu_Hal.c **** #endif
1474:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1475:FT_Eve_Hal/FT_Gpu_Hal.c **** 	t1 = Ft_Gpu_Hal_Rd32(host,REG_CLOCK); /* t1 read */
 2911              		.loc 1 1475 0
 2912 000e 2946     		mov	r1, r5
 2913 0010 3046     		mov	r0, r6
 2914              	.LVL377:
 2915 0012 FFF7FEFF 		bl	Ft_Gpu_Hal_Rd32
 2916              	.LVL378:
1476:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return ((t1 - t0) * 64); /* bitshift 6 places is the same as multiplying 64 */
 2917              		.loc 1 1476 0
 2918 0016 001B     		subs	r0, r0, r4
 2919              	.LVL379:
1477:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2920              		.loc 1 1477 0
 2921 0018 8001     		lsls	r0, r0, #6
 2922 001a 70BD     		pop	{r4, r5, r6, pc}
 2923              	.LVL380:
 2924              	.L222:
 2925              		.align	2
 2926              	.L221:
 2927 001c 08203000 		.word	3153928
 2928              		.cfi_endproc
 2929              	.LFE192:
 2931              		.section	.text.Ft_Gpu_ClockTrimming,"ax",%progbits
 2932              		.align	1
 2933              		.global	Ft_Gpu_ClockTrimming
 2934              		.syntax unified
 2935              		.thumb
 2936              		.thumb_func
 2937              		.fpu fpv5-sp-d16
 2939              	Ft_Gpu_ClockTrimming:
 2940              	.LFB193:
1478:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1479:FT_Eve_Hal/FT_Gpu_Hal.c **** ft_int32_t Ft_Gpu_ClockTrimming(Ft_Gpu_Hal_Context_t *host,ft_int32_t LowFreq)
1480:FT_Eve_Hal/FT_Gpu_Hal.c **** {
 2941              		.loc 1 1480 0
 2942              		.cfi_startproc
 2943              		@ args = 0, pretend = 0, frame = 0
 2944              		@ frame_needed = 0, uses_anonymous_args = 0
 2945              	.LVL381:
 2946 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 79


 2947              	.LCFI62:
 2948              		.cfi_def_cfa_offset 24
 2949              		.cfi_offset 3, -24
 2950              		.cfi_offset 4, -20
 2951              		.cfi_offset 5, -16
 2952              		.cfi_offset 6, -12
 2953              		.cfi_offset 7, -8
 2954              		.cfi_offset 14, -4
 2955 0002 0646     		mov	r6, r0
 2956 0004 0F46     		mov	r7, r1
 2957              	.LVL382:
1481:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint32_t f;
1482:FT_Eve_Hal/FT_Gpu_Hal.c **** 	ft_uint8_t i;
1483:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1484:FT_Eve_Hal/FT_Gpu_Hal.c **** 	/* Trim the internal clock by increase the REG_TRIM register till the measured frequency is within
1485:FT_Eve_Hal/FT_Gpu_Hal.c **** 	for (i=0; (i < 31) && ((f= Ft_Gpu_CurrentFrequency(host)) < LowFreq); i++)
 2958              		.loc 1 1485 0
 2959 0006 0024     		movs	r4, #0
 2960 0008 06E0     		b	.L224
 2961              	.LVL383:
 2962              	.L226:
1486:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
1487:FT_Eve_Hal/FT_Gpu_Hal.c **** 		Ft_Gpu_Hal_Wr8(host,REG_TRIM, i);  /* increase the REG_TRIM register value automatically increase
 2963              		.loc 1 1487 0 discriminator 4
 2964 000a 2246     		mov	r2, r4
 2965 000c 0A49     		ldr	r1, .L228
 2966 000e 3046     		mov	r0, r6
 2967              	.LVL384:
 2968 0010 FFF7FEFF 		bl	Ft_Gpu_Hal_Wr8
 2969              	.LVL385:
1485:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2970              		.loc 1 1485 0 discriminator 4
 2971 0014 0134     		adds	r4, r4, #1
 2972              	.LVL386:
 2973 0016 E4B2     		uxtb	r4, r4
 2974              	.LVL387:
 2975              	.L224:
1485:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2976              		.loc 1 1485 0 is_stmt 0 discriminator 1
 2977 0018 1E2C     		cmp	r4, #30
 2978 001a 05D8     		bhi	.L225
1485:FT_Eve_Hal/FT_Gpu_Hal.c **** 	{
 2979              		.loc 1 1485 0 discriminator 3
 2980 001c 3046     		mov	r0, r6
 2981 001e FFF7FEFF 		bl	Ft_Gpu_CurrentFrequency
 2982              	.LVL388:
 2983 0022 0546     		mov	r5, r0
 2984              	.LVL389:
 2985 0024 8742     		cmp	r7, r0
 2986 0026 F0D8     		bhi	.L226
 2987              	.LVL390:
 2988              	.L225:
1488:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1489:FT_Eve_Hal/FT_Gpu_Hal.c **** 	}
1490:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1491:FT_Eve_Hal/FT_Gpu_Hal.c **** 	Ft_Gpu_Hal_Wr32(host,REG_FREQUENCY,f);  /* Set the final frequency to be used for internal operati
 2989              		.loc 1 1491 0 is_stmt 1
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 80


 2990 0028 2A46     		mov	r2, r5
 2991 002a 0449     		ldr	r1, .L228+4
 2992 002c 3046     		mov	r0, r6
 2993 002e FFF7FEFF 		bl	Ft_Gpu_Hal_Wr32
 2994              	.LVL391:
1492:FT_Eve_Hal/FT_Gpu_Hal.c **** 
1493:FT_Eve_Hal/FT_Gpu_Hal.c **** 	return f;
1494:FT_Eve_Hal/FT_Gpu_Hal.c **** }
 2995              		.loc 1 1494 0
 2996 0032 2846     		mov	r0, r5
 2997 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2998              	.LVL392:
 2999              	.L229:
 3000 0036 00BF     		.align	2
 3001              	.L228:
 3002 0038 80213000 		.word	3154304
 3003 003c 0C203000 		.word	3153932
 3004              		.cfi_endproc
 3005              	.LFE193:
 3007              		.comm	hspi1,100,4
 3008              		.text
 3009              	.Letext0:
 3010              		.file 2 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/machine/_default_types
 3011              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/lock.h"
 3012              		.file 4 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/_types.h"
 3013              		.file 5 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h
 3014              		.file 6 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/_stdint.h"
 3015              		.file 7 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/unistd.h"
 3016              		.file 8 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/sys/reent.h"
 3017              		.file 9 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/stdlib.h"
 3018              		.file 10 "FT_Eve_Hal/FT_DataTypes.h"
 3019              		.file 11 "FT_Eve_Hal/FT_Gpu_Hal.h"
 3020              		.file 12 "Drivers/CMSIS/Include/core_cm7.h"
 3021              		.file 13 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 3022              		.file 14 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 3023              		.file 15 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 3024              		.file 16 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 3025              		.file 17 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 3026              		.file 18 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_spi.h"
 3027              		.file 19 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 3028              		.file 20 "/usr/local/Cellar/arm-none-eabi-gcc/20180627/arm-none-eabi/include/string.h"
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 81


DEFINED SYMBOLS
                            *ABS*:0000000000000000 FT_Gpu_Hal.c
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:18     .text.Ft_Gpu_Hal_Init:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:25     .text.Ft_Gpu_Hal_Init:0000000000000000 Ft_Gpu_Hal_Init
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:42     .text.Ft_Gpu_Hal_Open:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:49     .text.Ft_Gpu_Hal_Open:0000000000000000 Ft_Gpu_Hal_Open
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:76     .text.Ft_Gpu_Hal_Close:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:83     .text.Ft_Gpu_Hal_Close:0000000000000000 Ft_Gpu_Hal_Close
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:100    .text.Ft_Gpu_Hal_DeInit:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:107    .text.Ft_Gpu_Hal_DeInit:0000000000000000 Ft_Gpu_Hal_DeInit
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:120    .text.Ft_Gpu_Hal_StartTransfer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:127    .text.Ft_Gpu_Hal_StartTransfer:0000000000000000 Ft_Gpu_Hal_StartTransfer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:263    .text.Ft_Gpu_Hal_StartTransfer:0000000000000098 $d
                            *COM*:0000000000000064 hspi1
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:269    .text.Ft_Gpu_Hal_StartCmdTransfer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:276    .text.Ft_Gpu_Hal_StartCmdTransfer:0000000000000000 Ft_Gpu_Hal_StartCmdTransfer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:300    .text.Ft_Gpu_Hal_Transfer8:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:307    .text.Ft_Gpu_Hal_Transfer8:0000000000000000 Ft_Gpu_Hal_Transfer8
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:358    .text.Ft_Gpu_Hal_Transfer8:0000000000000030 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:363    .text.Ft_Gpu_Hal_TransferString:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:370    .text.Ft_Gpu_Hal_TransferString:0000000000000000 Ft_Gpu_Hal_TransferString
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:423    .text.Ft_Gpu_Hal_Transfer16:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:430    .text.Ft_Gpu_Hal_Transfer16:0000000000000000 Ft_Gpu_Hal_Transfer16
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:488    .text.Ft_Gpu_Hal_Transfer32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:495    .text.Ft_Gpu_Hal_Transfer32:0000000000000000 Ft_Gpu_Hal_Transfer32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:553    .text.Ft_Gpu_Hal_EndTransfer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:560    .text.Ft_Gpu_Hal_EndTransfer:0000000000000000 Ft_Gpu_Hal_EndTransfer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:589    .text.Ft_Gpu_Hal_EndTransfer:0000000000000014 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:594    .text.Ft_Gpu_Hal_Rd8:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:601    .text.Ft_Gpu_Hal_Rd8:0000000000000000 Ft_Gpu_Hal_Rd8
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:631    .text.Ft_Gpu_Hal_Rd16:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:638    .text.Ft_Gpu_Hal_Rd16:0000000000000000 Ft_Gpu_Hal_Rd16
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:677    .text.Ft_Gpu_Hal_Rd32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:684    .text.Ft_Gpu_Hal_Rd32:0000000000000000 Ft_Gpu_Hal_Rd32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:724    .text.Ft_Gpu_Hal_Wr8:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:731    .text.Ft_Gpu_Hal_Wr8:0000000000000000 Ft_Gpu_Hal_Wr8
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:769    .text.Ft_Gpu_Hal_Wr16:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:776    .text.Ft_Gpu_Hal_Wr16:0000000000000000 Ft_Gpu_Hal_Wr16
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:814    .text.Ft_Gpu_Hal_Wr32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:821    .text.Ft_Gpu_Hal_Wr32:0000000000000000 Ft_Gpu_Hal_Wr32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:859    .text.Ft_Gpu_HostCommand:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:866    .text.Ft_Gpu_HostCommand:0000000000000000 Ft_Gpu_HostCommand
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:933    .text.Ft_Gpu_HostCommand:0000000000000040 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:939    .text.Ft_Gpu_ClockSelect:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:946    .text.Ft_Gpu_ClockSelect:0000000000000000 Ft_Gpu_ClockSelect
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:967    .text.Ft_Gpu_PLL_FreqSelect:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:974    .text.Ft_Gpu_PLL_FreqSelect:0000000000000000 Ft_Gpu_PLL_FreqSelect
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:995    .text.Ft_Gpu_PowerModeSwitch:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1002   .text.Ft_Gpu_PowerModeSwitch:0000000000000000 Ft_Gpu_PowerModeSwitch
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1023   .text.Ft_Gpu_CoreReset:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1030   .text.Ft_Gpu_CoreReset:0000000000000000 Ft_Gpu_CoreReset
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1052   .text.Ft_Gpu_HostCommand_Ext3:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1059   .text.Ft_Gpu_HostCommand_Ext3:0000000000000000 Ft_Gpu_HostCommand_Ext3
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1129   .text.Ft_Gpu_HostCommand_Ext3:000000000000004c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1135   .text.Ft_Gpu_81X_SelectSysCLK:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1142   .text.Ft_Gpu_81X_SelectSysCLK:0000000000000000 Ft_Gpu_81X_SelectSysCLK
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1228   .text.Ft_GPU_81X_PowerOffComponents:0000000000000000 $t
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 82


/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1235   .text.Ft_GPU_81X_PowerOffComponents:0000000000000000 Ft_GPU_81X_PowerOffComponents
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1259   .text.Ft_GPU_81X_PadDriveStrength:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1266   .text.Ft_GPU_81X_PadDriveStrength:0000000000000000 Ft_GPU_81X_PadDriveStrength
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1291   .text.Ft_Gpu_81X_ResetActive:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1298   .text.Ft_Gpu_81X_ResetActive:0000000000000000 Ft_Gpu_81X_ResetActive
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1320   .text.Ft_Gpu_81X_ResetRemoval:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1327   .text.Ft_Gpu_81X_ResetRemoval:0000000000000000 Ft_Gpu_81X_ResetRemoval
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1349   .text.Ft_Gpu_Hal_Updatecmdfifo:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1356   .text.Ft_Gpu_Hal_Updatecmdfifo:0000000000000000 Ft_Gpu_Hal_Updatecmdfifo
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1388   .text.Ft_Gpu_Hal_Updatecmdfifo:0000000000000020 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1393   .text.Ft_Gpu_Cmdfifo_Freespace:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1400   .text.Ft_Gpu_Cmdfifo_Freespace:0000000000000000 Ft_Gpu_Cmdfifo_Freespace
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1431   .text.Ft_Gpu_Cmdfifo_Freespace:000000000000001c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1436   .text.Ft_Gpu_Hal_CheckCmdBuffer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1443   .text.Ft_Gpu_Hal_CheckCmdBuffer:0000000000000000 Ft_Gpu_Hal_CheckCmdBuffer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1474   .text.Ft_Gpu_Hal_WaitCmdfifo_empty:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1481   .text.Ft_Gpu_Hal_WaitCmdfifo_empty:0000000000000000 Ft_Gpu_Hal_WaitCmdfifo_empty
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1522   .text.Ft_Gpu_Hal_WaitCmdfifo_empty:0000000000000028 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1528   .text.Ft_Gpu_Hal_WrCmdBuf:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1535   .text.Ft_Gpu_Hal_WrCmdBuf:0000000000000000 Ft_Gpu_Hal_WrCmdBuf
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1634   .text.Ft_Gpu_Hal_WrCmdBuf_nowait:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1641   .text.Ft_Gpu_Hal_WrCmdBuf_nowait:0000000000000000 Ft_Gpu_Hal_WrCmdBuf_nowait
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1741   .text.Ft_Gpu_Hal_WaitCmdfifo_empty_status:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1748   .text.Ft_Gpu_Hal_WaitCmdfifo_empty_status:0000000000000000 Ft_Gpu_Hal_WaitCmdfifo_empty_status
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1793   .text.Ft_Gpu_Hal_WaitCmdfifo_empty_status:000000000000002c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1799   .text.Ft_Gpu_Hal_WaitLogo_Finish:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1806   .text.Ft_Gpu_Hal_WaitLogo_Finish:0000000000000000 Ft_Gpu_Hal_WaitLogo_Finish
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1851   .text.Ft_Gpu_Hal_WaitLogo_Finish:0000000000000028 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1857   .text.Ft_Gpu_Hal_ResetCmdFifo:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1864   .text.Ft_Gpu_Hal_ResetCmdFifo:0000000000000000 Ft_Gpu_Hal_ResetCmdFifo
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1881   .text.Ft_Gpu_Hal_WrCmd32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1888   .text.Ft_Gpu_Hal_WrCmd32:0000000000000000 Ft_Gpu_Hal_WrCmd32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1927   .text.Ft_Gpu_Hal_ResetDLBuffer:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1934   .text.Ft_Gpu_Hal_ResetDLBuffer:0000000000000000 Ft_Gpu_Hal_ResetDLBuffer
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1951   .text.Ft_Gpu_Hal_Powercycle:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:1958   .text.Ft_Gpu_Hal_Powercycle:0000000000000000 Ft_Gpu_Hal_Powercycle
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2027   .text.Ft_Gpu_Hal_Powercycle:000000000000004c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2032   .text.Ft_Gpu_Hal_WrMemFromFlash:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2039   .text.Ft_Gpu_Hal_WrMemFromFlash:0000000000000000 Ft_Gpu_Hal_WrMemFromFlash
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2094   .text.Ft_Gpu_Hal_WrMem:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2101   .text.Ft_Gpu_Hal_WrMem:0000000000000000 Ft_Gpu_Hal_WrMem
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2156   .text.Ft_Gpu_Hal_RdMem:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2163   .text.Ft_Gpu_Hal_RdMem:0000000000000000 Ft_Gpu_Hal_RdMem
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2219   .text.Ft_Gpu_Hal_Dec2Ascii:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2226   .text.Ft_Gpu_Hal_Dec2Ascii:0000000000000000 Ft_Gpu_Hal_Dec2Ascii
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2359   .text.Ft_Gpu_Hal_Dec2Ascii:000000000000007c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2364   .text.Ft_Gpu_Hal_Sleep:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2371   .text.Ft_Gpu_Hal_Sleep:0000000000000000 Ft_Gpu_Hal_Sleep
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2392   .text.Ft_Gpu_Hal_SetSPI:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2399   .text.Ft_Gpu_Hal_SetSPI:0000000000000000 Ft_Gpu_Hal_SetSPI
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2465   .text.Ft_Gpu_Hal_SetSPI:0000000000000034 $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2470   .text.ft_millis:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2477   .text.ft_millis:0000000000000000 ft_millis
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2497   .text.ft_millis_exit:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2504   .text.ft_millis_exit:0000000000000000 ft_millis_exit
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2517   .text.Ft_Fifo_Init:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2524   .text.Ft_Fifo_Init:0000000000000000 Ft_Fifo_Init
ARM GAS  /var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s 			page 83


/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2553   .text.Ft_Fifo_Update:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2560   .text.Ft_Fifo_Update:0000000000000000 Ft_Fifo_Update
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2585   .text.Ft_Fifo_GetFreeSpace:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2592   .text.Ft_Fifo_GetFreeSpace:0000000000000000 Ft_Fifo_GetFreeSpace
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2639   .text.Ft_Fifo_Write:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2646   .text.Ft_Fifo_Write:0000000000000000 Ft_Fifo_Write
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2770   .text.Ft_Fifo_Write32:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2777   .text.Ft_Fifo_Write32:0000000000000000 Ft_Fifo_Write32
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2810   .text.Ft_Fifo_WriteWait:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2817   .text.Ft_Fifo_WriteWait:0000000000000000 Ft_Fifo_WriteWait
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2881   .text.Ft_Gpu_CurrentFrequency:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2888   .text.Ft_Gpu_CurrentFrequency:0000000000000000 Ft_Gpu_CurrentFrequency
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2927   .text.Ft_Gpu_CurrentFrequency:000000000000001c $d
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2932   .text.Ft_Gpu_ClockTrimming:0000000000000000 $t
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:2939   .text.Ft_Gpu_ClockTrimming:0000000000000000 Ft_Gpu_ClockTrimming
/var/folders/n8/cvzdcwlj0vl4g_wtyz1ffy300000gn/T//ccMuKqX1.s:3002   .text.Ft_Gpu_ClockTrimming:0000000000000038 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
strlen
HAL_Delay
HAL_GetTick
